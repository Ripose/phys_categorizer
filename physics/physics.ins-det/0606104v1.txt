6
0
0
2
 
n
u
J
 
3
1
 
 
]
t
e
d
-
s
n
i
.
s
c
i
s
y
h
p
[
 
 
1
v
4
0
1
6
0
6
0
/
s
c
i
s
y
h
p
:
v
i
X
r
a

A DEPFET pixel system for the ILC vertex detector

M. Trimpl, M. Koch, R. Kohrs, H. Kr ¨uger, P. Lodomez, L. Reuen, C. Sandow, E. v. T ¨orne, J.J. Velthuis,
N. Wermes
Physikalisches Institut, University of Bonn, Nussallee 12, D-53115 Bonn, Germany
L. Andricek, H.G. Moser, R.H. Richter, G.Lutz
Max-Planck-Institut f ¨ur Physik, F ¨ohringer Ring 6, D-80805 M ¨unchen, Germany
F. Giesen, P. Fischer, I. Peric
Institut f ¨ur Technische Informatik, B 6, 26, D-68131 Mannheim, Germany

We have developed a prototype system for the ILC vertex detector based on DEPFET pixels. The system
operates a 128 × 64 pixel matrix and uses two dedicated microchips, the SWITCHER II chip for matrix steering
and the CURO II chip for readout. The system development has been driven by the ﬁnal ILC requirements
which above all demand a detector thinned to 50 µm and a row wise read out with line rates of 20 MHz and more.
The targeted noise performance for the DEPFET technology is in the range of ENC=100 e−. The functionality
of the system has been demonstrated using diﬀerent radioactive sources in an energy range from 6 keV to 60 keV.
In recent test beam experiments using 6 GeV electrons, a signal-to-noise ratio of S/N ∼ 120 has been achieved
with present sensors being 450 µm thick. For improved DEPFET systems using 50 µm thin sensors in future, a
signal-to-noise of 40 is expected.

1. Introduction

aimed

impact

resolution

parameter

The future International Linear Collider (ILC)
will enter a new era of vertex detection. With
the
of
3
σ (d0) = (3.9 ⊕ 7.8/p · sin
2 θ) µm precision physics
will become possible which complements the discov-
ery potential of the LHC machine. To achieve such
outstanding performance, the ILC vertex detector
requires a row wise operation where all sensor periph-
ery is placed outside the sensitive area and detector
layers that are thinned to 50 µm or even below.
Furthermore, the emerging background rates due to
the high luminosity beam necessitate the readout of
the whole detector in 50 µs which translates into line
rates of 20 MHz and more.

One technological option presently discussed for the
ILC vertex detector is the DEPFET concept. The
basic principle of operation of the DEPFET is il-
lustrated in ﬁgure 1. The DEPFET (abbreviated
DEPleted Field Eﬀect Transistor) [1] combines in-
pixel ampliﬁcation and particle detection by embed-
ding a FET in high-ohmic silicon material. The sensor
is fully depleted due to sidewards depletion from the
backside contact and from the channel implantation

source

ext. gate

drain

bulk

particle

p+

channel

p+

n+

~1(cid:181)m

n

-

-
--

-

-

-

internal gate

+
+

+
+

-
-

-
-

+
+

+
+

-
-

m
(cid:181)
0
5
4

-

n

p+

rear contact

Figure 1: Cross section of a DEPFET pixel illustrating
the basic principle of operation.

jointly. This and additional implantations close to
the detector front side form a potential valley under-
neath the transistor channel. This laterally conﬁned
area is called internal gate, equivalent to the exter-
nal gate of the transistor. Electrons generated by
impinging radiation drift to the internal gate where
they are collected. Hence, the potential of the in-
ternal gate changes due to the collected charge ∆q
and the transistor current is modulated according to
∆ID = gq · ∆q, where gq is called the internal gain of
the DEPFET transistor, equivalent to the transcon-
ductance of the external gate gm. Finally, the sig-
nal charge collected in the internal gate can be de-
termined by measuring the device current. The main
advantages of the DEPFET technology are the fully
depleted bulk that is used for signal generation and
the fact that charge collection is induced by an elec-
tric ﬁeld.

Since the DEPFET concept relies on a backside
contact to provide the fully depletion, new thinning
concepts apart from the standard ones used in mi-
crochip industry need to be explored to fabricate
thin DEPFETs. The present approach for thinning
DEPFET modules is based on wafer bonding technol-
ogy and anisotropic etching. The principle has been
demonstrated by producing thin diode structures [2]
and will be combined with a large scale DEPFET pixel
production in future. The radiation tolerance of the
sensor against ionizing radiation has been shown up
to a dose of 1 MRad using X-rays from a 60Co source
[3].

A principle sketch of one ladder end proposed for a
DEPFET ILC vertex detector is shown in ﬁgure 2.
The sensitive area is thinned to 50 µm keeping a
thicker frame (∼ 300 µm) for mechanical stability and
stiﬀening of the 100 mm long and 13 mm wide lad-
der. The steering chips for row selection and clear-

SNIC Symposium, Stanford, California - 3-6 April, 2006

Figure 2: Sketch of one end of an ILC vertex detector
laddder with thinned sensitive area, supported by a
silicon frame that carries steering and readout chips.

(cid:4)

(cid:4)

(cid:5)(cid:6)

(cid:7)(cid:8)(cid:9)

(cid:10)

(cid:10)

(cid:11)

(cid:13)

2. The DEPFET pixel system

(cid:4)

(cid:14)

(cid:10)

(cid:12)

(cid:2)(cid:3)

(cid:1)

(cid:0)

567 8 79:;<

=>? 8 79:;<

@AB;C<

(cid:15)(cid:16)(cid:17) (cid:18)(cid:19)(cid:20)(cid:21)(cid:22)(cid:23)(cid:24)(cid:21)(cid:25)(cid:25)(cid:26)(cid:24)

/012

_

‘

(cid:16)

)(cid:24)(cid:23))(cid:22)

.

3

]

]

^

^

\

\

"#$ % &’

[

Z

Y

()(cid:23)(cid:24)

%

(cid:28)

[

Z

Y

X

X

W

W

(cid:27)(cid:28)

(cid:29)

(cid:30)(cid:31)

 !

(cid:22)

(cid:21)

(cid:19)

(cid:16)

4(

*

!

*+ ,,

(cid:15)

IJKLMJ N

IJKLMJ N

OP

STT

U QQU Q

L

M

OP

QPR

S

Q

L

K

N

4V

!

,

#(cid:15)

 

(cid:28)

(cid:29)

(cid:24)(cid:21)(cid:23)(cid:26)(cid:20)(cid:23)

(cid:21)(cid:22)(cid:19)(cid:17)(cid:21))(cid:24)

DEF

(cid:28)(cid:29) G

H

(cid:31)

(cid:24)

(cid:21)(cid:25)(cid:23))

(cid:26)

f

b

e

d

c

b

a

 

(cid:30)

(cid:31)-..

(cid:28)

(cid:31)

(cid:21)

(cid:26)(cid:24)

(cid:25)

(cid:26)

Figure 4: Schematic overview of the ILC DEPFET pixel
system.

• The subtraction of two values, as needed for
pedestal subtraction, can be done very accurate
and easily with currents.

As an intermediate step towards a full scale ILC
detector ladder, a prototype system using a 128 × 64
DEPFET pixel matrix has been developed.
A
schematic overview of the system is given in ﬁgure 4.
It consists of three major parts: a USB-board, a DAQ-
Board and a sensor hybrid. The USB-board is based
on USB 2.0 standard and provides the communication
between the system and a PC. The sensor hybrid hosts
the DEPFET pixel matrix and the steering and read-
out chips. The DAQ-Board carries two 14 bit ADCs
for digitization and a SRAM for data storage. Integral
part of the DAQ-Board is a SPARTAN 3 FPGA which
provides the conﬁguration of all chips in the system
and manages the synchronization between the compo-
nents during data acquisition. An external protection
board can be inserted to safeguard the power supply
voltages. A photograph of the DEPFET system is
shown in ﬁgure 5.

Figure 6 shows a close-up view of the chip assembly
on the sensor hybrid. The 128 × 64 pixel DEPFET
matrix is situated in the center. The steering strobes
of the matrix are provided by the SWITCHER II chip
[6] located at both matrix sides. Since a quite high
voltage range of up to 25 V is needed to operate some
matrix designs, the SWITCHER II chip has been fab-
ricated in an AMS high voltage process. Further-
more, the hybrid was designed to be very versatile
so that various diﬀerent matrix types can be oper-
ated. Therefore, steering chips are situated at both
matrix sides. Recent measurements with present ma-
trices show that only one steering chip is needed in
future to take care of matrix steering and clearing.
At the bottom of the matrix the 128 channel readout
chip CURO II [7] is placed. This chip is fabricated in
a 0.25 µm TSMC process and uses radiation tolerant
layout rules [8] whenever possible. It is therefore ex-

Figure 3: Basic principle of a current memory cell [5]
used for signal processing in the readout chip.

ing strobes are situated at the longer side so that
the detector is read out row wise to the ladder ends.
There, readout chips are placed that process all ma-
trix columns in parallel.

Concerning the readout of such a DEPFET ladder,
new concepts have been explored as well [4]. Since the
device signal of the DEPFET is a current, the most
natural way is to adapt the signal processing queue to
the current operation of the device. Therefore, current
memory cells are used in the readout chip for tempo-
ral storage and processing of the signal current. The
basic principle of operation of such a memory cell [5]
is shown in ﬁgure 3. The cell operates as a dynamic
current mirror, where transistor M1 works as the in-
put and output stage depending on the setting of the
diﬀerent switches. Apart from the fact that a direct
signal processing without any current to voltage con-
version is smart, additional advantages of operating
in the current domain exist, upon the most important
ones are:

• The voltage sampled at the gate of the transis-
tor M1 in ﬁgure 3 is not directly proportional
to the signal current. Hence, a higher dynamic
range compared to a voltage sample and hold
can be achieved. This is particularly important
for emerging process technologies with reduced
supply voltage.

0231

SNIC Symposium, Stanford, California - 3-6 April, 2006

Figure 5: Photograph of the ILC DEPFET pixel system consisting of USB communication board, DAQ-Board and
sensor hybrid. An optional protection board is attached at the bottom of the system.

Figure 6: Chip assembly on the sensor hybrid (area
shown ∼ 23 × 15 mm2) carrying the DEPFET matrix in
the middle, two steering chips SWITCHER II at the side
and the readout chip CURO II at the bottom.

pected that the readout chip can sustain the radiation
dose of 200 kRad expected after 5 years operation of
the ILC.

One of the main features of the readout chip are
on-chip pedestal subtraction and zero suppression.
The zero suppression is performed by a scanner which
scans the binary hit pattern in parallel by a tree-like
architecture (the layout of one of the 128 scanner slices
of the tree is shown in ﬁgure 8). Standalone tests with
the present CURO II chip show that the scanner ﬁnds
up to two hits in a 128 channel hit pattern with rates
of more than 100 MHz.

3. Lab Measurements

The system has been used in the lab for X-ray detec-
tion in an energy range from 5.9 keV up to 44.23 keV.

0231

Figure 7: Radiogram of a 2 × 3 mm2 tungsten test chart
taken with 55Fe.

The capability of spatial detection of X-rays has been
demonstrated using a 75 µm thick tungsten test chart
with an engraved logo and several line structures hav-
ing a pitch of 100, 75, 50 and 25 µm (from left to right
respectively). The radiogram of the ∼2 x 3 mm2 large
test chart is shown in ﬁgure 7. The test chart has been
placed on the backside of the detector and the system
has been irradiated with a 55Fe source. The radiogram
has been obtained by summing the pulse heights for
pixels that contain a signal higher than ﬁve times their
noise. Although no spatial reconstruction techniques
have been applied to improve the spatial resolution,
the 50 µm lines in the radiogram are clearly visible.

To determine the internal gain of the DEPFET de-
vice and to measure the linearity of the system, energy
spectra have been taken for Rubidium (Rb), Molyb-
denum (Mo), Silver (Ag), Cadmium (Cd), Barium
(Ba) and Terbium (Tb) provided by a variable X-
ray source [10]. After performing a row-wise common

SNIC Symposium, Stanford, California - 3-6 April, 2006

350

300

250

200

150

100

50

0

NWELL

PDIFF

NDIFF

POLY

CONT

MET1

VIA1

MET5

Figure 8: Layout example of one scanner slice (25 × 80 µm2) using radiation tolerant design rules. The scanner is used
for zero suppression in the readout chip.

Tb

Ba

Signals 3x3

Signal

Background

 

MPV = 1796–3 ADU

(1 ADU ~ 20e

)

-

3500

3000

2500

2000

1500

500

]

A
n
[
 
l
a
n
g
s

i

Ag/Cd

Mo

1000

Rb

10

15

20

35

40

45

25

30
Eg  [keV]

Figure 9: Gain measurement of the DEPFET pixel
system. The sensor response is plotted for diﬀerent
radioactive sources.

mode correction1, clusters are reconstructed by iden-
tifying neighboring pixels, where every pixel contains
a signal higher than ﬁve times its noise. In ﬁgure 9
the mean cluster signal as a function of the charac-
teristic X-ray energy is shown. From the slope of
the system response an internal gain of the DEPFET
sensor of gq = 282.6 ± 3.3 pA/e− is extracted. The
integral-non-linearity (INL) of the system is better
than 0.8 % for a dynamic range of 8500 e−. This range
is large enough for the detection of about 2 MIPs in a
50 µm thin sensor device. The best noise performance
achieved in the lab is around ENC=220 e− at room
temperature. This number is quiet comparable with
the calculated noise performance of ENC ∼ 190 e−,
where thermal noise is identiﬁed as the dominant con-
tribution [9]. However, the total noise needs to be im-
proved by a factor of two to achieve the ﬁnal aim of
around 100 e−. This is within a realistic scope since

1Subtraction of a mean value (common mode) from the pixel
pedestal. The common mode is computed using the pedestals
of each pixel of a row that contain no signal.

0231

0

500 1000 1500 2000 2500 3000 3500 4000

signal(ADU)

Figure 10: Signal distribution for clusters with up to
3 × 3 pixels.

the bandwidth of the present readout and steering
chips have already been designed to cope with the ﬁ-
nal line rate of 20 MHz and an operation of the system
at a much lower temperature than room temperature
may be required at the ILC anyway.

4. Beam Tests

The system has been tested for MIP detection in the
6 GeV electron test beam at the DESY synchrotron.
The analysis of the data is done in the following way:
After pedestal and common mode corrections, clusters
are searched for. Seeds are identiﬁed with a threshold
cut of 5 σ. The seeds are combined with neighboring
pixels if their signal is two times higher than the noise.
The signal distribution for clusters containing a maxi-
mum of 3×3 pixels is shown in ﬁgure 10. The observed
most probable value of about 36000 e− (1796±3 ADU)
obtained by a landau ﬁt complies with the expected
MIP signal in a 450 µm silicon sensor material. The
system noise extracted from the noise peak of the raw

)

%

(
 

y
c
n
e
c

i

i
f
f
e

)

%

(
 
y
t
i
r
u
p

99

98

97

95

100

80

60

40

0

SNIC Symposium, Stanford, California - 3-6 April, 2006

4000

Signal

3500

max. 3x3 Pixel

Background

100

3000

2500

2000

1500

1000

500

0

96

efficiency =

#clusters

#good tracks

0

1

2

3

4

5

6

7

8

9

0

5

10

15

20

25

30

35

40

Clustersize

seed cut (

)

Figure 11: Cluster size distribution for a maximum of
3 × 3 pixels.

Figure 12: Eﬃciency to ﬁnd a track as a function of the
seed cut.

data spectrum is found to be 15.723±0.007 ADU. This
combines to a signal-to-noise ratio of 114.2 ± 0.2. The
observed noise ﬁgure in the test beam (∼ 300 e−) is
higher than the one achieved in the lab. Due to the de-
pendency of the system noise on diﬀerent operational
environments, it is very probable that a signiﬁcant
pick-up is present in the system and that the noise
performance can potentially be improved in future.

The cluster size distribution is shown in ﬁgure 11.
The most probable cluster contains about 5 pixels
only. The relatively small clusters are due to the fact
that charge collection in the DEPFET is done by an
electric ﬁeld and not by thermal diﬀusion. Also shown
in ﬁgure 11 is the cluster size distribution for back-
ground events. The background event distribution is
obtained by repeating the analysis with inverted sig-
nals. It is very likely that the background is due to
out-of-time events2.

Furthermore, eﬃciency and purity for track recon-
struction have been studied. A four plane telescope
system is used to determine the particle tracks. Clus-
ters are searched in the DEPFET matrix within an
area of ±2 pixels around the predicted track position.
The eﬃciency is deﬁned as the ratio of clusters found
in the ﬁducial DEPFET area and the correspond-
ing tracks identiﬁed by the telescope system. Figure
12 shows the eﬃciency as a function of the seed cut
threshold. The observed ineﬃciency in the order of
0.3 % is mostly due to multiple scattering eﬀects in
the low energy electron beam.
(Note, that clusters
are detected in a relatively small area of ±2 pixels.)
To reduce multiple scattering eﬀects, only very stiﬀ
tracks are selected for the analysis by applying a high
χ2 probability cut of 0.9995. This enhances the eﬃ-

20

purity =

#good clusters

#all clusters

0

2

4

6

8

10 12 14 16 180

seed cut (

)

Figure 13: Track purity as a function of the seed cut.

ciency to almost 100 % (> 99.99 %).

The purity deﬁned as the ratio of found good clus-
ters and all clusters is shown in ﬁgure 13 as a function
of the seed cut. The main result of the eﬃciency and
purity study is that an operation at almost 100 % pu-
rity and eﬃciency is achieved by choosing a seed cut
of 5 − 7 σ. Note, that this threshold corresponds to
only ∼ 5 % of a MIP signal.

5. Conclusion and Outlook

A prototype system for the ILC vertex detector
based on DEPFET pixels has been developed. The
system has been successfully used for X-ray and MIP
detection. The current benchmarks of the system are:

• noise performance of about ENC=220 e−

• line rate of 2 MHz

2Events that occur between the clear of the sensor and the

pedestal measurement.

• S/N∼120 for MIPs using a 450 µm sensor

0231

SNIC Symposium, Stanford, California - 3-6 April, 2006

oratory at the MPI Munich supporting the DEPFET
fabrication, and Uli K¨otz and Norbert Meyners for the
invaluable support at DESY.

Hence, to achieve the ILC speciﬁcations the system
needs improvements. The noise performance has to
be improved by a factor of two. Based on calcu-
lations and the experience with the present system
components, we are very conﬁdent that this can be
achieved with the next generation of DEPFET sen-
sors and readout chip. Most importantly, the line rate
needs to be increased by a factor of 10. The single
components of the systems have been approved to a
line rate of more than 20 MHz but the synchronization
of the components needs further optimization.

Concerning position resolution of the DEPFET sen-
sor, the present test beam data yields an upper limit
of 5 µm dominated by multiple scattering eﬀects. A
more precise measurement will be performed in the
high energy test beam at CERN in summer 2006.

Presently, new generations of all system compo-
nents are designed and fabricated. This includes the
production of larger DEPFET matrices up to 512×512
pixels with a pixel size of 25 × 25 µm2.

A new steering chip using a non high voltage process
is designed. It turned out that DEPFET designs with
so called cleargate structures can be cleared at much
lower voltages than expected. The use of a submicron
microchip process is hence possible for the steering
chip as well. This oﬀers a much better radiation toler-
ance compared to the present chip using high voltage
technology.

A new generation of the readout chip is planned as
well. The most important conceptual extension will
be a power down feature. Operating the system with
a duty cycle as close as possible to the bunch timing
of the accelerator (1:199) will reduce the total power
consumption signiﬁcantly.

On a longer time scale, the main goal is to combine
the thinning technology with a DEPFET production
to fabricate thin DEPFET sensors. Together with the
aimed noise ﬁgure of ENC=100 e−, a signal-to-noise
ratio of 40 is expected for these thin devices.

Acknowledgments

References

[1] J. Kemmer, G. Lutz, “New semiconductor con-

cepts”, NIM A253, pp.356ﬀ.

[2] L. Andricek et al., “Processing of ultra thin
silicon sensors for future linear collider experi-
ments”, IEEE TNS, vol.51 No.3, pp.1117-1120
[3] L. Andricek, et al., “The MOS-type DEPFET
Pixel Sensor for the ILC environment”, proceed-
ings of the Pixel 2005 conference

[4] M. Trimpl et al. (2003): “A Fast Readout us-
ing Switched Current Techniques for a DEPFET-
Pixel Vertex Detector at TESLA”, NIM A511,
pp.257-264

[5] J.B. Hughes, N.C. Bird, I.C. Macbeth, “Switched
Currents - A New Technique for Analog Sampled-
Data Signal Processing”, IEEE ISCAS (217), pp.
1584-1587, (1989)

[6] I. Peric, “Design and Realization of Integrated
Circuits for the Readout of Pixel Sensors in High-
Energy Physics and Biomedical Imaging”, PhD
thesis BONN-IR-2004-13, Bonn University

[7] M. Trimpl, “Design of a current based read-
out chip and development of a DEPFET pixel
prototype system for the ILC vertex detector”,
PhD thesis BONN-IR-2005-08, Bonn University,
http://hss.ulb.uni-bonn.de/diss online

[8] W. Snoeys et al., “Layout techniques to enhance
the radiation tolerance of standard CMOS tech-
nologies demonstrated on a pixel detector readout
chip”, NIM A439, pp.349-360

[9] M. Trimpl, “Performance of a DEPFET pixel sys-
tem for particle detection”, NIM A45445, pro-
ceedings of the SDS 2005 conference

The authors would like to thank the technology
crew of PN sensor GmbH and the Semiconductor Lab-

[10] Amersham, AMC 2084

0231

