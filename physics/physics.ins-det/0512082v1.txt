5
0
0
2
 
c
e
D
 
9
 
 
]
t
e
d
-
s
n
i
.
s
c
i
s
y
h
p
[
 
 
1
v
2
8
0
2
1
5
0
/
s
c
i
s
y
h
p
:
v
i
X
r
a

The Measurement of AM noise of Oscillators

Enrico Rubiola

web page http://rubiola.org

FEMTO-ST Institute
CNRS and Universit´e de Franche Comt´e, Besan¸con, France

2nd February 2008

Abstract

The close-in AM noise is often neglected, under the assumption that it
is a minor problem as compared to phase noise. With the progress of
technology and of experimental science, this assumption is no longer true.
Yet, information in the literature is scarce or absent.

This report describes the measurement of the AM noise of rf/microwave
sources in terms of Sα(f ), i.e., the power spectrum density of the fractional
amplitude ﬂuctuation α. The proposed schemes make use of commercial
power detectors based on Schottky and tunnel diodes, in single-channel
and correlation conﬁguration.

There follow the analysis of the front-end ampliﬁer at the detector
output, the analysis of the methods for the measurement of the power-
detector noise, and a digression about the calibration procedures.

The measurement methods are extended to the relative intensity noise
(RIN) of optical beams, and to the AM noise of the rf/microwave modu-
lation in photonic systems.

Some rf/microwave synthesizers and oscillators have been measured,
using correlation and moderate averaging. As an example, the ﬂicker noise
10−13/f ,
of a low-noise quartz oscillator (Wenzel 501-04623E) is Sα = 1.15
×
−7. The measure-
which is equivalent to an Allan deviation of σα = 4
ment systems described exhibit the world-record lowest background noise.

10

×

1

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

2

−

×

×

10

{·}

10−

10−

×
i hif i

Symbol list
, as in v(t)
˜, as in ˜v(t)
B
E
f
g
h
hi

23 J/K, Boltzmann constant

average, or dc component [of the signal v(t)]
ac component [of the signal v(t)]
system bandwidth
statistical expectation
Fourier frequency (near dc)
voltage gain (thus, the power gain is g2)
34 J/Hz, Planck constant
h = 6.626
coeﬃcient of the power-law representation of noise,
S(f ) =
current, dc current
P
optical intensity (Sections 9–10)
1.38
detector gain, V/W. Also ka, kb, kc
in cross-spectrum measurements, no. of averaged spectra
modulation index (Sections 9–10)
carrier power. Also Pa, Pb, Pm, etc.
19 C, electron charge
q = 1.602
resistance
characteristic resistance. Often R0 = 50 Ω
root mean square value
single-sided power spectrum density (of the quantity x)
time
absolute temperature, reference temperature (T0 = 290 K)
(voltage) signal, as a funtion of time
peak carrier voltage (not accounting for noise)
VT = kT
q
≈
fractional amplitude ﬂuctuation
random ﬂuctuation (of the quantity x)
deterministic ﬂuctuation (of the quantity x)
diode technical parameter [Eq .(15)], η
photodetector quantum eﬃciency (Sections 9–10)
wavelength
in a subscript, λ means ‘light’ (as opposed to ‘microwave’)
in a subscript, µ means ‘microwave’ (as opposed to ‘light’)
frequency, carrier frequency
photodetector responsivity, A/W (Sections 9–10)
Allan deviation of the quantity x

i(t), I
I(t), I0
k
kd
m
m
P , P0
q
R
R0
rms
S(f ), Sx(f )
t
T , T0
v(t)
V0
VT
α(t)
δ, as in δx
∆, as in ∆x
η
η
λ
λ, as in νλ
µ, as in νµ
ν, ν0
̺
σx(τ )
τ , as in σx(τ ) measurement time
ϕ(t)

thermal voltage. VT

25.6 mV at 25 ◦C

phase ﬂuctuation

[1..2]

∈

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

Contents

Symbol list

1 Basics

2 Single channel measurement

3 Dual channel (correlation) measurement

4 Schottky and tunnel diode power detectors

5 The double balanced mixer

6 Power detector noise

7 Design of the front-end ampliﬁer

8 The measurement of the power detector noise

9 AM noise in optical systems

10 AM noise in microwave photonic systems

11 Calibration

12 Examples

13 Final remarks

References

3

2

4

5

7

8

12

13

15

23

23

27

29

32

37

37

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

4

1 Basics

A quasi-perfect rf/microwave sinusoidal signal can be written as

v(t) = V0

1 + α(t)

cos

2πν0t + ϕ(t)

,

(1)

(cid:3)
where α(t) is the fractional amplitude ﬂuctuation, and ϕ(t) is the phase ﬂuc-
tuation. Equation (1) deﬁnes α(t) and ϕ(t). In low noise conditions, that is,
α(t)
|

1, Eq. (1) is equivalent to

ϕ(t)
|

1 and

| ≪

| ≪

(cid:2)

(cid:2)

(cid:3)

v(t) = V0 cos(2πν0t) + vc(t) cos(2πν0t)
1
V0

α(t) =

vc(t)

with

and

−
ϕ(t) =

1
V0

vs(t) .

vs(t) sin(2πν0t)

(2)

We make the following assumptions about v(t), in agreement with actual

cases of interest:

1. The expectation of the amplitude is V0. Thus E
{
˙ϕ(t)
}

2. The expectation of the frequency is ν0. Thus E
{

α(t)
}

= 0.

= 0.

3. Low noise.

α(t)
|

| ≪

1 and

ϕ(t)
|

| ≪

1.

4. Narrow band. The bandwidth of α and ϕ is Bα

ν0 and Bϕ

ν0.

≪

≪

It is often convenient to describe the close-in noise in terms of the single-side1
power spectrum density S(f ), as a function of the Fourier frequency f . A model
i hif i.
that has been found useful to describe S(f ) is the power-law S(f ) =
In the case of amplitiude noise, generally the spectrum contains only the white
P
2. Accordingly,
noise h0f 0, the ﬂicker noise h

1, and the random walk h

2f −

1f −

−

−

Sα(f ) = h0 + h

1f −

1 + h

2f −

2 .

−

−

Random walk and higher-slope phenomena, like drift, are often induced by the
environment. It is up to the experimentalist to judge the eﬀect of environment.
The spectrum density can be converted into Allan variance using the formu-

lae of Table 2.

The signal power is

thus

P =

V 2
0
2R

2

1 + α

(cid:0)

(cid:0)

(cid:1)

(cid:1)

V 2
0
2R

P

≃

1 + 2α

because α

1

≪

1Most experimentalists prefer the single-side power spectrum density because all instru-
B
0 S(f )df , which
ments work in this way. This is because the power can be calculated as P =
is far more straightforward than integrating over positive and (to some extent, misterious)
negative frequencies.

R

(3)

(4)

(5)

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

5

Table 2: Relationships between power spectrum density and Allan variance.

noise type

Spectrum density Sα(f ) Allan variance σ2

α(τ )

white

ﬂicker

random walk

h0

1

1f −

2

2f −

h

h

−

−

h0
2τ

h

−

h

−

1 2 ln(2)
4π2
6

τ

2

It is convenient to rewrite P as P = P0 + δP , with

V 2
0
2R

P0 =

and

δP

2P0α

≃

The amplitude ﬂuctuations are measured through the measurement of the power
ﬂuctuation δP ,

and of its power spectrum density,

α(t) =

1
2

δP
P0

Sα(f ) =

S P
P0

(f ) =

SP (f ) .

1
4P 2
0

1
4

The measurement of a two-port device, like an ampliﬁer, is made easy by
the availability of the reference signal sent to the device input. In this case, the
bridge (interferometric) method [RG02] enables the measurement of amplitude
noise and phase noise with outstanding sensitivity. Yet, the bridge method can
not be exploited for the measurement of the AM noise of oscillators, synthesizers
and other signal sources. Other methods are needed, based on power detectors
and on suitable signal processing techniques.

2 Single channel measurement

Figure 1 shows the basic scheme for the measurement of AM noise. The detector
characteristics (Sec. 4) is vd = kdP , hence the ac component of the detected
δP
P0 , that
signal is ˜vd = kdδP . The detected voltage is related to α by ˜vd = kdP0
is,

Turning voltages into spectra, the above becomes

˜vd(t) = 2kdP0α(t) .

Sv(f ) = 4k2

dP 2

0 Sα(f ) .

(6)

(7)

(8)

(9)

(10)

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

6

P

vd

FFT
analyz.

1 kΩ
(40 dB)

source
under test

monitor

power
meter

P

vd

FFT
analyz.

source
under test

Pm
power
meter

−10 or −20 dB
coupler

Figure 1: Top: Basic scheme for the measurement of AM noise. Bottom: A
variant useful in some cases where the power detector operates at low power,
while the power meter does not.

Therefore, the spectrum of α can be measured using

Sα(f ) =

Sv(f ) .

1
dP 2
4k2
0

(11)

Due to linearity of the network that precedes the detector (directional couplers,
cables, etc.), the fractional power ﬂuctuation δP/P0 is the same in all the circuit,
thus α is the same. As a consequence, the separate measurement of the oscillator
power and of the attenuation from the oscillator to the detector is not necessary.
The straightforward way to use Eq. (10), or (11), is to refer P0 at detector input,
and vd at the detector output.

Interestingly, phase noise has virtually no eﬀect on the measurement. This
happens because the bandwidth of the detector is much larger than the maxi-
mum frequency of the Fourier analysis, hence no memory eﬀect takes place.

In single-channel measurements, the background noise can only be assessed
by measuring a low-noise source2. Of course, this measurement gives the total
noise of the source and of the instrument, which can not be divided. The addi-
tional hypothesis is therefore required, that the amplitude noise of the source is
lower than the instrument background. Unfortunately, a trusted source will be
hardly available in practice.

Calibration is needed, which consists of the measurement of the product

kdP0. See Section 11.

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

7

Pa

Pb

va

vb

l
e
n
n
a
h
c
 
l
a
u
d

r
e
z
y
l
a
n
a
 
 

T
F
F

source
under test

monitor

power
meter

α (f)

S
log/log scale

Figure 2: Correlation AM noise measurement.

1
2m

single channel

cross spectrum

meas. limit

f

Figure 3: Spectra of the correlation AM noise measurement.

3 Dual channel (correlation) measurement

Figure 2 shows the scheme for the correlation measurement of AM noise. The
signal is split into two branches, and measured by two separate power detectors
and ampliﬁers. Under the assumption that the two channels are independent,
the cross spectrum Sba(f ) is proportional to Sα(f ). In fact, the two dc signals
are va = kaPaα and vb = kbPbα. The cross spectrum is

Sba(f ) = 4kakbPaPbSα(f ) ,

(12)

from which

Sα(f ) =

Sba(f ) .

1
4kakbPaPb
Averaging over m spectra, the noise of the individual channels is rejected by
a factor √2m (Fig. 3), for the sensitivity can be signiﬁcantly increased. A
further advantage of the correlation method is that the measurement of Sα(f )
is validated by the simultaneous measurement of the instrument noise limit,
that is, the single-channel noise divided by √2m. This solves one of the major
problems of the single-channel measurement, i.e., the need of a trusted low-noise
source.

(13)

2The reader familiar with phase noise measurements is used to measure the instrument
noise by removing the device under test. This is not possible in the case of the AM noise of
the oscillator.

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

8

rf in

video out

rf in

video out

~60
Ω

10−200
pF

external
50 Ω to
Ωk
100

~60
Ω

10−200
pF

external
50 Ω to
Ωk
100

Figure 4: Scheme of the diode power detector.

4 (

dP 2

4 P 2

Larger is the power delivered by the source under test, larger is the in-
strument gain. This applies to single-channel measurements, where the gain is
4k2
0 [Eq. (10)], and to correlation measurements, where the gain is 4kakbPaPb
[Eq. (12)]. Yet in a correlation system the total power P0 is split into the two
channels, for PaPb = 1
0 . Hence, switching from single-channel to correlation
the gain drops by a factor 1
6 dB). Let us now compare a correlation system
to a single-channel system under the simpliﬁed hypothesis that the background
noise referred at the detector output is unchanged. This happens if the noise of
the dc preampliﬁer is dominant. In such cases, the background noise referred
. The nu-
to the instrument input, thus to Sα, is multiplied by a factor
merator “4” arises from the reduced gain, while the denominator √2m is due
to averaging. Accordingly, it must be m > 8 for the correlation scheme to be
advantageous in terms of sensitivity. On the other hand, if the power of the
source under test is large enough for the system to work at full gain in both
cases, the dual-channel system exhibits higher sensitivity even at m = 1.

4
√2m

−

Calibration is about the same as for the single-channel measurements. See

Section 11.

In laboratory practice, the availability of a dual-channel FFT analyzer is the
most frequent critical point. If this instrument is available, the experimentalist
will prefer the correlation scheme in virtually all cases.

4 Schottky and tunnel diode power detectors

A rf/microwave power detector uses the nonlinear response of a diode to turn
the input power P into a dc voltage vd. The transfer function is

vd = kdP ,

(14)

1. The
which deﬁnes the detector gain kd. The physical dimension of kd is A−
1. The
technical unit often used in data sheets is mV/mW, equivalent to A−
diodes can only work at low input level. Beyond a threshold power, the output
voltage diﬀers smoothly from Eq. (14). The actual response depends on the
diode type.

Figure 4 shows the scheme of actual power detectors. The input resistor
matches the high input impedance of the diode network to the standard value
R0 = 50 Ω over the bandwidth and over the power range. The value depends on

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

9

Table 3: some power-detector manufacturers (non-exhaustive list).

manufacturer
Aeroﬂex/Metelics
Agilent Technologies
Advanced Control Components
Advanced Microwave
Eclipse
Herotek
Microphase
Omniyig
RLC Electronics
S-Team

web site
aeroﬂex-metelics.com
agilent.com
advanced-control.com
advancedmicrowaveinc.com
eclipsemicrowave.com
herotek.com
microphase.com/military/detectors.shtml
omniyig.com
rlcelectronics.com/detectors.htm
s-team.sk

Table 4: Typical characteristics of Schottky and tunnel power detectors.

input bandwidth

vsvr max.
max. input power (spec.)
absolute max. input power
output resistance
output capacitance
gain
cryogenic temperature

Schottky

tunnel

−

up to 4 decades
10 MHz to 20 GHz
1.5:1
15 dBm
20 dBm or more
1–10 kΩ
20–200 pF
300 V/W
no

1–3 octaves
up to 40 GHz
3.5:1
15 dBm
−
20 dBm
50–200 Ω
10–50 pF
1000 V/W
yes

the speciﬁc detector. The output capacitor ﬁlters the video3 signal, eliminating
carrier from the output. A low capacitance makes the detector fast. On the
other hand, a higher capacitance is needed if the detector is used to demodulate
a low-frequency carrier. The two-diode conﬁguration provides larger output
voltage and some temperature compensation.

Power detectors are available oﬀ-the-shelf from numerous manufacturers,
some of which are listed on Table 3. Agilent Technologies provides a series of
useful application notes [Agi03] about the measurement of rf/microwave power.
Two types of diode are used in practice, Schottky and tunnel. Their typical

characteristics are shown in Table 4.

Schottky detectors are the most common ones. The relatively high output
resistance and capacitance makes the detector suitable to low-frequency carriers,
In this condition the current ﬂowing
starting from some 10 MHz (typical).
3From the early time of electronics, the term ‘video’ is used (as opposed to ‘audio’) to

emphasize the large bandwidth of the demodulated signal, regardless of the real purposes.

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

10

100

500

200

100

50

20

10

5

2

1

V
m

 
,
e
g
a
t
l
o
v
 
t
u
p
t
u
o

100 kΩ

100 Ω

1 kΩ

−30

−20

−10

0
input power, dBm

10

Figure 5: Response of a two-diode power detector.

through the diode is small, and the input matching to R0 = 50 Ω is provided
by a low value resistor. Thus, the VSWR is close to 1:1 in a wide frequency
range. Most of the input power is dissipated in the input resistance, which
reduces the risk of damage in case of overload. A strong preference for negative
output voltage seems to derive from the lower noise of P type Schottky diodes,
as compared to N type ones, in conjunction with practical issues of mechanical
layout. Figure 5 shows the response of a two-diode Schottky power detector.
The quadratic response [Eq. (14)] derives from the diode resistance Rd, which
is related to the saturation current I0 by

Rd =

ηVT
qI0

,

(15)

[1 . . . 2] is a parameter that derives from the junction technology;
where η
∈
VT = kT /q
25.6 mV at room temperature is the thermal voltage. At higher
input level, Rd becomes too small and the detector response turns smoothly
from quadratic to linear, like the response of the common AM demodulators
and power rectiﬁers.

≃

Tunnel detectors are actually backward detectors. The backward diode is a
tunnel diode in which the negative resistance in the forward-bias region is made
negligible by appropriate doping, and used in the reverse-bias region. Most
of the work on such detectors dates back to the sixties [Bur63, Gab67, Hal60].
Tunnel detectors exhibit fast switching and higher gain than the Schottky coun-
terpart. A low output resistance is necessary, which aﬀects the input impedance.
Input impedance matching is therefore poor. In the measurement of AM noise,
as in other applications in which fast response is not relevant, the output re-
sistance can be higher than the recommended value, and limited only by noise
considerations. At higher output resistance the gain further increases. Tunnel
diodes also work in cryogenic environment, provided the package tolerates the
mechanical stress of the thermal contraction.

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

11

-60

-50

-40

-30

-20

-10

0

10

input power, dBm

Figure 6: Measured response of a Schottky detector Herotek DZR124AA.

Herotek DZR124AA s.no. 227489

10 kΩ

3.2 kΩ

1 kΩ

320 Ω

100

Ω

-20

Herotek DT8012 s.no. 232028

10

kΩ

3.2 kΩ

1 kΩ

320 Ω

100 Ω

V
B
d

 
,
e
g
a
t
l
o
v
 
t
u
p
t
u
o

0

-20

-40

-60

-80

-100

-120

V
B
d
 
,
e
g
a
t
l
o
v
 
t
u
p
t
u
o

-40

-60

-80

-100

-60

-50

-40

-30

-20

-10

0

10

input power, dBm

Figure 7: Measured response of a tunnel detector Herotek DT8012.

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

12

Table 5: Measured conversion gain.

detector gain, A−

1

load resistance, Ω DZR124AA DT8012
(tunnel)
292
505
652
724
750

(Schottky)
35
98
217
374
494

102
1
×
102
3.2
×
103
1
×
103
3.2
×
104
1
×

conditions: power

50 to

20 dBm

−

−

Figures 6–7 and Table 5 show the conversion gain of two detectors, mea-
sured at the FEMTO-ST Institute. As expected, the Schottky detector leaves
smoothly the quadratic law (true power detection) at some
12 dBm, where
it becomes a peak voltage detector. The response of the tunnel detector is
quadratic up to a maximum power lower than that of the Schottky diode. This
is due to the lower threshold of the tunnel eﬀect. The output voltage shows a
maximum at some 0 dBm, then decreases. This is ascribed to the tunnel-diode
conduction in the forward region.

−

At the FEMTO-ST Institute, I routinely use the Herotek DZR124AA (Schot-
tky) and DT8012 (tunnel). At the JPL, I have sometimes used the pair HP432A,
and more recently the same Herotek types that I use at the LPMO. The old
HP432A pair available shows an asymmetry of almost 10 dB in ﬂickering, which
causes experimental diﬃculties. This asymmetry might be a defect of the spe-
ciﬁc sample.

5 The double balanced mixer

Some articles from the NIST [NNW94]4 suggest the use of a double balanced
mixer as the power detector in AM noise measurements, with a conﬁguration
similar to that of Fig. 8. Higher sensitivity is obtained with cross-spectrum
measurements, using two mixers. The double balanced mixer is operated in the
following conditions:

1. Both RF and LO inputs are not saturated.

2. The RF and LO signals are in-phase.

At low frequencies the in-phase condition may be hard wired, omitting the
variable phase shifter.

4Fred Walls published some articles in the FCS Proceedings. Craig Nelson showed the

method in his tutorial given at the 2003 FCS.

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

13

rf
input

RF

IF

LO

R 0

dc out

variable phase
adj. for RF and LO to be in−phase

WJ M9HC
TFM−4
SRA−1
PD−100

S

(f)    dB/Hz
α
−107

−117

−127

−137

−147

−157

−167

1

10

102

103

104

105

Fourier frequency,  Hz

Figure 8: A double balanced mixer can be used as the power detector for the
measurement of AM noise. Data are from [NNW94].

However useful, the available articles do not explain the diode operation in
terms of electrical parameters. One can expect that the background noise of the
mixer used as the AM detector can not be lower than that of a Schottky-diode
power detector for the simple reason that the mixer contains a ring of Schottky
diodes. One could guess that the use of the mixer for AM noise measurements
originates from having had mixers and phase shifter on hand for a long time at
the NIST department of phase noise.

6 Power detector noise

Two fundamental types of noise are present in a power detector, shot noise and
thermal noise [Gab67, Sec. V]. In addition, detectors show ﬂicker noise. The
latter is not explained theoretically, for the detector characterization relies on
experimental parameters. Some useful pieces of information are available in
[Eng61].

Owing to the shot eﬀect, the average current ı ﬂowing in the diode junction

is aﬀected by a ﬂuctuation of power spectral density

Si = 2qı

A2/Hz,

(16)

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

14

S

P

log/log scale

cP’

cP>

e

o i s

o t  n

h

s

2q RP0
kd

ampli noise

thermal noise

4kTR
dk2

Pc

=

2 kT
q
kd

P
0

Figure 9: Power spectral density of the detector noise, referred at the input.

Using the Ohm law v = Ri across the load resistor R, the noise voltage at the
detector output is

Sv = 2qRv

V2/Hz.

Then, the shot noise is referred to the input-power noise using v = kdP . Thus,
at the operating power P0 it holds that

The thermal noise across load resistance R has the power spectral density

SP = 2q

RP0
kd

shot noise, W2/Hz.

Sv = 4kT R

V2/Hz,

SP =

4kT R
k2
d

thermal noise, W2/Hz.

which turns into

referred to the detector input. An additional thermal-noise contribution comes
from the dissipative resistance of the diodes. This can be accounted for by
increasing the value of R in Equations (19) and (20). It should be remarked
that diode diﬀerential resistance is not a dissipative phenomenon, for there is
no thermal noise associated to it.

Figure 9 shows the equivalent input noise as a function of power. The shot
noise is equal to the thermal noise, (SP )shot = (SP )thermal, at the critical power

(17)

(18)

(19)

(20)

(21)

Pc =

2
kd

kT
q

.

It turns out that the power detector is always used in the low power region
(P0 < Pc), where shot noise is negligible. In fact, taking the data of Table 5 as
10 dBm for the Schottky
typical of actual detectors, Pc spans from +2 dBm to

−

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

15

1), and from

1 < kd < 500 A−
1 < kd < 820 A−

12 dBm for the tunnel
diodes (35 A−
−
1), depending on the load resistance. On the
diodes (330 A−
other hand, the detector turns from the quadratic (power) response to the linear
(voltage) response at a signiﬁcantly lower power. This can be seen on Figure 6
and 7.

8 dBm to

−

Looking at the speciﬁcations of commercial power detectors, information
about noise is scarce. Some manufacturers give the NEP (Noise Equivalent
Power) parameter, i.e., the power at the detector input that produces a video
output equal to that of the device noise. In no case is said whether the NEP
increases or not in the presence of a strong input signal, which is related to
precision. Even worse, no data about ﬂickering is found in the literature or in
the data sheets. Only one manufacturer (Herotek) claims the low ﬂicker feature
of its tunnel diodes, yet without providing any data.

The power detector is always connected to some kind of ampliﬁer, which
1)ampli the white and ﬂicker noise

is noisy. Denoting with (h0)ampli and (h
coeﬃcients of the ampliﬁer, the spectrum density referred at the input is

−

SP (f ) =

(h0)ampli
k2
d

(h

−

+

1)ampli
kd
d

1
f

.

(22)

is connected to the noise ﬁgure by
The ampliﬁer noise coeﬃcient (h0)ampli
1)kT . Yet we prefer not to use the noise ﬁgure because in
(h0)ampli = (F
general the ampliﬁer noise results from voltage noise and current noise, which
depends on R. Equation (22) is rewritten in terms of amplitude noise using
α = 1
2

δP
P0 [Eq. (7)]. Thus,

−

Sα(f ) =

1
2P0

qR
kd

+

1
P 2
0

kT R
k2
d

+

1
4P 2
0

(h0)ampli
k2
d

+

1
4P 2
0

(h

−

1)ampli
k2
d

1
f

.

(23)

After the ﬁrst term of Eq. (22), the critical power becomes

P ′c =

2
kd

kT
q

+

(h0)ampli
2qRkd

.

(24)

This reinforces the conclusion that in actual conditions the shot noise is negli-
gible.

7 Design of the front-end ampliﬁer

For optimum design, one should account for the detector noise and for the
noise of the ampliﬁer, and ﬁnd the most appropriate ampliﬁer and operating
conditions. Yet, the optimum design relies upon the detailed knowledge of the
power-detector noise, which is one of our targets (Sec. 8). Thus, we provisionally
neglect the excess noise of the power detector. The ﬁrst design is based on the
available data, i.e., thermal noise and the noise of the ampliﬁer. Operational
ampliﬁers or other types of impedance-mismatched ampliﬁers are often used
in practice. As a consequence, a single parameter, i.e., the noise ﬁgure or the

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

16

in

vn

noise−free

out

in

Figure 10: Rothe-Dahlke model of the noisy ampliﬁer.

noise temperature, is not suﬃcient to describe the ampliﬁer noise. Voltage and
current ﬂuctuations must be treated separately, according to the popular Rothe-
Dahlke model [RD56] (Fig. 10). The ampliﬁer noise contains white and ﬂicker,
thus

(Sv)ampli = h0,v + h

(Si)ampli = h0,i + h

1
f
1
f

.

1,v

−

1,i

−

The design can be corrected afterwards, accounting for the ﬂicker noise of the
detector.

Single-channel systems

Accounting for shot and thermal noise, and for the noise of the ampliﬁer, the
noise spectrum density is

Sv = 2qRv + 4kT R + (Sv)ampli + R2 (Si)ampli

at the ampliﬁer input, and

SP = 2q

+

RP
kd

4kT R
k2
d

+

(Sv)ampli
k2
d

+

R2 (Si)ampli
k2
d

referred to the rf input. The detector gain kd depends on R, thus the residual
SP can not be arbitrarily reduced by decreasing R. Instead, there is an optimum
R at which the system noise is at its minimum.

Correlation-and-averaging systems

The noise contribution of the ampliﬁer can be reduced by measuring the cross
spectrum at the output of two ampliﬁers connected to the power detector, pro-
vided that the noise of the ampliﬁers is independent. For this to be true, the
optimum design of the front-end ampliﬁer changes radically. Figure 11 points
out the problem. The current noise of each ampliﬁer turns into a random volt-
age ﬂuctuation across the load resistance R. Focusing only on the ampliﬁer

(25)

(26)

(27)

(28)

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

17

rf in

R

va

vb

g

g

v1

v2

i1

i2

Figure 11: The load resistor turns the current noise into fully-correlated noise.

noise, the voltage at the two outputs is

va = g (v1 + Ri1 + Ri2)
vb = g (v2 + Ri1 + Ri2)

The terms gv1 and gv2 are independent, for their contribution to the cross
spectrum density is reduced by a factor
, where m is the number of averaged
spectra. Conversely, a term

1
√2m

gR(i1 + i2)

is present at the two outputs. This term is exactly the same, thus it can not be
reduced by correlation and averaging. Consequently, the lowest current noise is
the most important parameter, even if this is obtained at expense of a larger
voltage noise. Yet, the rejection of larger voltage noise requires large m, for
some tradeoﬀ may be necessary.

Examples

This section shows some design attempts, aimed at the lowest white and ﬂicker
noise at low Fourier frequencies, up to 0.1–1 MHz, where operational ampliﬁers
can be exploited in a simple way.

A preliminary analysis reveals that, at the low resistance values required by
the detector, BJT ampliﬁers perform lower noise than ﬁeld-eﬀect transistors.
On the other hand, the noise rejection by correlation and average requires low
current noise, for JFET ampliﬁers are the best choice. In fact, BJTs can not be
used because of the current noise, while MOSFETs show 1/f noise signiﬁcantly
larger (10 dB or more) than JFETs.

Using two detectors (DZR124AA and DT8012), we try the operational am-
pliﬁers and transistor pairs listed on Table 6. These ampliﬁers are selected with
the criterion that each one is a low-noise choice in its category.

AD743 and OPA627 are general-purpose precision JFET ampliﬁers, which
exhibit low bias current, hence low current noise. They are intended for

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

18

Table 6: Noise parameters of some selected ampliﬁers.

voltage

current

notes

ﬂicker
h

1,i

−

type

AD743
LT1028
MAT02
MAT03
OP27
OP177
OP1177
OPA627

unit

white
h0,v
2.9
0.9
0.9
0.7
3.0
10
8.0
4.5
nV
√Hz

1,v

ﬂicker white
h0,i
h
6.9
1000
900
1200
400
125
200
2.5
fA
√Hz

−
18
1.7
1.6
1.2
4.3
8.0
8.3
45
nV
√Hz

−
16
1.6
11
4.7
1.6
1.5

−
pA
√Hz

jfet op-amp
bjt op-amp
npn bjt matched pair
pnp bjt matched pair
bjt op-amp
bjt op-amp
bjt op-amp
jfet op-amp

correlation-and-averaging schemes (Fig. 11). The OP625 is similar to
the OP627 but for the frequency compensation, which enables unity-gain
operations, yet at expenses of speed. It is used successfully in the mea-
surement of the excess noised of semiconductors, where large averaging
size is necessary in order to rid of the ampliﬁer noise [SFF99].

LT1028 is a fast BJT ampliﬁer with high bias current in the diﬀerential input
stage. This feature makes it suitable to low-noise applications in which
the source resistance is low. In fact, the optimum noise resistance Rb =
hv/hi is of 900 Ω for white noise, and of 105 Ω for ﬂicker. These values

are in the preferred range for proper operation of the power detectors.
p

MAT02 and MAT03 are bipolar matched pairs. They exhibit lower noise
than operational ampliﬁers, and they are suitable to the design for low
resistance of the source, like the LT1028. The MAT03 was successfully
employed in the design of a low-noise ampliﬁer optimized for 50 Ω sources
[RLV04].

OP27 and OP37 are popular general-purpose precision BJT ampliﬁers, most
often used in low-noise applications. Their noise characteristics are about
identical. The OP27 is fully compensated, for it is stable at closed-loop
gain of one. The OP37 is only partially compensated, which requires a
minimum closed-loop gain of ﬁve for stable operation. Of course, lower
compensation increases bandwidth and speed.

OP177 and OP1177 are general-purpose precision BJT ampliﬁers with low
bias current in the diﬀerential input stage, thus they exhibit lower current
noise than other BJT ampliﬁers. They can be an alternative if the design
based on JFET ampliﬁer fails.

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

19

In the try-and-error process, we take into account shot noise, thermal noise,
ampliﬁer voltage noise, and ampliﬁer current noise. The total white noise is the
sum of all them

SP = 2q

RP
kd

+

4kT R
k2
d

+

h0,v
k2
d

+

R2 h0,i
k2
d

total white [ + ] .

(29)

The total ﬂicker accounts for the voltage and current of the ampliﬁer

SP =

h

1,v
−
k2
d

+

1,i

R2 h
−
k2
d

total ﬂicker [ ♦ ] .

(30)

The correlated noise spectrum is equal to the total noise minus the voltage noise
spectrum of the ampliﬁer, which is independent

4kT R
k2
d

+

R2 h0,i
k2
d

SP = 2q

SP =

RP
kd
R2 h
−
k2
d

+

1,i

correlated white [ (cid:13) ] ,

(31)

correlated ﬂicker [ (cid:3) ] .

(32)

The ﬂicker noise of the detector, still not available, is to be added to Equations
(30) and (32).

After evaluation, we discard the OP177 because the OP1177 exhibits supe-
rior performances in all noise parameters. Similarly, we discard the OP627 in
favour of the AD743. The lower current noise of the OP627 can be exploited
only at very large number of averages, which is impractical. On the other hand,
the lower voltage noise of the AD743 helps to keep the number of averages rea-
sonable. Figures 12 and 13 show a summary of the expected noise as a function
of the load resistance R. The symbols +, (cid:13), ♦, (cid:3) have the same meaning in
Equations (29)–(32) and in Figures 12 and 13. Analyzing the noise plots we
restrict our attention to the detector-ampliﬁer pairs of Table 7, in which we
identify the following interesting conﬁgurations.

Detector DZR124AA (Schottky)

AD743 and 3.2 kΩ. Best design for a correlation-and-averaging system. In
principle, lower white noise can be achieved with lower load resistance,
yet only with m > 104.

MAT02 and 1 kΩ. Lowest ﬂicker in real-time measurements (single-channel).

OP27 and 1 kΩ. Simple nearly-optimum design if one is interested to white
noise. In fact, the white noise is 1.5 dB higher than that of the two above
conﬁgurations; this gap increases only at m > 300 if the AD743 (jfet) is
used. On the other hand, the ﬂicker noise is high and can not reduced by
correlation.

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

20

Detector ˚DZR124AA ˚T=300K ˚˚˚˚ampli˚AD743

Detector ˚DZR124AA ˚T=300K ˚˚˚˚ampli˚LT1028

1e-08

1e-09

1e-10

1e-11

1e-12

1e-13

1e-08

1e-09

1e-10

1e-11

1e-12

1e-13

1e-08

1e-09

1e-10

1e-11

1e-12

1e-13

1e-08

1e-09

1e-10

1e-11

1e-12

1e-13

1e-08

1e-09

1e-10

1e-11

1e-12

1e-13

1e-14

1e-08

1e-09

1e-10

1e-11

1e-12

1e-13

1e-14

.1e3

.1e4

.1e5

.1e4

.1e5

Load resistance, Ohm

Load resistance, Ohm

1e-14

.1e3

Detector ˚DZR124AA ˚T=300K ˚˚˚˚ampli˚MAT02

Detector ˚DZR124AA ˚T=300K ˚˚˚˚ampli˚MAT03

.1e3

.1e4

.1e5

Load resistance, Ohm

1e-14

.1e3

.1e4

.1e5

Load resistance, Ohm

Detector ˚DZR124AA ˚T=300K ˚˚˚˚ampli˚OP27

Detector ˚DZR124AA ˚T=300K ˚˚˚˚ampli˚OP1177

1e-14

.1e3

.1e4

.1e5

.1e4

.1e5

Load resistance, Ohm

Load resistance, Ohm

1e-14

.1e3

+ white noise
(cid:13) correlated white noise

♦ ﬂicker noise
(cid:3) correlated ﬂicker noise (i only)

Figure 12: Expected noise of the DZR124AA (Schottky) followed an ampliﬁer.

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

21

Detector ˚DT8012 ˚T=300K ˚˚˚˚ampli˚AD743

Detector ˚DT8012 ˚T=300K ˚˚˚˚ampli˚LT1028

1e-08

1e-09

1e-10

1e-11

1e-12

1e-13

1e-08

1e-09

1e-10

1e-11

1e-12

1e-13

1e-08

1e-09

1e-10

1e-11

1e-12

1e-13

1e-08

1e-09

1e-10

1e-11

1e-12

1e-13

1e-08

1e-09

1e-10

1e-11

1e-12

1e-13

1e-08

1e-09

1e-10

1e-11

1e-12

1e-13

1e-14

.1e3

.1e4

.1e5

.1e4

.1e5

Load resistance, Ohm

Load resistance, Ohm

1e-14

.1e3

Detector ˚DT8012 ˚T=300K ˚˚˚˚ampli˚MAT02

Detector ˚DT8012 ˚T=300K ˚˚˚˚ampli˚MAT03

1e-14

.1e3

.1e4

.1e5

.1e4

.1e5

Load resistance, Ohm

Load resistance, Ohm

1e-14

.1e3

Detector ˚DT8012 ˚T=300K ˚˚˚˚ampli˚OP27

Detector ˚DT8012 ˚T=300K ˚˚˚˚ampli˚OP1177

1e-14

.1e3

.1e4

.1e5

.1e4

.1e5

Load resistance, Ohm

Load resistance, Ohm

1e-14

.1e3

+ white noise
(cid:13) correlated white noise

♦ ﬂicker noise
(cid:3) correlated ﬂicker noise (i only)

Figure 13: Expected noise of the DT8012 (Tunnel) followed an ampliﬁer.

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

22

Table 7: Expected noise of a power detector followed by an ampliﬁer. The grey
box shows the best choice for the ampliﬁer-detector pair.

Equivalent input noise

load resistance

100

320

1000

3200

10000

Ω

detector
and
ampliﬁer

DZR124AA
and
AD743

DZR124AA
and
MAT02

DZR124AA
and
OP27

DT8012
and
AD743

DT8012
and
LT1028

DT8012
and
MAT02

noise type

white
ﬂicker
correl. white
correl. ﬂicker

white
ﬂicker
correl. white
correl. ﬂicker

white
ﬂicker
correl. white
correl. ﬂicker

white
ﬂicker
correl. white
correl. ﬂicker

white
ﬂicker
correl. white
correl. ﬂicker

white
ﬂicker
correl. white
correl. ﬂicker

99.2
541
0.050
–

54.7
48.6
4.06
7.22

102
131
1.80
21.2

9.86
53.7
0.005
–

5.44
8.78
0.448
7.17

5.43
4.83
0.403
0.717

39.5
186
0.042
–

27.5
17.7
3.45
6.13

40.3
48.0
1.53
18.0

6.77
32.0
0.007
–

4.72
10.9
0.657
10.5

4.72
3.03
0.591
1.05

22.8
80.8
0.052
–

19.6
10.4
4.24
7.54

23.1
29.4
1.88
22.1

7.00
24.8
0.016
–

6.06
23.3
1.45
23.2

6.02
3.20
1.30
2.32

19.6
44.8
0.089
–

19.8
13.5
7.28
12.9

20.0
39.5
3.23
38.0

10.0
22.8
0.045
–

10.2
66.0
4.12
66.0

10.1
6.90
3.71
6.60

24.5
33.3
0.205
–

29.2
29.9
16.7
29.8

25.6
87.8
7.44
87.4

16.2
22.1
0.135
–

20.1
197
12.3
197

19.3
19.8
11.1
19.7

unit

10−12
W
√Hz

−12

10

W
√Hz

10−12
W
√Hz

−12

10

W
√Hz

−12

10

W
√Hz

−12

10

W
√Hz

White and shot noise, plus white and ﬂicker noise of the ampliﬁer.
The ﬂicker noise of the power detector is not accounted for.

Detector DT8012 (tunnel)

AD743 and 1 kΩ. Best design for a correlation-and-averaging system. Slightly
lower white noise can be obtained at lower R, yet at expenses of larger m
and of larger ﬂicker noise.

LT1028 and 100 Ω. Simple nearly-optimum design for real-time (single chan-
nel) systems. This conﬁguration, as compared to the best one (MAT02
with 320 Ω load) shows white noise 1.2 dB higher, and ﬂicker noise 9 dB
higher.

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

23

MAT02 and 320 Ω. Lowest white and ﬂicker noise in real-time measurements

(single-channel).

MAT02 and 100 Ω. Close to the lowest white and ﬂicker noise in real-time
measurements (single-channel). Fairly good for correlation at moderate
averaging, up to m = 360 for white noise, and m = 90 for ﬂicker.

Remark. Generally, tunnel detectors show higher gain than Schottky detec-
tors. The fact that they exhibit lower noise is a consequence. On the other
hand, the Schottky detectors are often preferred because of wider bandwidth,
and because of higher tolerance to electrical stress and to experimental errors.

8 The measurement of the power detector noise

A detector alone can be measured only if a reference source is available whose
AM noise is lower than the detector noise, and if the ampliﬁer noise can be
made negligible. These are unrealistic requirements.

It useful to compare two detectors, as in Fig. 14 A. The trick is to measure a
diﬀerential signal g(Pb
0, which is not aﬀected by the power ﬂuctuation
of the source. The lock-in helps in making the output independent of the power
ﬂuctuations. Some residual PM noise has no eﬀect on the detected voltage.

Pa)

≈

−

One problem with the scheme of Fig. 14 A is that the measured noise is the
sum of the noise of the two detectors, for the result relies upon the assumption
that the two detectors are about equal. This is ﬁxed with the correlation scheme
of Fig. 14 B). The detector c is the device under test, while the two other
detectors are used to cancel the ﬂuctuations of the input power. Thus

g(Pc

Pa)

and

g(Pc

Pb)

−

−

After rejecting the single-channel noise by correlation and averaging, there re-
sults the noise of the detector C.

Another problem with the schemes of Fig. 14 is that the noise of the ampliﬁer
is taken in. This is ﬁxed by using two independent ampliﬁers at the output of
the power detector, as in Fig. 15. In order to reject the current noise, these
ampliﬁer must be of the JFET type. In the three detector scheme of Fig. 14 B,
it is convenient to use BJT ampliﬁers in the reference branches (A and B), and
a JFET ampliﬁer in the branch C. The reason for this choice is the lower noise
of the BJTs, which improves the measurement speed by reducing the minimum
m needed for a given sensitivity.

9 AM noise in optical systems

Equation (1) also describes a quasi-perfect optical signal, under the same hy-
potheses 1–4 of page 4. The voltage v(t) is replaced with the electric ﬁeld. Yet,

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

24

A − Differential measurement

low noise
source

AM
input

monitor

power
meter

A

B

va

vb

Pa

Pb

adj. gain

diff. ampli

g(Pb−Pa)

FFT
analyz.

osc. out
osc. out

input
input

lock−in
lock−in
amplifier
amplifier

out
out
Re
Re
Im
Im

adjust the gain for the
Re output to be zero

B − Three−detector correlation measurement

Pa

A

va

adj. gain

Pc

Pb

C

B

vc

vb

adj. gain

low noise
source

monitor

power
meter

diff. ampli

dual channel
FFT  analyzer

g(Pc−Pa)

g(Pc−Pb)

osc. out
osc. out

lock−in
lock−in
amplifier
amplifier

input
input
out
out
Re
Re
Im
Im

adjust the gain for the
Re output to be zero

Figure 14: Measurement of the power detector noise.

the preferred physical quantity used to describe the AM noise is the Relative
Intensity Noise (RIN), deﬁned as

that is, the power spectrum density of the normalized intensity ﬂuctuation

RIN = S δI
I0

(f ) ,

(δI)(t)
I0

=

I(t)

I0

−
I0

.

(33)

(34)

The RIN includes both ﬂuctuation of power and the ﬂuctuation of the power
cross-section distribution. If the cross-section distribution is constant in time,

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

25

A − Two−detector correlation measurement

A

Pa

va

diff. ampli

g(Pb−Pa)

Ra

Rb

JFET input

adj. gain

JFET input

adj. gain

diff. ampli

dual channel
FFT  analyzer

g(Pb−Pa)

low noise
source

AM
input

monitor

Pb

B

vb

power
meter

osc. out
osc. out

input
input

lock−in
lock−in
amplifier
amplifier

out
out
Re
Re
Im
Im

adjust the gain for the
Re output to be zero

B − Three−detector correlation measurement
va

A

Pa

adj. gain

diff. ampli

low noise
source

AM
input

monitor

power
meter

Ra

Rc

vc

vb

C

B

Pc

Pb

g(Pc−Pa)

g(Pc−Pb)

JFET input

dual channel
dual channel
FFT  analyzer
FFT  analyzer

Rb

adj. gain

diff. ampli

osc. out
osc. out

lock−in
lock−in
amplifier
amplifier

input
input
out
out
Re
Re
Im
Im

adjust the gain for the
Re output to be zero

Figure 15: Improved scheme for the measurement of the power detector noise.

the optical intensity is proportional to power

δI
I0

=

δP
P0

.

(35)

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

26

source
under
test

source
under
test

optical

dc

vd

R

FFT
analyz.

P

coupler

monitor
monitor

power
meter

optical

dc

Pa

Pb

coupler

coupler

monitor

power
meter

va

R
vb

R

l
e
n
n
a
h
c
 
l
a
u
d

r
e
z
y
l
a
n
a
 
 

T
F
F

Figure 16: RIN measurement in optical-ﬁber systems. In a traditional system,
beam splitters are used instead of the couplers.

In optical-ﬁber system, where the detector collects all the beam power, the term
RIN is improperly used for the relative power ﬂuctuation. Reference [SSL90]
analyzes on the origin of RIN in semiconductor lasers, while References [Joi92,
OS00] provide information on some topics of measurement.

In low-noise conditions,

1, and assuming that the cross-section
distribution is constant, the power ﬂuctuations are related to the fractional
amplitude noise α by

δI/I0
|

| ≪

thus

δI
I0

=

δP
P0

= 2α ,

RIN(f ) = 4Sα(f ) .

Generally laser sources show a noise spectrum of the form

RIN(f ) = h0 + h

1f −

1 + h

2f −

2 ,

−
in which the ﬂicker noise can be hidden by the random walk. Additional ﬂuc-
tuations induced by the environment may be present.

−

Figure 16 shows two measurement schemes. The output signal of the pho-
todetector is a current proportional to the photon ﬂux. Accordingly, the gain
parameter is the detector responsivity ̺, deﬁned by

i = ̺P ,

(39)

(36)

(37)

(38)

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

27

where

i =

qηP
hν

(40)

is the photocurrent, thus

qη
hν
The schemes of Fig. 16 are similar to Fig. 1 (single-channel) and Fig. 2
(cross-spectrum). The dual-channel scheme is preferred because of the higher
sensitivity, and because it makes possible to validate the measurement through
the number of averaged spectra.

(41)

̺ =

.

Noise is easily analyzed with the methods shown in Section 7. Yet in this
case the virtual-ground ampliﬁer is often preferred, which diﬀers slightly from
the examples shown in Section 7. A book [Gra96] is entirely devoted to the
special case of the photodiode ampliﬁer.

10 AM noise in microwave photonic systems

Microwave and rf photonics is being progressively recognized as an emerging
domain of technology [Cha02, SJMN06]. It is therefore natural to investigate in
noise in these systems.

The power5 Pλ(t) of the optical signal is sinusoidally modulated in intensity

at the microwave frequency νµ is

Pλ(t) = P λ (1 + m cos 2πνµt) ,

(42)

where m is the modulation index6. Eq. (42) is similar to the traditional AM
of radio broadcasting, but optical power is modulated instead of RF voltage.
In the presence of a distorted (nonlinear) modulation, we take the fundamental
microwave frequency ν0. The detector photocurrent is

i(t) =

P λ (1 + m cos 2πνµt) ,

(43)

where η the quantum eﬃciency of the photodetector. The oscillation term
m cos 2πνµt of Eq. (43) contributes to the microwave signal, the term “1” does
not. The microwave power fed into the load resistance R0 is P µ = R0˜ı2, hence

P µ =

m2R0

1
2

2

P λ

.

qη
hνλ

(44)

(cid:18)
The discrete nature of photons leads to the shot noise of power spectral

(cid:19)

density 2qiR [W/Hz] at the detector output. By virtue of Eq. (43),

Ns = 2

P λR

(shot noise) .

(45)

5In this section we use the subscript λ for ‘light’ and µ for ‘microwave’.
6We use the symbol m for the modulation index, as in the general literature. There is no

ambiguity because the number of averages (m) is not used in this section.

qη
hνλ

q2η
hνλ

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

28

optical

microwave

dc

source
under
test

Pa

Pb

coupler

coupler

monitor

power
meter

R0

R0

monitor

power
meter

va

R

vb

R

l
e
n
n
a
h
c
 
l
a
u
d

r
e
z
y
l
a
n
a
 
 

T
F
F

Figure 17: Measurement of the microwave AM noise of a modulated light beam.

In addition, there is the equivalent input noise of the ampliﬁer loaded by R,
whose power spectrum is

Nt = F kT

(thermal noise and ampliﬁer noise) ,

(46)

where F is the noise ﬁgure of the ampliﬁer, if any, at the output of the pho-
todetector. The white noise Ns + Nt turns into a noise ﬂoor

Using (44), (45) and (46), the ﬂoor is

Sα =

2
m2

hνλ
η

1
P λ

2
"

+

F kT
R

hνλ
qη

(cid:18)

(cid:19)

(cid:18)

2

2

.

1
P λ (cid:19)
2 at low power, and to

(48)

#

Interestingly, the noise ﬂoor is proportional to (P λ)−
(P λ)−

1 above the threshold power

Sα =

Ns + Nt
P µ

.

Pλ,t =

1
2

F kT
R

hνλ
q2η

(47)

(49)

For example, taking νλ = 193.4 THz (wavelength λ = 1.55 µm), η = 0.6, F = 1
(noise-free ampliﬁer), and m = 1, we get a threshold power Pλ,t = 335 µW,
15 Hz−
which sets the noise ﬂoor at 5.1
Figure 17 shows the scheme of a correlation system for the measurement of
the microwave AM noise. It may be necessary to add a microwave ampliﬁer at
the output of each photodetector. Eq. (48) holds for one arm of Fig. 17. As
there are two independent arms, the noise power is multiplied by two.

143 dB/Hz).

10−

1 (

×

−

Finally, it is to be pointed out that the results of this section concern only the
white noise of the photodetector and of the microwave ampliﬁer at the photode-
tector output. Experimental method and some data in the close-in microwave

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

29

ﬂickering of the high-speed photodetectors is available in Reference [RSYM06].
The noise of the microwave power detector and of its ampliﬁer is still to be
added, according to Section 6.

For small variations ∆P around a power P0, the detector gain is replaced by
the diﬀerential gain

11 Calibration

which can be rewritten as

Equations (10)–(11), which are used to get Sα(f ) from the spectrum Sv(f )
of the output voltage in single-channel measurements, rely upon the knowledge
of the calibration factor kdP0. The separate knowledge of kd and P0 is not
necessary because only the product kdP0 enters in Eq. (10)–(11). Therefore we
can get kdP0 from

This is a fortunate outcome for the following reasons

•

A variable attenuator inserted in series to the oscillator under test sets a
static δP/P0 that is the same in all the circuit; this is a consequence of
linearity. For reference,

kd =

dvd
dP

.

kd =

.

∆vd

∆P
P0

P0

kdP0 =

∆vd
∆P/P0

.

step, dB

∆P/P0

0.1
0.5
1

2.33

2

10−

×
0.122
0.259

(50)

(51)

(52)

•

A power ratio can be measured (or set) more accurately than an absolute
power.

Some strategies can be followed (Fig. 18), depending on the available instru-
mentation. In all cases it is recommended to

•

•

make sure that the power detector works in the quadratic region (see
Fig. 5) by measuring the power at the detector input.

exploit the diﬀerential accuracy of the instruments that measure ∆P and
∆V , instead of the absolute accuracy. Use the “relative” function if avail-
able, and do not change input range.

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

30

A − Synthesizer
synthes.

internal
variable
attenuator

B − By−step attenuator

atten

0.1 dB step

source
under test

C − Correlation system

atten

source
under test

0.1 dB
step

Pm
power
meter

P

P

Pm
power
meter

Pa

Pb

power
meter

vd

vd

va

vb

voltm.

voltm.

voltm.

Figure 18: Calibration schemes.

•

avoid plugging and unplugging connectors during the measurement. A
directional coupler is needed not to disconnect the power detector for the
measurement of ∆P .

In Fig. 18 A, the internal variable attenuator of a synthesizer is used to mea-
sure kdP0. ∆P/P0 can be measured with the power meter, or obtained from
the calibration of the synthesizer internal attenuator. Some modern synthesiz-
ers have a precise attenuator that exhibit a resolution of 0.1 or 0.01 dB.
In
Fig. 18 B, a calibrated by-step attenuator is inserted between the source under
test and the power detector. By-step attenuators can be accurate up to some
3–5 GHz. Beyond, one can use a multi-turn continuous attenuator and rely on
the power meter. In the case of correlation measurements (Fig. 18 C), symmetry
is exploited to measure ka and kb in a condition as close as possible to the ﬁnal
measurement of Sα(f ). Of course, it holds that ∆Pa/Pa = ∆Pb/Pb.

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

31

B − AC calibration

atten

atten

source
under test

reference

B − Improved AC calibration

atten

source
under test

ν

0

ν

s

ν

0

ν

s

ν

b

= | −
ν
0

ν

|

s

narrow−band
ac voltmeter
or FFT analyzer

voltm.

voltm.

va

vb

va

vb

Pa

Pb

power
meter

Pa

Pb

power
meter

ν

b

= | −
ν
0

ν

|

s

reference

atten

ref in

lock−in
amplifier

input
out
Re
Im

Figure 19: Alternate calibration schemes.

11.1 Alternate calibration method

Another method to calibrate the power detector makes use of two synthesizers
in the frequency region of interest, so that the beat note falls in the audio
frequencies (Fig. 19). This scheme is inspired to the two-tone method, chieﬂy
used to measure the deviation of the detector from the ideal law vd = kdP
[RST+95, WCS04].
Using P = v2

R , and denoting the carrier and the reference sideband with
v0(t) = V0 cos(2πν0t) and vs(t) = Vs cos(2πνst), respectively, the detected signal

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

32

is

vd(t) =

v0(t) + vs(t)

hlp(t) .

(53)

kd
R

n

2

∗

o

The low-pass function hlp keeps the dc and the beat note at the frequency
νb = νs

ν0, and eliminates the νs + ν0 terms. Thus,

−

vd(t) =

V 2
0 +

V 2
s + 2

1
2

1
2

kd
R

1
2

n

V0Vs cos

2π(νs

ν0)t

,

(54)

−

(cid:3)o

(cid:2)

which is split into the dc term

vd = kd

0 + V 2
V 2
s
2R

and the beat-note term

˜vd(t) = 2

cos

2π(νs

ν0)t

,

kd
R

V0Vs
2

−

(cid:2)

(cid:3)

hence

Vd

rms = kd
(cid:1)

(cid:0)

p

2P0Ps .

The dc term [Eq. (55)] makes it possible to measure kd from the contrast
between v1, observed with the carrier alone, and v2, observed with both signals.
Thus,

kd =

v2

v1

−
Ps

Alternatively, the ac term [Eq. (57)] yields

Vd

kd =

rms
√2P0Ps
(cid:1)
(cid:0)
The latter is appealing because the assessment of kd relies only on ac mea-
surements, which are free from oﬀset and thermal drift. On the other hand,
the two-tone measurement does not provide the straight measurement of the
product kdP0.

(59)

12 Examples

Figure 20 show an example of AM noise measurement. The source under test
is a 100 MHz quartz oscillator (Wenzel 501-04623E serial no. 3752-0214).

Calibration is done by changing the power P0 =

0.1 dB.
105 V/W, including the 52
There results ka = 1.28
×
dB ampliﬁer (321 V/W and 336 V/W without ampliﬁcation). The system gain
is therefore 4kakbPaPb = 641 V2 (28.1 dBV2).

105 V/W and kb = 1.34

10.2 dBm by

×

±

−

(55)

(56)

(57)

(58)

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

33

+13dBm

Wenzel
501−04623E

home
made

Weinschel
3055

atten

atten

100MHz
B=2MHz

0.1 dB step

100MHz
OCXO
under test

−6.9dBm

−10.2dBm

Herotek
DZR 124AA

home
made

Macom
T−1000

52dB

10
Ωk

10
Ωk

HP
3052A

l
e
n
n
a
h
c
 
l
a
u
d

r
e
z
y
l
a
n
a
 
 

T
F
F

Wenzel 501-04623E (s/n 3572-0214)

10.2 dBm)
−1 with dc ampli

×

Pd = 9.5 µW (
−
105 A
kd = 1.31
m = 638 averaged spectra
1/√2m = 35.7 (15.5 dB)
10−12 Hz−1 (

h−1 = 1.15
10
σα = 4

×
−7

×

129.4 dB)

−

Figure 20: Example of AM noise measurement.

10−

11 V2 (

The cross spectrum of Fig. 20 is Sba = 1.26

109 dBV2/Hz)
at 10 Hz, of the ﬂicker type. Averaging over m = 638 spectra, the single-
channel noise is rejected by √2
638 = 35.7 (15.5 dB). The displayed ﬂicker
109 dB at 10 Hz) exceeds by only 3.8 dB the rejected single-channel noise.
(
−
A correction of a factor 0.58 (
2.3 dB) is therefore necessary. The corrected
−
101.3 dBV2/Hz) extrapolated at 1 Hz. The
11 V2 (
ﬂicker is Sba = 7.4
white noise can not be obtained from Fig. 20 because of the insuﬃcient number
of averaged spectra.

10−

−

×

−

×

×

As a consequence of the low amplitude noise of the oscillator, it is possible
to measure the noise of single channel, which includes detector and ampliﬁer.
Accounting for the gain (28.1 dBV2), the single-channel ﬂicker noise of Fig. 20
1 (
116.1 dB/Hz) for one channel, and
at 1 Hz is Sα(1 Hz) = 2.5

12 Hz−

10−

×

−

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

34

Table 8: AM noise of some sources.

source

Anritsu MG3690A
synthesizer (10 GHz)

Marconi
synthesizer (5 GHz)

Macom PLX 32-18
0.1

9.9 GHz multiplier

Omega DRV9R192-105F
9.2 GHz DRO

→

Narda DBP-0812N733
ampliﬁer (9.9 GHz)

HP 8662A no. 1
synthesizer (100 MHz)

HP 8662A no. 2
synthesizer (100 MHz)

Fluke 6160B
synthesizer

Racal Dana 9087B
synthesizer (100 MHz)

Wenzel 500-02789D
100 MHz OCXO

Wenzel 501-04623E no. 1
100 MHz OCXO

Wenzel 501-04623E no. 2
100 MHz OCXO

h

1

2.5

−
1.1

−
1.0

11

×

×

×

×

×

×

−
10−
106.0 dB
12

10−
119.6 dB
12

10−
120.0 dB
11

10−
100.9 dB
11

10−
105.4 dB
13

10−
121.7 dB
12

10−
118.8 dB
12

10−
118.3 dB
12

10−
110.8 dB
12

10−
113.3 dB
13

10−
127.1 dB
13

10−
128.8 dB

×

×

×

×

×

×

−
8.1

−
2.9

−
6.8

−
1.3

−
1.5

−
8.4

−
4.7

−
2.0

−
1.3

−

σα

notes
6 Fig. 21 A

5.9

10−

1.2

6

10−

1.2

10−

6 Fig. 22 A

1.1

10−

6 Fig. 21 B

bump and junks

6.3

10−

6 Fig. 22 A/B

9.7

10−

1.4

10−

1.5

10−

3.4

10−

2.6

10−

7 Fig. 21 C
junks
6 Fig. 21 D
junks
6 Fig. 21 E
junks
6 Fig. 21 F
junks
6 Fig. 20

5.2

7

10−

4.3

7

10−

×

×

×

×

×

×

×

×

×

×

×

×

×

10−

Sα(1 Hz) = 3.4

12 Hz−

1 (
−
The AM ﬂickering of the oscillator is Sα(1 Hz) = 1.15
10−

114.7 dB/Hz) for the other channel.
13 Hz−

129.4
13. Using the conversion formula of Tab. 2 for
13, which indicates an amplitude

1 = 1.14

dB/Hz), thus h
−
ﬂicker noise, the Allan variance is σ2
stability σα = 4

×
7, independent of the measurement time τ .

α = 1.6

10−

10−

10−

1 (

−

×

×

Table 8 shows some examples of AM noise measurement. The measured

×

spectra are in Fig. 20, 21, and 22

All the experiments of Tab. 8 and Fig. 20, 21, and 22 were done before think-
ing seriously about the design of the front-end ampliﬁer (Section 7), and before
measuring the detector gain as a function of the load resistance (Table 5, and
Figures 6–7). The available low-noise ampliﬁers, designed for other purposes,
turned out to be a bad choice, far from being optimized for this application.

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

35

A: Anritsu MG3690A synthesizer B: DRO Omega DRV9R192-105F

C: HP 8662A synthesizer

D: HP 8662A synthesizer

E: Fluke 6160B synthesizer

F: Racal Dana 9087B synthesizer

Figure 21: Examples of AM noise measurement.

Nonetheless, in all cases the observed cross spectrum is higher than the limit set
by the average of two independent single-channel spectra. In addition, the limit
set by channel isolation is signiﬁcantly lower than the observed cross spectrum.
These two facts indicate that the measured cross-spectrum is the true AM noise
of the source. Thus Table 8 is an accurate database for a few speciﬁc cases. Of
course, Table 8 also provides the order of magnitude for the AM noise of other
synthesizers and oscillators employing similar technology. On the other hand,
the data of Table 8 do not provide information on the detector noise.

The ampliﬁer used in almost all the experiments is the “super-low-noise
ampliﬁer” proposed in the data sheet of the MAT03 [Pmi, Fig. 3], which is
matched PNP transistor pair. For reference, the NPN version of this ampliﬁer

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

36

Figure 22: Examples of AM noise measurement.

is discussed in [Fra97]. The input diﬀerential stage of this ampliﬁer consists
of three diﬀerential pairs connected in parallel, so that the voltage noise is the

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

37

noise of a pair divided by √3. Yet the current noise is multiplied by √3. As a
consequence, the ampliﬁer is noise-matched to an impedance of some 200 Ω for
ﬂicker noise, and to some 30 Ω for white noise, which is too low for our purposes.
The second version of the MAT03 ampliﬁer, designed after the described exper-
iments, was optimized for the lowest ﬂicker when connected to a 50 Ω source
[RLV04]. This ampliﬁer, now routinely employed for the measurement of phase
noise, makes use one MAT03 instead of three. In two cases (Fig. 22) a diﬀerent
ampliﬁer was used, based on the OP37 operational ampliﬁer loaded to an input
resistance of some 1 kΩ. Interestingly, in the operating conditions of AM noise
measurements, the OP37 outperforms the more sophisticated MAT03.

13 Final remarks

True quadratic detection vs. peak detection. Beyond a threshold power,
a power detector leaves the quadratic operations and works as a peak detector.
The peak detection is the same operation mode of the old good detectors for
AM broadcasting (which is actually an envelope modulation). This operation
mode exhibits higher gain, hence it could be advantageous for the measurement
of low-noise signals. The answer may depend on the diode type, Schottky or
tunnel. The strong recommendation to use the diode in the quadratic region
might be wrong.

Trans-resistance ampliﬁers.
In principle, the power detector can be used as
a power-to-current converter (instead of as a power-to-voltage) converter, and
connected to a trans-resistance ampliﬁer. The advantage is that the resistor
at the detector output, which is a relevant source of noise in voltage-mode
measurements, is not present. This choice, suggested in [Bur63], is never found
in the technical literature accompanying the detectors.

Cryogenic environment.
In principle, the tunnel diode should work at cryo-
genic temperatures. Yet, the laboratory could be much less smooth than the
theory.

References

[Agi03]

[Bur63]

Agilent Technologies, Inc., Paloalto, CA, Fundamentals of RF and
microwave power measurements, Part 1–4, 2003. 4

C. A. Burrus, Backward diodes for low-level millimeter-wave detec-
tion, IEEE Trans. Microw. Theory Tech. 11 (1963), no. 9, 357–362.
4, 13

[Cha02] William S. C. Chang (ed.), RF photonic technology in optical ﬁber

links, Cambridge, Cambridge, UK, 2002. 10

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

38

[Eng61]

[Fra97]

Sverre T. Eng, Low-noise properties of microwave backward diodes,
IRE Trans. Microw. Theory Tech. 9 (1961), no. 5, 419–425. 6

Sergio Franco, Design with operational ampliﬁers and analog inte-
grated circuits, 2nd ed., McGraw Hill, Singapore, 1997. 12

[Gab67] William F. Gabriel, Tunnel-diode low-level detection, IEEE Trans.
Microw. Theory Tech. 15 (1967), no. 10, 538–553. 4, 6

[Gra96]

Jerald G. Graeme, Photodiode ampliﬁers, McGraw Hill, Boston
(MA), 1996. 9

R. N. Hall, Tunnel diodes, IRE Trans. Electron Dev. (?) (1960),
no. 9, 1–9. 4

Ir`ene Joindot, Measurement of relative intensity noise (RIN) in
semiconductor lasers, J. Phys. III France 2 (1992), no. 9, 1591–1603.
9

[NNW94] Lisa M. Nelson, Craig Nelson, and Fred L. Walls, Relationship of
AM to PM noise in selected RF oscillators, IEEE Trans. Ultras.
Ferroelec. and Freq. Contr. 41 (1994), no. 5, 680–684. 5, 8

Gregory E. Obarski and Jolene D. Splett, Transfer standard for the
spectral density of relative intensity noise of optical ﬁber sources near
1550 nm, J. Opt. Soc. Am. B - Opt. Phys. 18 (2000), no. 6, 750–761.
9

Analog Devices (formerly Precision Monolithics Inc.), Speciﬁcation
of the MAT-03 low noise matched dual pnp transistor, Also available
as mat03.pdf on http://www.analog.com/. 12

H. Rothe and W. Dahlke, Theory of noisy fourpoles, Proc. IRE 44
(1956), 811–818. 7

Enrico Rubiola and Vincent Giordano, Advanced interferomet-
ric phase and amplitude noise measurements, Rev. Sci. Instrum.
73 (2002), no. 6, 2445–2457, Also on arxiv.org, document
arXiv:physics/0503015v1. 1

[Hal60]

[Joi92]

[OS00]

[Pmi]

[RD56]

[RG02]

[RLV04]

Enrico Rubiola and Franck Lardet-Vieudrin, Low ﬂicker-noise
Instrum. 75 (2004),
ampliﬁer
no. 5, 1323–1326, Free preprint available on arxiv.org, document
arXiv:physics/0503012v1, March 2005. 7, 12

for 50 Ω sources, Rev. Sci.

[RST+95] Victor S. Reinhardt, Yi Chi Shih, Paul A. Toth, Samuel C. Reynolds,
and Arnold L. Berman, Methods for measuring the power linearity
of microwave detectors for radiometric applications, IEEE Trans.
Microw. Theory Tech. 43 (1995), no. 4, 715–720. 11.1

E. Rubiola, The meas. of AM noise of oscillators. February 2, 2008

39

[RSYM06] Enrico Rubiola, Ertan Salik, Nan Yu, and Lute Maleki, Flicker noise
in high-speed p-i-n photodiodes, IEEE Transact. MTT, special issue
on Microwave Photonics (in press), February 2006, Free preprint
available on arxiv.org, document arXiv:physics/0503022v1, March
2005. 10

[SFF99] M. Sampietro, L. Fasoli, and G. Ferrari, Spectrum analyzer with
noise reduction by cross-correlation technique on two channels, Rev.
Sci. Instrum. 70 (1999), no. 5, 2520–2525. 7

[SJMN06] Alwyn Seeds, Paul Juodawlkis, Javier Marti, and Tadao Nagatsuma
(eds.), IEEE Transactions on Microwave Theory and Techniques,
special issue on microwave photonics, IEEE, February 2006. 10

[SSL90]

C. B. Su, J. Schiafer, and R. B. Lauer, Explanation of low-frequency
relative intensity noise in semiconductor lasers, Appl. Phys. Lett.
57 (1990), no. 9, 849–851. 9

[WCS04] D. K. Walker, K. J. Coakley, and J. D. Splett, Nonlinear model-
ing of tunnel diode detectors, Proc. 2004 IEEE International Geo-
science and Remote Sensing Symposium (IGARSS ’04), vol. 6, 2004,
pp. 3969–3972. 11.1

