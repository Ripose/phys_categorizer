 
Ranking Spaces for Predicting Human Movement in an Urban Environment 
 
Bin Jiang 
 
Department of Land Surveying and Geo-informatics, The Hong Kong Polytechnical University 
Hung Hom, Kowloon, Hong Kong, Email: bin.jiang@polyu.edu.hk 

(November 2006 version 1) 

Abstract 
In this paper, we consider a city as an interconnected graph or topology in which nodes and links 
represent individual spaces and space intersections respectively. Based on the topology, we apply 
weighted  PageRank  algorithm  for  ranking  the  individual  spaces,  and  find  surprisingly  that  the 
PageRank  scores  are  significantly  correlated  to  human  movement  both  pedestrian  and  vehicle  in 
four  observed  areas  of  central  London.  We  also  illustrate  the  fact  that  the  topology  demonstrates 
small  world  and  scale  free  properties.  The  findings  provide  a  novel  justification  as  to  why 
topological  analysis  can  be  used  to  predict  human  movement  at  a  certain  confidence  level.  We 
further conclude that the kind of analysis is no more than predicting a drunkard walking on a small 
world and scale free network. 
 
Keywords: Topological analysis, small world, power law, human movement, and PageRank   

 
 
1. Introduction 
A space, in the context of this paper, refers to a small scale space that is small enough and can be perceived from 
a single vantage point. From this point of view, an urban environment that is too big to be viewed from a single 
vantage point is constituted by many (small scale) spaces. This way a city can be abstracted as an interconnected 
topology  in  which  nodes  and  links  represent  individual  street  segments  and  their  intersections  respectively. 
Similarly,  a  building  complex  can  be  abstracted  as  a  topology  in  which  nodes  represent  individual  rooms  or 
corridors,  and  links  represent  the  doors.  The  topology  formed  at  either  a  city  or  a  building  level  is  an 
interconnected whole in which each node has a different topological status. For instance, some of them are well 
connected (with a high degree of connectivity), while others are less so. Assuming a fog randomly jumping from 
one  node  to  its  successors  in  the  topology,  the  chance  the  fog  visits  individual  nodes  is  decided  by  the 
connectivity  of  the  nodes.  This  is  simply  based  on  the  theory  of  Markov  chains  (e.g.,  Ching  and  Ng  2006). 
Although human movement is not as simple as the fog’s jumping, nodes’ connectivity does show some level of 
correlation to pedestrian and vehicle flows. However, the prediction effect is not very satisfied. Researchers in 
space  syntax  community  (Hillier  and  Hanson  1984,  Hillier  1996)  have,  over  the  past  two  decades,  made 
enormous empirical studies and claimed that human movement both pedestrian and vehicle can be predicted by 
local integration, a node’s path length within two steps. The local integration has now become a default indicator 
for human movement.   
 
Despite  the  finding  and  progress  in  space  syntax,  seeking  alternative  metrics  for  ranking  spaces  has  been  a 
continuous  effort.  Recently  Jiang  (2006)  has  proposed  the  concepts  of  flow  dimension  and  capacity  for 
characterizing  structural  properties  of  individual  streets,  and  applied  to  real  world  networks  including  sexual, 
biological  and  urban  street  networks.  More  importantly,  the  phenomenal  success  of  Google  search  engine  has 
proved the effectiveness of PageRank algorithm (Page and Brin 1998) in ranking pages of the World Wide Web. 
The  PageRank  has  also  been  used  for  ranking  journal  status  (Bollen  et  al.  2006)  and  the  importance  of 
publications (Chen et al. 2006). For a more comprehensive overview of PageRank and its applications, the reader 
may  refer  to  the  research  monograph  by  Langville  and  Meyer  (2006).  In  this  paper,  we  apply  an  extended 
PageRank algorithm, weighted PageRank (Xing and Ghorbani 2004) for ranking the individual spaces, and find 
that  the  PageRank  scores  are  significantly  correlated  to  human  movement  both  pedestrian  and  vehicle  in  four 
observed areas of London. The correlation is even slightly better than the local integration. This finding provides 
a  novel  justification  as  to  why  topological  analysis  can  be  used  to  predict  human  movement  at  a  certain 
confidence level. Given the fact that the underlying topology exhibits small world and scale free properties, we 
conclude that the kind of analysis is no more than predicting a drunkard walking on a small world and scale free 
network  (Note:  in  this  paper,  graph,  topology  and  network  are  interchangeably  used).  This  point  will  be 
elaborated in detail later in the paper.   
 
The remainder of this paper is organized as follows. Section two introduces several metric for ranking nodes of a 

 

 

 

1

graph including space syntax metrics, small world and PageRank metrics. Section three presents our experiments 
with aims of examining (1) small world and scale free properties of the London axial map and four areas around 
the  central  London,  (2)  correlation  between  the  observed  pedestrian  and  vehicle  flows  and  the  weighted 
PageRank  scores,  in  comparison  with  the  local  integration.  Based  on  the  experiments,  section  four  provides  a 
justification of our findings, i.e., a never-get-stuck-or-tired random walker who has a preference while jumping 
to its successors. Finally section five concludes the paper and points to our future work.   
 
 
2. Metrics for ranking spaces 
Before the introduction to the metrics for ranking spaces, let’s take a look at how an urban environment (Figure 
1a)  can  be  transformed  into  a  connected  graph  or  topology  based  on  space  syntax  principles.  As  briefly 
mentioned early, an urban environment, in particular part of the environment in which people can freely move 
around,  can  be  partitioned  into  many  small  scale  spaces.  The  spaces  can  be  approximated  by  individual  axial 
lines (Figure 1b). From the axial map to the connected graph (Figure 1c) seems a straightforward operation, i.e., 
the  axial  lines  and  line  intersections  being  respectively  the  nodes  and  links  of  the  graph.  For  the  sake  of 
simplicity,  we  adopt  the  fictive  urban  system  for  illustrating  the  basic  principles  of  space  syntax.  In  practical 
exercises,  the  generation  of  an  axial  map  for  a  reasonable  large  city  is  a  very  tedious  process,  as  there  is  no 
efficient  automatic  solution  yet.  The  limitation  of  space  syntax  in  the  kind  of  representation  has  been  well 
recognized in the space syntax community (e.g. Ratti 2004, Batty 2004, Jiang and Claramunt 2002), alternative 
representations have been put forward (e.g., Jiang and Claramunt 2002, Jiang and Claramunt 2004) to overcome 
the  shortcoming.  However,  this  paper  does  not  deal  with  the  representation  issue;  instead  we  concentrate  on 
metrics by assuming an underlying topology is correctly generated already.   
 

a

s cent

e

c r

e t

e

r

t

s

t  

s

w e

r e e t

  s t

e a s t

b

7

12

2

3

1

8

6

11

13

9

4

5

10

1

c

6

7

8

9

10

2

3

4

5

11

12

13

 

 
Figure 1: A fictive urban system (a), its axial map (b) and connectivity graph (c)   

 
2.1 Space syntax metrics 
Connectivity  is  a  most  simple  metric  for  assessing  rankings  of  nodes  within  a  connected  graph.  It  equals  the 
number of directly linked or neighboring nodes. A second metric of space syntax is called integration, which is 
based on the concept of depth. For any particular node in the connectivity graph, the shortest distance (or steps) 
far from the node is denoted by s (s is an integer), the number of nodes with the shortest distance s is denoted by 
Ns,  the  maximum  shortest  distance  is  denoted  by  ki.  The  ki  varies  from  one  node  to  another,  but  the  longest 
shortest distance is the diameter of a graph. Using the expression  ∑
defined as follows: 
 

, both connectivity and depth are 

sNs
×

1
=

k

s

×∑

Ns

s

=

k

s

1
=

connectivi

ty

⎧
⎪
local
⎨
⎪
⎩

global

depth

depth

iff

s

=

k

=

1

iff

iff

s
2

s
≤≤

k

i

 

 

 

 

 

[1] 

 
s=2 implies that we consider those lines within two steps far from an axial line. We can remark that connectivity 
is equivalent to local depth when s = 1. Taking the above node 1 for example, this node has four directed linked 
nodes, so the connectivity is 4. Apparently it is a local property. In contrast, global depth assesses how far a node 
to all other nodes at a global scale. For example, node 1 has four nodes in step one, five nodes in step two, and 
three nodes in step 3, the sum 4 × 1 + 5 × 2 + 3 × 3 indicates the global depth. Instead of all steps, if we consider 
those nodes within two steps, the sum 4 × 1 + 5 × 2 gives the local depth.   
 
The  depth  either  local  or  global  divided  by  the  number  of  nodes  involved  minus  one  leads  to  local  or  global 

 

2

mean depth (MD). The integration used in space syntax is a metric for measuring relational asymmetry, either by 
Relative Asymmetry (RA) or by Real Relative Asymmetry (RRA). They are given as follows: 
 

iRA
)(

=

)1

MD
(2
(
n
−

−
)2

 

 

 
and, 
 

RRA

)( =
i

   

 

)(
iRA
nD

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

        [2] 

 

[3] 

 
where n is the number of nodes involved, and Dn is given by   
 

2

n

log

2

⎧
⎨
⎩

⎡
⎢
⎣

2

n
⎛ +
⎜
3
⎝
−

)(1

n

⎞
−⎟
⎠
−

)2

(

n

⎤
1
+⎥
⎦

⎫
1
⎬
⎭

Dn

=

. 

 

 

 

 

 

 

 

[4] 

 
Note for global integration n is the total number of nodes within the connected graph, while for local integration 
n is the number of nodes within two steps far from a particular node. In space syntax software like Axman1  and 
Axwoman2, integration is the reciprocal value of RRA. This means that the bigger the integration value the more 
integrated the axial line is.   
 
2.2 Small world metrics 
The  above  concept  of  global  depth  has  another  name,  called  path  length,  one  of  two  small  world  metrics.  It 
represents a degree as to how a node separates from all other nodes. The average path length of all individual 
nodes is that of the connected graph, indicating a separation between two randomly chosen nodes. For example, 
the above node 1 has path length of 4 × 1 + 5 × 2 + 3 × 3, indicating an extent as to how it is far from all other 
nodes. A node with a smaller path length tends to be more centralized, as it is closer to every other. For most real 
world networks, their path lengths are very short, approaching the path length of their equivalent random graph. 
It is often used to verify whether or not a graph has a small separation.   
 
Another  small  world  metric  is  clustering  coefficient,  proposed  by  Watts  and  Strogatz  (1998).  It  is  a  ratio  of 
actual links to all possible links, among the neighbours of a particular node. Formally it is defined as follows: 
 

iC

)( =

#
of
#
of

actual
possible

edges
edges

 

 

 

 

 

 

 

 

 

 

[5] 

 
Again taking the above node 1 for example, among its four neighbours, actual links are 1 (between nodes 4 and 
5),  and possible  links  are 6, so  the  clustering  coefficient for  the node  is  1/6. The  clustering  coefficient  can be 
used  for  ranking  individual  nodes  in  terms  of  local  efficiency,  the  higher  the  clustering  coefficient  of  a  node, 
more efficient a message is diffused among the neighbours of the particular node. In the context of the paper, we 
aggregate  the  two  metrics  of  individual  nodes  as  the  metrics  of  relevant  graphs  for  verifying  a  small  world 
structure.   
 
2.3 PageRank metrics 
PageRank  is  a  key  technology  behind  the  Google  search  engine  that  decides  the  relevance  and  importance  of 
web pages. This is through a web graph in which nodes and links represent individual web pages and hotlinks. 
Thus the web graph is a directed graph, i.e., a hotlink from page A to B does not imply other way around. The 
basic idea of the PageRank is that a highly ranked node is one that highly ranked nodes point to (Page and Brin 

                                                        
1  a space syntax program based on Macintosh computer, for more details refer to 
http://www.spacesyntax.org/software/macbundle.asp 
 
2  a freeware space syntax program implemented as an extension of ArcView GIS software, for downloading 
refer to http://www.hig.se/~bjg/Axwoman.htm 
 

 

3

1998). PageRank is used to rank individual web pages in a hyperlinked database. It is defined as follows.   
 

)(
iPR

=

+

d

1

d

−
n

∑

iONj
)(
∈

)(
jPR
jn

 

 

 

 

 

 

 

 

[6] 

where n is the total number of nodes; ON(i) is the outlink neighbors (i.e., those nodes that point to node i); PR(i) 
and PR(j) are rank scores of node i and j, respectively; nj denotes the number of outlink nodes of node j; d is a 
damping factor, which is usually set to 0.85 for ranking web pages. 
 
The PageRank of a node relies on that of nodes that point to, i.e., a highly ranked node is one that highly ranked 
nodes  point  to.  This  is  the  beauty  of  the  PageRank  algorithm.  The  computation  of  PageRank  is  carried  out 
iteratively starting with evenly distributed scores for individual nodes, and ending till a convergence is reached. 
The resulted PageRank scores are probabilities of individual nodes, and the sum of them for a web graph is equal 
to 1. The true meaning of the scores is their relative value, rather than an absolute value, for the ranking purpose. 
PageRank  is  nicely  justified  as  a  random  surfer  who  continuously  with  probability  d  clicks  hotlinks  from  one 
page to another. The random surfer jumps with probability (1-d) from one page to a randomly chosen page, or 
jumps with probability one to a randomly chosen page in case there is no hotlink for a page. PageRank is the 
stationary  probability  of  a  Markov  chain  (cf.  Langville  and  Meyer  2006),  and  it  is  a  variant  of  eigenvector 
centrality (Bonacich 1987) defined in social networks. 
 
The above definition of PageRank has one problem, i.e. the PageRank of a node is evenly divided over the nodes 
to which it links (or outlink nodes). For example, the PageRank of node 1 is supposed to propagate into its four 
linked  nodes  2,  3,  4  and  5.  According  to  equation  [6],  every  one  of  the  four  nodes  gets  a  same  amount  of 
PageRank contributed by node 1. However, the propagation of the PageRank should follow an uneven rule that 
the more popular nodes tend to get a more proportion. In other words, it is proportional to the popularity of the 
linked nodes. This is exactly the basic motivation of weighted PageRank (Xing and Ghorbani 2004).   
 
The weighted PageRank is defined as follows: 
 

iPR
)(

=

1

d

−
n

+

d

∑

jWjPR
)(
)(
)(
iON

 

j

∈

 

 

 

 

 

 

 

[7] 

 
where weight W(j) is added to propagate a PageRank score from one particular node i to its outlink nodes. This is 
different from equation [6], where a PageRank score is evenly divided among its outlink nodes.   
 
The weight W(j) represents relative popularity of node j among its counterparts, and it is defined as follows: 
 

)(
jW

=

)(
jw
∑
)(
kw

   

 

 

 

 

 

 

 

 

 

 

[8] 

Where k is counterpart nodes of j, w is the weight for individual links, indicating their popularity based on the 
percentage of inlinks and outlinks.   
 
Initially  PageRank  is  defined  for  web  graphs  that  contain  dangling  nodes.  However  when  it  is  applied  for 
ranking spaces for an environment, the connected graph or topology is a connected and undirected graph, thus no 
dangling  nodes.  For  any  undirected  graph,  the  computed  PageRank  scores  are  equivalent  to  the  connectivity 
scores.  In  the  following  section,  we  will  report  our  experiments  to  illustrate  that  (1)  urban  street  networks 
demonstrate  small  world  and  scale  free  structures;  (2)  human  movement  is  significantly  correlated  to  the 
weighted PageRank, slightly better than the local integration.   
 
 
3. Experiments with three central London areas 
 
3.1 The datasets 
The datasets used in our experiments were studied in the previous work on modeling human movement (Hillier 
et  al.  1993,  Penn  et  al.  1998).  The  London  axial  map  forms  an  underlying  topology,  which  was  generated  by 
taking each individual street or space as an axial line. The kind of axial map is supposed to be a least number of 
longest  axial  lines.  The  London  axial  map  consists  of  17321  lines,  each  of  which  represents  approximately  a 
space in reality (Figure 2a). The axial map provides a skeleton view of the world city, and it can be analyzed 
topologically.  Three  local  areas  in  central  London,  namely  Barnsbury,  Clerkenwell,  and  South  Kensington 

 

4

(Figure 2b) are selected for a more detailed investigation, in comparison to the entire London topology. Another 
dataset  about  human  movement  both  pedestrian  and  vehicle  in  central  London  was  obtained  for  verifying 
correlations  between  ranking  metrics  and  human  movement.  These  datasets  are  publicly  available  at 
http://eprints.ucl.ac.uk/archive/00001398/.  A  major  reason  why  we  adopt  the  datasets  is  that  the  datasets  have 
been  well  studies  previously  (e.g.  Hillier  and  Iida  2005,  Carvalho  and  Penn  2004),  becoming  benchmark 
datasets in the space syntax community. Our aim is to investigate whether or not any alternative metric such as 
PageRank can be a good indicator for human movement in an urban environment. 
 

(a) 

 

(b) 

 
Figure 2: London axial map colored with local integration (a), and three test areas in central London: Barnsbury 
(red), Clerkenwell (green) and South Kensington (blue) 

 
3.2 Small world and scale free structures 
A first goal of the study is to assess the underlying topology of the London urban environment from a structural 
point of view. To this end, both path length and clustering coefficient were computed for the London topology, 
in comparison to its equivalent regular and random counterparts. Path length is to assess how one node separates 
from  all  other  nodes  within  a  topology,  whereas  clustering  coefficient  to  indicate  level  of  clustering  of  the 
individual nodes of a topology. As we can see, the two metrics are initially defined as structural properties of 
individual  nodes.  However,  they  become  a  property  of  a  topology  by  taking  a  means  of  the  metrics  for  the 
individual nodes, thus are used to assess whether or not a real world network obeys the small world structure. 
Our computed result confirms the small world structure of the London axial map, i.e. on average the lines are 
shortly  separated  at  a  global  level,  and  highly  clustered  at  a  local  level.  The  illustrated  small  world  property 
seems universal across the whole London region. Three test areas in the central London exhibit the same kind of 
structure, although the average connectivity and path length differ from the entire topology to the three extracted 
ones (Table 1). The small world structure appears to suggest a kind of hidden geometry elaborated by Hillier et 
al. (1999) while arguing why space syntax works.   

 
Table 1: Small world metrics for the London topology and its three subsets 
 

Area 

Barnsbury 

Clerkenwell 

Kensington 

London 

N 

1915 

3622 

2742 

17321 

M 

4.7 

4.9 

4.7 

4.2 

L 

8.4 

8.3 

8.1 

15.9 

C 

0.18 

0.18 

0.16 

0.17 

Lreg 

638.3   

370.8   

914.0   

5773.7 

N: the number of lines 
Lrand: L for random graph 

M: the average connectivity
Creg: C for regular graph 

Lreg: L for regular graph 
C: clustering coefficient 

Lrand 

4.9 

5.2 

5.1 

Crand 

0.0025 

0.0014 

0.0017 

0.00024 

6.8 
L: path length 
Crand: C for random graph 

 
Another aspect of the so called hidden geometry, to my understanding, is that both connectivity and line length 
follow a power law distribution. A power law relationship between two variables x and y can be mathematically 
expressed as y = kx-α. A very typical power law is called Zipf’s law, named after George Kingsley Zipf (1949) 
who initially discovered the law. Zipf observed that the frequency of English words occurred unevenly in a text. 
A  typical  power  law  curve  starts  at  its  maximum  frequency  and  decreases  sharply  to  a  certain  value  and  then 

 

5

continues to decrease very slowly all the way to infinity. Eventually an L-shaped curve is emerged for the power 
law. To examine whether or not a data set follows a power law, we can simply plot the data set in a log-log plot. 
If we take a logarithm for the above power law function, i.e. Log(y) = -αlog(x) + log(k), clearly the L-shaped 
curve becomes a straight line on a log-log scale. Power law has been treated as a universal law, and has recently 
received  a  revival  of  research  interests  in  statistical  physics  (Newman  2005).  However,  the  ideal  power  law 
distribution  is  only  applicable  for  a  system  with  an  infinite  size  in  theory  (Amaral  et  al.  2000).  Our  study 
illustrates that both connectivity and line length exhibit a sort of the power law distribution. Figure 3 illustrates a 
series  of  log-log  plots.  The  power  law  distribution  is  also  called  scale  free  property  in  terms  of Barabási  and 
Albert (1999). This is not a surprising finding. The scale free property has also been illustrated in the previous 
study  by  Carvalho  and  Penn  (2004),  where  line  length  demonstrates  a  scaling  universality  for  over  30  urban 
environments. 
 

y = -3.17x + 2.19
R2 = 0.98

y = -3.12x + 2.29
R2 = 0.96

y = -3.5x + 2.49
R2 = 0.97

y = -3.02x + 1.42
R2 = 0.95

0

0.5

1

1.5

2

2.5

0

0.5

1

1.5

2

0.5

1

1.5

2

0.5

1

1.5

2

(a) London 

(b) Barnsbury 

(c) Clerkenwell 

(d) S. Kensington 

-0.5

-1.5

-2.5

-3.5

0

-1

-2

-3

0

-1

-2

-3

-0.5

-1.5

-2.5

-3.5

-4

0

0

-0.5

-1

-1.5

-2

-2.5

-3

-3.5

0

-0.5

-1

-1.5

-2

-2.5

-3

-3.5

-4

0

0

-0.5

-1

-1.5

-2.5

-2

-3

-3.5

-4

0

0

-0.5

-1

-1.5

-2.5

-2

-3

-3.5

-4

0

y = -3.11x + 2.28
R2 = 0.99

y = -3.23x + 1.99
R2 = 0.98

y = -2.68x + 0.93
R2 = 0.97

y = -2.63x + 0.90
R2 = 0.98

0

0.5

1

1.5

2

2.5

0

0.5

1

1.5

2

0.5

1

1.5

2

0.5

1

1.5

2

(e) London 

(f) Barnsbury 

(g) Clerkenwell 

(h) S. Kensington 

Figure 3: Power law distributions of connectivity (a-d) and length (e-h) of the axial lines of the three test areas 

 
To this point, we have illustrated that the London topology exhibits both small world and scale free properties. In 
other words, the urban environment shows neither random nor order, but a hidden order. This kind of structure 
resembles the semi-lattice that Alexander (1965) elaborated on or what Hillier (1999) called hidden geometry. 
 
3.3 Correlation between human movement and ranking metrics 
Having  illustrated  the  hidden  structure,  in  this  section  we  will  examine  which  ranking  metrics  have  a  best 
correlation  to  human  movement.  To  this  end,  the  dataset  used  for  the  verification  is  observed  pedestrian  and 
vehicle flows for fifty minutes in almost all street segments around the four sites (Figure 4 and Figure 5). The 
number  of  gates  set  in  the  street  segments  varies  from  one  site  to  another.  The  flows  of  individual  gates  are 
aggregated into their associated lines for correlation study. To our surprise, the weighted PageRank scores are 
significantly  correlated  to  the  pedestrian  and  vehicle  flows,  slightly  better  than  local  integration  in  the  third 
decimal (Table 2). We have further noticed that the correlation between PageRank and movement gets better and 
better  as  the  damping  factor  d  increases.  This  observation  is  valid  for  both  the  standard  PageRank  and  the 
weighted PageRank. Table 2 also indicates that the three space syntax metrics do correlate to human movement, 
and the difference of r-squares is very trivial. In a contrast, the weighted PageRank with damping factor 1.0 is 
different from other PageRank scores with other values of the damping factor. Our study ignores other factors 
such  as  predominant  land  use,  road  width,  and  building  height,  as  we  seek  purely  a  relationship  between 
movement  and  ranking  metrics.  The  distributions  of  pedestrian  and  vehicle  flows  are  positively  skewed. 
Therefore, before  checking  correlation,  the flow  rates  are taken by  the  fourth  root  to make  them  more  normal 
distribution. This adjusting process is applied to any metric if its distribution is skewed. 
 
 

6

-1.5

-0.5

0

-1

-2

-3

-4

-2.5

-3.5

-4.5

0

-0.5

-1

-1.5

-2

-2.5

-3

-3.5

-4

-4.5

 

 

Table 2: R-squares for the correlation between ranking metrics and human movement 
(NOTE: connect.= connectivity, local = local integration with two steps, global = global integration, PR85 = PageRank with damping factor 
equal to 0.85, PR100 = PageRank with damping factor equal to 1.0, WPR99 = weighted PageRank with damping factor equal to 0.99, 
WPR100 = weighted PageRank with damping factor equal to 1.0) 
 

Connect.  Local

Global 

PR85 

PR100 WPR99  WPR100

Site name (mode, #) 

Barnsbury (ped. 47) 

------------ (veh. 37) 

Clerkenwell (ped. 33) 

------------- (veh. 24) 

Kensington (ped. 46) 

------------- (veh. 31) 

Knightsbridge (ped. 67) 

--------------- (veh. 47) 

Mean 

0.69 

0.57 

0.48 

0.60 

0.59 

0.79 

0.32 

0.49 

0.70 

0.64 

0.54 

0.75 

0.62 

0.77 

0.38 

0.60 

0.64 

0.57 

0.28 

0.54 

0.42 

0.79 

0.29 

0.45 

0.68 

0.57 

0.31 

0.59 

0.59 

0.79 

0.32 

0.49 

0.68 

0.61 

0.52 

0.73 

0.62 

0.78 

0.36 

0.6 

0.70 

0.62 

0.56 

0.74 

0.62 

0.79 

0.38 

0.62 

0.566 

0.625

0.526 

0.498 

0.543 

0.613 

0.629 

(cid:0) (cid:0) (cid:0)(cid:0)
(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)
(cid:0) (cid:0)
(cid:0)
(cid:0)
(cid:0)
(cid:0)
(cid:0)
(cid:0)
(cid:0)
(cid:0)(cid:0)(cid:0)
(cid:0) (cid:0)
(cid:0)
(cid:0) (cid:0) (cid:0) (cid:0) (cid:0)
(cid:0)
(cid:0)
(cid:0)(cid:0)
(cid:0)
(cid:0)
(cid:0)
(cid:0) (cid:0)
(cid:0)(cid:0)
(cid:0)
(cid:0)(cid:0)(cid:0)
(cid:0)
(cid:0)
(cid:0) (cid:0)
(cid:0)
(cid:0) (cid:0)(cid:0)(cid:0) (cid:0)(cid:0)
(cid:0)(cid:0)
(cid:0)
(cid:0)
(cid:0) (cid:0) (cid:0)(cid:0) (cid:0)
(cid:0)
(cid:0)
(cid:0) (cid:0) (cid:0) (cid:0) (cid:0)
(cid:0)

(cid:0)
(cid:0)
(cid:0)(cid:0)
(cid:0)
(cid:0)
(cid:0)
(cid:0)
(cid:0)
(cid:0)

 

(a) 

(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)
(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)(cid:0) (cid:0)(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)
(cid:0)(cid:0)(cid:0)
(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)
(cid:0)

 
(b) 

(cid:0) (cid:0)(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)
(cid:0) (cid:0) (cid:0)
(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)
(cid:0)(cid:0)(cid:0)
(cid:0)(cid:0)(cid:0)
(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)
(cid:0)
(cid:0)(cid:0)(cid:0)(cid:0)
(cid:0)
(cid:0)(cid:0)
(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)
(cid:0)(cid:0)(cid:0)(cid:0)

(c) 

(cid:0)(cid:0)(cid:0)
(cid:0)(cid:0) (cid:0)(cid:0)(cid:0)(cid:0)(cid:0)
(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)(cid:0) (cid:0)(cid:0)(cid:0)
(cid:0)(cid:0)(cid:0)(cid:0)
(cid:0)
(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)(cid:0) (cid:0)(cid:0)(cid:0)(cid:0)
(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)
(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)(cid:0)
(cid:0)
(cid:0)(cid:0) (cid:0)
(cid:0)
(cid:0)(cid:0)
(cid:0)(cid:0)(cid:0)

 

(d) 

 
Figure 4: Four observed sites: Barnsbury (a), Clerkenwell (b), South Kensington (c) and Knightsbridge (d) 
embedded in the three central London areas 
 
 

0.45 

0.55 

0.54 

0.64 

0.41 

0.65 

0.49 

0.48 

 

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)
(cid:0)

(cid:0)
(cid:0)

(cid:0)
(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(a) 

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(b) 

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)
(cid:0)

 

 

7

 
 

 

 

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(c) 

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0) (cid:0)
(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

(cid:0)

 

 

(cid:0)

(cid:0)

(cid:0)

(d) 

 

 

Figure 5: Enlarged view of the four observed sites: Barnsbury (a), Clerkenwell (b), South Kensington (c) and 
Knightsbridge (d) 

 
4. Justification of our findings 
The above experiments end up with two major findings: (1) the underlying topology of an urban environment is 
far from random, but exhibits small world and scale free structures; (2) the weighted PageRank is significantly 
correlated to human movement. In this section, we will justify the findings from a point of view of the random 
walk (Woess 2000). In order to do so, it is important to note that the urban topology differs from a web graph in 
two aspects. Firstly the topology is an undirected graph, while a web graph is directed. Secondly, because the 
topology  is  undirected,  the  topology  contains  no  dangling  nodes.  The  standard  PageRank  for  a  web  graph  is 
justified as a random surfer that has the following behavior:   
 
IF (a node has no successors) THEN   

with probability 1 it jumps to a randomly chosen node 

ELSE   

with probability d it moves to one of its successors with a uniform probability, AND 
with probability (1-d) it jumps to a randomly chosen node 

END 
 
In words, the above behavior can be expressed in alternative ways. If the random surfer gets stuck, it will jump 
out to a randomly chosen node; otherwise, with probability d it moves to one of its successors with a uniform 
probability and with probability (1-d) it jumps to a randomly chosen node. Or simply stated, the behavior says 
that the random surfer jumps to a randomly chosen node when it gets stuck and tired; otherwise it moves to one 
of its successors with a uniform probability. 
 
Because of the aforementioned differences between the urban topology and a web graph, we justify our findings 
by a random walker. The random walker never gets stuck (as no dangling nodes in the urban topology) or tired 
(as  d  is  set  to  1.0),  and  it  always  (i.e.,  with  probability  1)  moves  to  one  of  its  successors  with  non-uniform 
probability,  i.e.,  well  connected  streets  are  more  favorable.  Thus  the  above  weighted  PageRank  for  predicting 
human movement in an urban environment can be simplified as follows: 
 
iPR
)(

[9] 

=

 

 

 

 

 

 

 

 

 

∑

jWjPR
)(
)(
)(
iON

j

∈

 
where W(j) keeps the same definition as in Equation [8]. 
 
Equation [9] provides a justification for our findings. It can be used to predict human movement within an urban 
environment at a certain confidence level. However precaution should be taken seriously when apply the theory 
into  practice.  As  we  can  see,  over  60%  of  human  movement  can  be  predicted  or  explained  purely  from  a 
topological  point  of  view.  In  terms  of  statistics,  other  40%  is  not  predictable,  and  it  may  relate  to  land  use, 
building height and road width etc.. It is also important to point out the 60% prediction is based on a corrected 
axial map which consists of the least number of longest visibility lines.   
 
 
 

8

5. Conclusion and further work 
This paper has added new insights into ranking spaces or topological analysis of urban environments (Salingaros 
2005) for predicting human movement. We examine the topological structure of London, and find that it exhibits 
small world and scale free structures. We further discover that human movement is significantly correlated to the 
weighted PageRank scores, even slightly better than the local integration. Based on the PageRank random surfer 
model,  we  have  justified  our  findings  using  a  never-get-stuck-and-tired  random  walker  who  moves  to  its 
successors  with  non-uniform  probability.  This  novel  justification  helps  to  answer  the  question  as  to  why  the 
topological analysis can be used to predict human movement in an interconnected urban environment at a certain 
confidence  level.  This  justification  is  different  from  the  conventional  one  suggested  by  Hillier  (1999),  i.e., 
people tend to take paths that minimize trip length or maximize trip efficiency. However, it is not justified with 
the  conventional  one  that  why  sometimes  local  integration  has  better  correlation  than  global  integration  if  to 
maximize trip efficiency. Our justification seems well supported both theoretically and empirically. 
 
This study is based on the London datasets, which were collected using a very traditional data collection method, 
i.e., manually counting the number of vehicles or pedestrians through a gate. However modern sensor technology 
provides far more advanced and accurate methods for data acquisition about human movement. We foresee that 
the deployment of the new technology or the so called location-based services (Jiang and Yao 2006) will make 
new traffic datasets available for further verification. It is important to point out that we adopted only axial line 
representation  for  an  urban  environment.  What  if  we  adopt  alternative  topological  representations  based  on 
named  streets  (Jiang  and  Claramunt  2004)  or  strokes  (Thomson  2003),  line  segments  with  a  good  continuity 
perceptually.  Another  observation  derived  from  the  study  is  that  both  local  integration  and  the  weighted 
PageRank  correlated  significantly  to  human  movement,  but  the  two  metrics  do  not  correlated  each  other.  All 
these questions and observations deserve further research in the future.   
 
 
Acknowledgement 
The study reported in the paper is financially supported by a Hong Kong Polytechnical University research grant. 
The author is grateful to Chengke Liu for his research assistance, and Amy Langville and David Gleich for their 
timely advice on efficient computation of PageRank. However, any shortcomings are my sole responsibility. 
 
 
References: 
Alexander C. (1965), A city is not a tree, Architectural Forum, 122(1+2), 58-62. 
Amaral  L.  A.  N.,  Scala  A.,  Barthelemy  M.  and  Stanley  H.  E.  (2000),  Classes  of  behaviour  of  small-world 

networks, Proceedings of the National Academy of Sciences, 97, 11149-11152. 

Barabási, A.-L. and Albert R. (1999), Emergence of scaling in random networks, Science, 286, 509-512. 
Batty  M. 

theory  of  space  syntax,  CASA  working  paper  #75,  available  at 

(2004),  A  new 

http://www.casa.ucl.ac.uk/publications/full_list.htm 

Bollen J., Rodriguez M. A. and Sompel H. V. (2006), Journal Status, Preprints, arXiv:cs.DL/0601030 v1. 
Bonacich,  P.  (1987),  Power  and  centrality:  a  family  of  measures,  American  Journal  of  Sociology,  92, 

1170-1182. 

539 – 547. 

arXiv:physics/0604130 v1. 

Carvalho R. and Penn A. (2004), Scaling and universality in the micro-structure of urban space, Physica A, 332, 

Chen  P.,  Xie  H.,  Maslov  S.,  and  Redner  S.  (2006),  Finding  scientific  gems  with  Google,  Preprints, 

Ching W. K. and Ng M. K. (2006), Markov Chains: models, algorithms and applications, Springer: Berlin. 
Hillier B. (1999), The hidden geometry of deformed grids: or, why space syntax works, when it looks as though 

it shouldn't, Environment and Planning B: Planning and Design, 26, 169-191.   

Hillier B. and Hanson J. (1984), The Social Logic of Space, Cambridge University Press: Cambridge.   
Hillier, B. (1996), Space Is the Machine: a configurational theory of architecture, Cambridge University 

Press: Cambridge. 

Hillier, B. and Iida, S. (2005), Network and psychological effects in urban movement. In: Cohn, A.G. and 
Mark,  D.M.  (eds.),  Proceedings  of  the  International  Conference  on  Spatial  Information  Theory, 
COSIT 2005, Ellicottsville, N.Y., U.S.A., September 14-18, 2005, Springer-Verlag: Berlin, 475-490. 

Hillier,  B.,  Penn  A.,  Hanson  J.,  Grajewski  T.  and  Xu  J.  (1993),  Natural  movement:  configuration  and 

attraction in urban pedestrian movement, Environment and Planning B, 20, pp. 29-66. 

Jiang  B.  (2006),  The  flow  dimension  and  capacity  for  structuring  urban  street  networks,  Preprints, 

Jiang B. and Claramunt C. (2002), Integration of space syntax into GIS: new perspectives for urban morphology, 

arXiv.org/physics/0609095/ 

Transactions in GIS, 6(3), 295-309. 

 

9

Jiang B. and Claramunt C. (2004), Topological analysis of urban street networks, Environment and Planning B: 

Jiang  B.  and  Yao  X.  (2006),  Location-based  services  and  GIS  in  perspective,  Computers,  Environment  and 

Planning and Design, 31(6), 151- 162. 

Urban Systems, 30(6), 712 - 725. 

Princeton University Press: Princeton, N.J.   

Langville A. N. and Meyer C. D. (2006), Google's PageRank and Beyond: the science of search engine rankings, 

Newman, M. E. J. (2005), Power laws, Pareto distributions and Zipf's law, Contemporary Physics，46: 323–351. 
Page  L.,  Brin  S.  (1998),  The  anatomy  of  a  large-scale  hypertextual  Web  search  engine,  Proceedings  of  the 

seventh international conference on World Wide Web 7, 107-117. 

Penn A., Hillier B., Banister D., and Xu J. (1998), Configurational modeling of urban movement networks, 

Environment and Planning B: planning and design, 25, 59 - 84. 

Ratti C. (2004), Space syntax: some inconsistencies, Environment and Planning B: Planning and Design, 

31, 487 – 499. 

Salingaros N. A. (2005), Principles of Urban Structure, Techne: Delft.   
Thomson R. C. (2003), Bending the axial line: smoothly continuous road centre-line segments as a basis for 

road network analysis, 4th International Space Syntax Symposium, London. 

Watts D. J. and Strogatz S. H. (1998), Collective dynamics of ‘small-world’ networks. Nature, 393, 440–2 
Woess  W.  (2000),  Random  Walks  on  Infinite  Graphs  and  Groups,  Cambridge  tracts  in  mathematics  138, 

Cambridge University Press: Cambridge.   

Xing  W.  and  Ghorbani  A.  (2004),  Weighted  PageRank  algorithm,  Second  Annual  Conference  on 

Communication Networks and Services Research CNSR’04, Fredericton, N.B. Canada, 305 – 314. 
Zipf G. K. (1949), Human Behaviour and the Principles of Least Effort. Addison Wesley: Cambridge, MA 

 

10

