7
0
0
2
 
n
a
J
 
5
1
 
 
]
h
p
-
c
o
s
.
s
c
i
s
y
h
p
[
 
 
1
v
8
6
1
1
0
7
0
/
s
c
i
s
y
h
p
:
v
i
X
r
a

A Gap in the Community-Size Distribution of a Large-Scale Social Networking Site

Kikuo Yuta,1, ∗ Naoaki Ono,2, † and Yoshi Fujiwara1, ‡
1NiCT/ATR CIS, Applied Network Science Laboratory, Kyoto 619-0288, Japan
2Department of Bioinformatics Engineering, Graduate School of Information Science and Technology,
Osaka University, 2-1 Yamadaoka, Suita, Osaka 565-0871, Japan

Social networking sites (SNS) have recently used by millions of people all over the world. An SNS
is a society on the Internet, where people communicate and foster friendship with each other. We
examine a nation-wide SNS (more than six million users at present), mutually acknowledged friend-
ship network with third million people and nearly two million links. By employing a community-
extracting method developed by Girvan, Newman and others, we found that there exists a range
of community-sizes in which only few communities are detected. This novel feature cannot be ex-
plained by previous growth models of networks. We present a simple model with two processes
of acquaintance, connecting nearest neighbors and random linkage. We show that the model can
explain the gap in the community-size distribution as well as other statistical properties including
long-tail degree distribution, high transitivity, its correlation with degree, and degree-degree correla-
tion. The model can estimate how the two processes, which are ubiquitous in many social networks,
are working with relative frequencies in the SNS as well as other societies.

I.

INTRODUCTION

The last few years witnessed the emergence of a new
channel of human communication in the World Wide
Web. This is called social networking sites (SNS). An
SNS provides an arena on the Internet, where millions
of people are creating personal pages, featuring proﬁles,
photos, music, movies, daily records etc., and at a same
time, they are watching activities of others and occa-
sionally responding to some of them. People frequently
have communication with each other by sending mes-
sages, during chats on same subjects, in on-line commu-
nities or groups of people with similar interests, and thus
grow up friendship.

An early example is Friendster[29] for which a mil-
lion people,
in a single quarter of 2003, had regis-
tered. MySpace[30] attracted more than a hundred mil-
lion people in the end of 2006, which ranks ﬁfth among
all the Internet access to every WWW sites. Other
sites include orkut[31] with 36 million accounts, 65%
in Brazil, Cyworld[32], 18 million mostly in Korea, and
Facebook[33], more than 13 million, 85% students in
USA (the numbers are so recorded at the time of writ-
ing). We believe that the present reader has experience
in one SNS or more, and that it is not disputable that
these sites provide societies on the Internet, which form
giant human networks.

This fact that recently an increasing amount of social
interactions are recorded electronically can boost the un-
derstanding of the structural formation of human net-
works in a society-wide scale, which had never been ac-
cessible. Indeed, traditional social network studies (see
[1] for review) usually carry out collection of data by

∗e-mail: yuta@crev.jp
†e-mail: nono@bio.eng.osaka-u.ac.jp
‡e-mail: yfujiwar@atr.jp

querying people using questionnaires or interviews. Such
methods have been limiting the size of the network under
study. Additionally, survey data are often relying on indi-
vidual’s memory even to list up friends. Researchers can
now access to social networks of much larger scale and
of diﬀerent nature. See the studies on e-mail [2, 3, 4],
phone calls [5, 6], for example, in this new direction.

There are some works on social networks on the In-
ternet. Sociologists have attempted to measure how the
Internet and the Web services have eﬀect on real-life so-
cial interactions. Such eﬀect is present in occasions of
“oﬀ-line” social events and “on-line” communities as in-
tegrated patterns of social life (see Wellman’s viewpoint
[7] on this matter). Holme et al. [8] investigated a dating
site. It should be mentioned that a dating site has diﬀer-
ent characteristics in the network structure, because the
incentives of participants in forming ties are relatively
limited. Actually, clustering coeﬃcients are much lower
than those in many SNS. Adamic et al. [9] studied a social
networking site at a university, which includes analysis of
friendship, called buddy, in relation to the attributes and
personalities of the users. Backstrom et al. [10] investi-
gated group formation in an SNS, LiveJournal[34], and
a dataset of academic collaboration. They focus on how
on-line communities and interaction therein aﬀect group
formation and network structure. It is remarked that in
this paper, we shall reserve the word, “community”, to
mean a tightly-knit group of people in a linkage property,
and distinguish it from “on-line community”, an on-line
group of people who have similar interests but are not
necessarily linked with each other. See also the recent
work [11] on messages exchanged by users in Facebook.
In this paper, we study a friendship network recorded
at the largest SNS in a country, which comprises more
than third million people and nearly two million links.
Each link is a mutually acknowledged friendship. Our
main concern here is the community structure in the
network — how people cluster into tightly-knit groups
with relatively high density, and how bunches of these

groups are embedded in the entire network. To uncover
the structure of the giant network of people, we employ
a community-extracting method [12, 13, 14, 15].

In Section II, we describe the SNS, activities of users
in it, and the deﬁnition of link, namely friendship in
the network.
In Section III, we examine the structure
of the friendship network. In particular, we show that
the network has a scale-free degree distribution in its
tail, high transitivity, and positive degree-degree correla-
tion, as observed in many social networks. In Section IV,
however, we found a novel feature in the distribution of
community-sizes that there is a gap in the community-
sizes such that only few communities are extracted. In
Section V, we propose a simple model with connecting
nearest neighbors and random linkage, and show that it
can explain the gap as well as the other statistical prop-
erties.

II. SOCIAL NETWORKING SITE AND
DATASET

The largest SNS in Japan, as of December 2006, is
mixi[35], which had started with a small group in March
2004 and has been rapidly growing, a million accounts in
August 2005, 6.6 million in November 2006. Our dataset,
as of March 2005, is consisted of third million accounts,
nearly two million links of on-line friendship, and nearly
Individuals in all these
a million on-line communities.
data are encrypted for privacy protection. The number
of users is nearly 10% of all the domestic people who
have access to the Internet, from teenagers to adults,
equally males and females, including workers and non-
workers. Mobile-phone users have access at any location
and time. At this epoch, the number was growing as a
power function of physical time with exponent 2 to 2.6,
which implies that the rate of growth was proportional
to the user-number to the power 0.5 to 0.6. Since the
start, it has been reported that about 70% of the ac-
counts visit the sites at least once in three days week by
week. Indeed, according to a survey[36], the mixi is the
third most active SNS (MySpace and orkut are the top
two) in terms of access from users, matching Facebook
at activity.

Activities of the users are summarized as follows. A
new person participates in the site, provided that an al-
ready registered user invites him or her who accepts the
invitation. Otherwise the site is not public to the Internet
and is accessible only for the registered users. This policy
of publicity, which is taken by other SNS such as orkut,
endows the site with a feature diﬀering from blogs and
bulletin board systems in the WWW. While some SNS
have diﬀerent policies about publicity, it is said that the
users feel less fear and anxiety about personal abuse and,
actually, many users are observed to name themselves as
they do in real life, rather than anonymously. This is
presumably due to the invitation scheme, being invited
by a person, an acquaintance, to ﬁnd oneself within many

2

acquaintances. Many people consider that this is a less
uneasy environment to start with.

After the registration, the users make their own pro-
ﬁles, write diaries with varying frequencies, in which oth-
ers make recommendations and comments. Like other
SNS, they are able to see logs of visitors and to send and
receive messages to anyone. The proﬁles and diaries are
selectively public either to friends, to friends of friends,
or to all in the SNS.

On-line communities are another design for promoting
communication, each with participants having shared in-
terests and chats on same subjects. A new on-line com-
munity is launched by an arbitrary user as administrator,
who sets its publicity either to participants or to the en-
tire SNS. One can search particular persons and on-line
communities in the whole site by keywords and classiﬁed
categories.

Through exchange of multiple information, from di-
aries to on-line communities, one gets to know who has
similar interests as his or hers, and eventually become
friends by mutual acknowledgement, which is done by
sending messages. This is the links and friendship net-
work which we study in this paper. One’s friends are
listed in thumbnails at the top page of the user. Note that
the devices of diaries, footprints, lists of friends and on-
line communities foster growth of friendship collectively
and in diﬀerent ways. Even if a new comer starts with
a single link, he or she will quickly ﬁnd acquaintances at
one or two steps in friends of friends, then sometimes gets
acquainted with more people noticed from footprints or
by search deep in the site.

The number of user accounts and links of friendships
are respectively, 363,819 and 1,906,878, in our dataset.
In average, one has about ten friends. We shall examine
more statistical properties in the next section.

III. STRUCTURE OF FRIENDSHIP NETWORK

Component structure and shortest paths

People can be disconnected, because links are possi-
ble to be lost by unregistration of users or by refusal of
the corresponding friendship. However, we found that
most people are connected with each other. The largest
connected component, in fact, contains 360,802 people,
99.2% of all the users. The rest is composed of 1,213
disconnected components, most of which are tiny groups
each of a few people. We examine the largest compo-
nent in the following. Denoting the numbers of nodes
and links by N and M respectively, N = 360, 802 and
M = 1, 904, 641. We use the words, participant and ver-
tex, interchangeably below.

Shortest-path lengths averaged over all pairs of ver-
tices is given by ¯d = 5.53. The longest shortest-path has
length dmax = 22, called diameter of the network.

3

100

101

102
Degree k

103

101

102

Degree k

103

10-2

100

(a)

)
k
(
P

 
f

d
p

 

e
v
i
t

l

a
u
m
u
C

100

10-1

10-2

10-3

10-4

10-5

10-6

(c)

102

)
k
(

n
n

k

101

100

(b)

100

)
k
(
C

10-1

(d)

)
b
(
P

 
f

 

d
p
e
v
i
t

l

a
u
m
u
C

100

10-1

10-2

10-3

10-4

10-5

10-6

101

102

Degree k

103

103 104 105 106 107 108 109 1010
Betweenness b

FIG. 1: For the largest connected component (N = 360, 802, M = 1, 904, 641) of the friendship network, shown are (a) the
cumulative degree distribution P (k) for degree k, (b) the local clustering coeﬃcient C(k), (c) the nearest neighbor degree
distribution knn(k), and (d) the cumulative betweenness distribution P (b). The lines in (a), (b) and (c) are, respectively,
P (k) ∝ k−1.8, C(k) ∝ k−0.6 and P (b) ∝ b−1.5.

Degree distribution

logarithmic variables, and is given by α ∼ 1.80, although
the exponent here, and the other ones given below, should
be understood simply as rough estimates.

The number of links, or degree, have a long-tail distri-
bution. The degree distribution is denoted by pk, i.e. the
fraction of vertices in the network with degree k. Cumu-
∞
k′=k pk′ .
lative degree distribution is given by P (k) =
We plot P (k) in Fig. 1 (a).

The maximum degree is kmax = 1, 301. There are a
small number of hubs, about 100 people with links ex-
ceeding 300, even 3 persons with degree 1000 or more.
The time corresponding to the acquisition of the data co-
incides when the site forbids participants to create more
than 1,000 links per each. This rule, however, did not
essentially impose a threshold in the degree studied here,
as we have checked in historical information of the site.
On the other hand, 83,525 people (23%) have a single
link, mostly new comers linked only to those who invited;
182,125 people (50%) have less than 5 links.

P

The ﬁrst two moments of degree are

hki = 2M/N = 10.56 ,
k2

= 593.4 .

(1)
(2)

Transitivity

In many social networks, the friend of one’s friend is
quite likely also to be the one’s friend. Transitivity means
how high the number of triangles is present in the net-
work (see the review [16]). Global clustering coeﬃcient
is deﬁned by

Cg =

3 × number of triangles
number of connected triples

,

where a connected triple means a pair of vertices that are
connected to another node. Cg is the mean probability
that two persons who have a common friend are also
friends of each other. Our dataset gives the value

Cg = 0.120 = 12% .

(3)

(cid:10)

(cid:11)

The tail of degree distribution follows a power-law pk ∝
k−α. The exponent was estimated in the region of k
greater than 60 by the conventional mean-square-error in

To compare this with a class of random graphs which
have the same size and degree distribution, one can use
the expected value of global clustering coeﬃcient given

4

by [17]

Cg =

k2

− hki

hki
N " (cid:10)

hki2
(cid:11)

2

.

#

correlation in extremely low-degree k ≤ 3 is due to the
new comers just invited.

Related quantity is the degree-degree correlation,
which is the Pearson correlation coeﬃcient for degrees
of vertices (ja, ka) at either end of a link a. That is [19],

(4)

Putting (1) and (2) into (4) gives Cg = 8.0 × 10−4, or
0.08%. (For the class of Poisson random graphs, (4) re-
duces to Cg = hki /N , which is 2.9 × 10−5.) The ob-
served value (3) clearly shows strong cliquishness in the
local structure. People choose new acquaintances who
are friends of friends, well known as triadic closure.

Local clustering coeﬃcient is a related and distinct

measure of cliquishness. For each vertex i, deﬁne

r =

M −1

M −1

M −1

a jaka −
1
a + k2
2 (j2
P
a

a) −
(cid:2)

a
M −1
P

1
2 (ja + ka)

2

1
2 (ja + ka)

(cid:3)

a

2 .

P

We obtain the value r = 0.1215 ± 0.0009, where the stan-
dard error was calculated by the method in [19]. In terms
of this single measure, the correlation coeﬃcient shows a
statistical signiﬁcance of positive correlation.

P

(cid:3)

(cid:2)

Ci =

number of triangles connected to i
number of triples centered on i

.

Betweenness

The denominator is equal to ki(ki −1)/2 for the degree ki
of the vertex i. For ki = 0 and 1, Ci = 0 by convention.
The averaged clustering coeﬃcient is then deﬁned by C =

i Ci/N . Our dataset gives the value, C = 0.330.
Local clustering coeﬃcient Ci has a strong dependence

P
on the degree ki. To quantify it, one usually deﬁnes

Social interaction between two non-neighboring per-
sons might depend on another who is on the paths be-
tween the ﬁrst two. A vertex with relatively low-degree
can possibly play an intermediary role in the ﬂow and
diﬀusion of information. Betweenness centrality [20] of
vertex v is deﬁned by

C(k) = hCii|ki=k .

In Fig. 1 (b), we plot the correlation between degree k
and C(k).

We observe that C(k) decreases as k−0.6 for the range
∼ k <
∼ 200. This diﬀers from many other networks,

10 <
where C(k) ∼ k−1 gives a ﬁt as reported [18].

Degree correlation

Are people with high-degrees preferentially linked to
those of high-degrees or low-degrees? To see the assorta-
tive mixing with respect to degree [19], or degree correla-
tion, one often calculates the averaged nearest-neighbor
degree

∞

knn(k) =

p(k′|k) ,

k′=0
X
where p(k′|k) is the probability that a randomly chosen
edge has a vertex with degree k′ at either end, while at
the other end with degree k.

∼ k <

Fig. 1 (c) shows knn(k) as a function of k. We can
observe that in the range 10 <
∼ 100 there is a positive
correlation. Nevertheless, the positive correlation does
not extend to the region k >
∼ 100, where it is slightly
negative instead. This fact can be interpreted in the
way that hubs with high-degrees, say a few hundreds,
have propensity to acknowledge a proposed friendship
from anyone who is necessarily in the majority of lower-
degrees. Vertices with degrees of dozens, on the other
hand, tend to form assortative mixing among them as
the region of positive correlation implies. The negative

b(v) =

1
2

σst(v)
σst

s,t6=v
X
where σst is the number of shortest-paths between a pair
of vertices s and t, and σst(v) is the number of such paths
that go through v. The factor of 1/2 takes into account
the fact all shortest-paths are visited twice.

∞

The distribution pb for b(v) is depicted in the cumula-
b db′ pb, in Fig. 1 (d). Similar results
tive form, P (b) ≡
were obtained in other networks, especially the power-law
tail [21]. In our case, we have pb ∝ b−2.5 in the upper-tail
regime.

R

s
s
e
n
n
e
e
w
t
e
B

109
108
107
106
105
104
103
102
101
100

100

101

102

Degree

103

FIG. 2: Scatter-plot of degree and betweenness of each vertex.

While the vertices with higher-degrees tend to have
higher betweenness centralities, it is important to see
that vertices with relatively low-degrees have also high
betweenness values. We draw the scatter-plot for the
pair of k and b of vertices in Fig. 2. While there is ob-
viously positive correlation between k and b, we notice

that a same high value of b, e.g. b = 106–107 in the center
of the ﬁgure, is produced by vertices with a wide range
of k, 20 <
∼ 200. Those vertices may be connectors
between tightly-knit groups of people, and can provide
bridge in the process of acquaintance along friendship.

∼ k <

Number of friends of friends

Think of your friend’s friend who is not your friend.
However little you know about him or her, you might
have experienced that your friend introduced the person
to you and that you ﬁnd that such a person eventually
brings you some new or useful information. The circle
of friends of friends forms a “horizon” beyond which you
reach to new people and information. Thus the number
of one’s friends of friends gives the size of the horizon.

Fig. 3 shows, from a single and typical person, the
numbers of people who are at distance of d, where d ≤
dmax, and the accumulated numbers at each distance.
Within the distance of six-degree are 96.1% of people.

l

e
p
o
e
p

 
f

o
 
r
e
b
m
u
N

105

104

103

102

101

100

0

2

4

10

12

6

8
Distance

FIG. 3: The number of persons who are at distances less than
the diameter of the network (white circles). The accumulated
numbers are shown in ﬁlled circles.

In particular, because of the long-tail distribution of
degree, the number of friends of friends is larger than
one can naively expect as hki2 from the average degree
hki. It may be interesting to compare the average number
of friends of friends in the SNS, denoted by z2, with the
value given theoretically in [22]. The actual value is z2 =
310.6, while hki2 gives 111.5, small by factor of three.

(cid:10)

(cid:11)

The approximate estimation of z2 with non-vanishing
k2
− hki), which gives the
Cg is given by (1 − Cg)(
value 424.0. This is approximation assuming there is
no “squares”, the case that you know two people who
have another friend in common, but whom you person-
ally do not know. In a further approximation followed
from the assumption that such squares are composed of
k2
triangles, one has the estimate M∗ (1 − Cg)(
− hki),
k/[1 + C2
/ hki. This gives the
where M∗ =
(cid:10)
value 299.4, within 3% of the actual value.

g (k − 1)]

(cid:11)

(cid:10)

(cid:11)

5

IV. COMMUNITY STRUCTURE

One feature among the properties of networks which
has attracted much interest is the property of commu-
nity structure (see [23, 24, 25] for example and [16] for
review). Detection of community structure is to ﬁnd how
vertices in the network cluster into tightly-knit groups
with high density in intra-groups and with lower con-
nectivity in inter-groups. Without a priori knowledge
of how vertices with similar attributes are assortatively
linked to each other, the community detection would be
based solely on the structure of links.

We employ a recent community-extracting algorithm,
which has made such an analysis feasible in a prac-
tical computational time for giant networks with mil-
lions of vertices, which we call Girvan-Newman (GN)
community-extracting structure algorithm[12, 13, 14,
15]. The GN algorithm is based on the idea of modu-
larity. Let eij be the fraction of edges in the network
that connect vertices in group i to those in group j, and
let ai ≡

j eij . Then modularity Q is deﬁned by

P

Q =

(eii − a2
i )

i
X

which is the fraction of edges that fall within groups,
minus the expected value of the fraction under the hy-
pothesis that edges fall randomly irrespectively of the
community structure.

Detection of community structure is then formulated
as an optimization problem to ﬁnd a devision of n vertices
into mutually disjoint groups such that the corresponding
value of Q is maximum. The algorithm[14] is a greedy
optimization algorithm of an agglomerative hierarchical
clustering. The implementation given in [15], when ap-
plied to sparse and modular networks, runs in essentially
linear time O(n log2 n). We use this implementation to
study the community structure.

In each step of the algorithm involves calculating ∆Qij
that would result from the amalgamation of each pair
of groups i and j, choosing the largest of the changes,
and doing the corresponding amalgamation. Because dif-
ferent pairs can give a same amount of largest change
∆Qij = ∆Qi′j′ , choice of a particular pair would alter
the subsequent process of amalgamations, resulting in
diﬀerent community structures as local maxima.

The output of the algorithm gives the following re-
sults. The maximum modularity is Q = 0.596, which is
considered to be high and to indicate strong community
structure[13, 14]. Resulting structure includes 3,956 com-
munities. We performed a coarse-graining visualization
by drawing the graph of communities in a physical model
which consists of attractive force between connected pairs
of communities and repulsive force between unconnected
pairs. Fig. 4 (a) is the visualization, which shows a
few large communities, small-sized numerous communi-
ties connected to them, and medium-sized communities
(depicted as a bunch of densely connected balls in the

(a)

(c)

104

e
z
s
 
f

i

o

 
k
n
a
R

103

102

101

100

100

shuffle 1
2
3
4

gap

6

(b)

104

e
z
s
 
f

i

o

 
k
n
a
R

103

102

101

(d)

104

e
z
s
 
f

i

o

 
k
n
a
R

103

102

101

gap

100

100

101

102

103

104

105

Community size

k0=100
30
12
9
original

101

102

103

104

105

101

102

103

104

105

Community size

Community size

100

100

FIG. 4: (a) Visualization of the GN communities. Each ball represents a community whose logarithmic size is shown in its
radius. (b) The distribution of the community-sizes with its rank in the vertical line. The gap shown by a double-ended arrow
is the region of community-sizes where only few communities are extracted. (c) Same results as (b) for a few of shuﬄed storage
of edge-lists in the network. (d) Results for a set of subgraphs, which are obtained by deleting all vertices with degree k ≥ k0
and the edges emanating from them. A thick line shows the distribution in (b).

upper-left portion of the ﬁgure), that are connected mu-
tually as well as to the large ones. Here size refers to the
number of vertices contained in each community, and is
depicted as each ball-size in log scale. Colors of balls are
randomly assigned for the purpose of visibility.

The distribution of community-sizes uncovers a novel
structure hidden in the network. Fig. 4 (b) shows the
plot for the community-size and the rank of the size. In
the lower rank corresponding to the size up to 20, there
are numerous small-sized communities, 3,873 in the num-
ber, with 2–20 people in each. In the intermediate range
of the size between 20 and 400, we found a gap where
few communities are extracted. Up to the size of 4000,
there are 80 medium-sized communities with hundreds to
thousands people in each community. Then in the very
end of the tail, one sees four largest communities, whose
presence is quite similar to other results of the GN al-
gorithm applied for giant networks (see [15] for example,
and also Fig. 5 (g)).

Since the algorithm is a greedy optimization as re-
marked above, one should check diﬀerent locally opti-
mal solutions of community structures. We did so by
randomly shuﬄing the stored order of edge-lists without
changing the network structure, thus eﬀectively altered
the order of amalgamation during the agglomerative clus-

tering. Fig. 4 (c) is the rank-size plots for typical out-
puts, which shows that the distribution of community-
sizes does not diﬀer for diﬀerent optimals. Especially,
the presence of the gap is obvious. The value of modu-
larity is estimated as Q = 0.595 ± 0.012, where the error
is the standard deviation for 10 shuﬄes.

One may expect that the presence of hubs has a con-
siderable eﬀect to the community structure. It is, how-
ever, the case that the vertices of high-degrees have only
a limited eﬀect onto the community structure. In fact,
we take a subgraph consisting of vertices whose degrees
are smaller than a threshold k0, i.e. obtained by delet-
ing the vertices with k ≥ k0 and links emanating from
them. Fig. 4 (d) shows the results of the GN community-
extracting algorithm to these subgraphs. Even if k0 is
as low as 30, deleting more than 8% of vertices, the
community-size distribution does not diﬀer signiﬁcantly.
When k0 = 12, deleting 25% of vertices, the gap is still
present while exceptionally large-sized communities are
not extracted with this and smaller thresholds. Only
when the threshold is as small as k0 = 9, one has many
disconnected components with relatively similar sizes,
and the gap disappears. This result implies that it is im-
portant to understand how the majority of vertices with
dozens of links are constructing the overall structure of

network.

Previous models of growing networks do not explain
the presence of such a gap found in the distribution of
community-sizes. Let us consider three growth models
here. Numbers of vertices and links in simulations are
precisely equal to the numbers of the SNS by adjust-
ing parameters in each model as follows. The prefer-
ential attachment model, Barab´asi-Albert (BA) model
with each new vertex having degree m = 5, 6 (see the
review [18]) shows the distribution of community-sizes
in Fig. 5 (a). For the beta model proposed by Watts-
Strogatz (WS) [26] with the rewiring probability 25%,
we have the result in Fig. 5 (c). The connecting nearest
neighbor (CNN) proposed by V´azquez [27] with the sin-
gle parameter u = 0.81 (see also below) gives the result
in Fig. 5 (e).

We summarized some statistical quantities and the re-
sults of GN communities in Table I for the models. The
numbers of communities extracted in these models are
much smaller than that for the SNS. Also visualization
of the network of communities diﬀers among the models
and from the result for the SNS. The models do not show
a gap in the community-sizes which was observed for the
friendship network of the SNS.

In addition, we performed the GN community-
extracting algorithm to a real data of collaboration net-
work in physics community, taken from cond-mat, with
N = 30, 561 and M = 125, 959 [25]. The result is shown
in Fig. 5 (g) with its visualization in Fig. 5 (h). While the
visualization for the network of communities is visually
similar to the SNS shown in Fig. 4 (a), there is obviously
no gap in the community-size distribution.

TABLE I: Comparison of degree correlation r, global cluster-
ing coeﬃcient Cg, number of GN communities NGN and value
of modularity Q, and the characteristics of SF (scale-free), HT
(high-transitivity), Gap (in the distribution of community-
sizes), for the real data and the models (see text for details).
The models have the same numbers of vertices and links as
those of the real data.

mixi
BAa
WSb
CNNc
CNNRd

r

Cg

C NGN
0.121 0.120 0.330 3,956 0.596 + +
24 0.257 + −
0.0
-0.009
68 0.685 − +
0.222 0.362 0.373
0.08 0.398 1,062 0.694 + +
0.124 0.083 0.346 5,032 0.591 + +

0.1

0.0

+
−
−
−
+

Q SF HT Gap

aBarab´asi-Albert model [18].
bWatts-Strogatz model [26].
cConnecting nearest neighbor model [27].
dCNN model with random linkage (see Section V).

The list includes a model which we propose in the next
section, called CNNR, connecting nearest neighbor with
random linkage.

7

V. CONNECTING NEAREST NEIGHBORS
WITH RANDOM LINKAGE

In order to understand why the community-size dis-
tribution has a gap, let us consider how the friendship
network in the SNS is formed by people. The network
has the following features.

(i) New vertices are added to the network all the time.
The timescale on which vertices join is not much longer
than the timescale on which they create and break friend-
ship. This may diﬀer from other social networks.

(ii) Since there is little cost in maintaining a friendship,
much smaller than real-life, people can easily accumulate
links of friendship. A vertex degree is a stock variable,
so to speak, a quantity integrated in time. The long-tail
distribution of degree observed in Fig. 1 (a) is partly due
to this fact.

(iii) As in many social networks, high transitivity is
an important feature, a process of triadic closure — peo-
ple choose new acquaintances who are friends of friends.
The SNS facilitates this process with various devices as
described in Section II.

(iv) The local clustering coeﬃcient has dependence on
the degree as C(k) ∼ k−0.6. Additionally, the averaged
nearest-neighbor degree knn(k) shows positive degree-
correlation in an intermediate range of degrees, while
there is a slight negative correlation for high-degrees.

Previous studies including [27, 28] suggest that a pro-
cess of connecting nearest neighbors in a growth model of
network can provide explanation of the features (i)–(iv).
In particular, the concept of potential edge proposed by
V´azquez [27] has a good interpretation here. A pair of
vertices is connected by a potential edge if they are not
connected by a link and they have one or more com-
mon neighbor. Actually, in the context of SNS, people
have frequent occasions to get acquainted with friends of
friends by potential edges.

Unfortunately, however,

the community structure
studied in Section IV revealed a feature which cannot
be explained by previous models of connecting near-
est neighbors.
In fact, applying the GN community-
extracting algorithm to numerically simulated networks
generated by the model in [27], we found that the distri-
bution of community-size for the CNN model, shown in
Fig. 5 (e), diﬀers from what we observed for the actual
SNS in Fig. 4 (b). We thus seek for explanation of the
feature:
(v) The distribution of community-size has a gap or a
discontinuity where few communities are eventually de-
tected by the GN community-extracting algorithm.

In social networks including the SNS, individuals are
endowed not only with links, but with sets of characteris-
tics attributed to them. Examples are association to par-
ticular groups with speciﬁc interests (hobbies, thoughts,
jobs etc.), living in geographically near regions, relation
of families and relatives, and so on. One gets acquainted
with other people, because one considers them to share
one or more characteristics with oneself, but they may

8

(b)

BA

100

101

102

103
Community size

104

105

(f)

CNN

(a)

104

i

e
z
s
 
f
o
 
k
n
a
R

103

102

101

(e)

104

i

e
z
s
 
f
o
 
k
n
a
R

103

102

101

WS

(d)

(h)

104
103
Community size

105

cond-mat

(c)

104

i

e
z
s
 
f
o
 
k
n
a
R

103

102

101

(g)

104

i

e
z
s
 
f
o
 
k
n
a
R

103

102

101

100

102

100

100

101

102

103

104

105

Community size

100

100

101

102
Community size

103

104

FIG. 5: The distributions of community-sizes and visualization of the communities for the Barab´asi-Albert model ((a) and (b)),
the beta model by Watts-Strogatz ((c) and (d)), the connecting nearest neighbor by V´azquez ((e) and (f)), and the real-data
of collaboration human network in cond-mat ((g) and (h)).

not be in the circle of the one’s acquaintances before.
Thus, in addition to connecting nearest neighbors, peo-
ple are reaching beyond each circle of friends by making
access along dimensions of characteristics which are often
unexpected from what the current ties show. This pro-
cess would appear to be random in the current structure
of network, as we assume here.

We propose a model based on these two process, con-
necting nearest neighbors with apparently random link-
age, which we refer to as CNNR. This is a simple exten-
sion of CNN [27]. The model starts with a single vertex
and no links, and iteratively performs the following.

1. With probability 1 − u, add a new vertex in the
network, create a link from the new vertex to a
randomly selected vertex v. At the same time, cre-
ate a set of potential edges from the new vertex to
all the neighbors of v.

2. With probability u, one of the following two pro-

cesses is performed.

(a) With probability 1 − r, convert one potential

edge selected at random into an edge.

(b) With probability r, connect one pair of ver-

tices selected at random with an edge.

While a new vertex joins the network with an additional
link at the rate u, an edge is either realized from a poten-
tial edge or newly created by random linkage at the rate
1 − u. Therefore, we have M/N ≃ 1/(1 − u). The rate
r is the relative frequency of random linkage compared
with that of connecting nearest neighbors. If r = 0, the
model reduces to CNN.

We give a set of results in Fig. 6. The numbers of
vertices and links are adjusted to be equal to N and M
for the SNS respectively, by the parameter u = 0.81.

Fig. 6 (a) is the degree distribution, having a long
tail. Fig. 6 (b) is C(k), which decreases as k increases.
Fig. 6 (c) shows the averaged nearest neighbor degree
knn(k), which displays a similar result as the real-data.
These properties are basically the same as the CNN
model [27].

On the other hand, the distribution of community-size
has a completely diﬀerent shape from Fig. 5 (e). There
exists a gap in a certain range of community-sizes as
shown in Fig. 6 (e). Note that when r is smaller, the
gap is smaller in its size and vanishes for r = 0. By com-
paring the values of modularity Q for diﬀerent values of
r, we suppose that the parameter r is close to 4%. Ad-
ditionally, we can observe in Fig. 6 (f) that the gap in
the distribution of community-sizes grows larger as the
size of the network increases according to the model of
CNNR. We remark that the size of the network must be
large enough in order to detect the presence of the gap.
What does this model tell us about the SNS? People
make the acquaintance of new and yet unfamiliar peo-
ple more easily, selectively and inexpensively, far more
than what had been previously possible without such
networking sites. But how can one measure the impor-
tance of such augmented acquaintance, in comparison
with other social networks? Our model could possibly
measure quantitatively the extent with which the appar-
ently random linkage is at work simultaneously as people
enlarge the circle of friends via friends of friends. For
example, it is our implication that the process of random
linkage takes place much slower in oﬀ-line social networks
than it does in the SNS we studied and, quite possibly
in other such social networking sites. Also one could
measure possible diﬀerence, among individual network-
ing sites, of how eﬃciently the process of random linkage
is working with the help of various designs and devices
in social networking sites.

9

(a)

k
P

 
f
d
p
 
e
v
i
t
a
u
m
u
C

l

100

10-1

10-2

10-3

10-4

10-5

10-6

(d)

(b)

100

)
k
(
C

10-1

10-2

100

(e)

104

i

e
z
s
 
f
o
 
k
n
a
R

103

102

101

(c)

103

)
k
(

n
n

k

102

101

100

(f)

104

i

e
z
s
 
f
o
 
k
n
a
R

103

102

101

100

101

103

104

102
Degree k

101

102
Degree k

103

104

101

102
Degree k

103

104

r=0%
2%
4%
8%
16%

N= 10,000
60,000
120,000
240,000
360,802

100

100

101

102

103

104

105

101

102

103

104

105

Community size

Community size

100

100

FIG. 6: For the model CNNR (connecting nearest neighbor with random linkage) with the parameters u = 0.81 (adjusting N, M )
and r = 0.04, shown are (a) the cumulative distribution P (k) for degree k, (b) the local clustering coeﬃcient C(k), (c) the
nearest neighbor degree distribution knn(k), (d) visualization of the GN communities, (e) the community-size distributions
including the other cases for the parameters r = 0.0, 0.02, 0.08, 0.16, (f) temporal change of the community-size distribution for
r = 0.04 at diﬀerent sizes N = 1, 6, 12, 24 × 104 and 360,802.

distribution. The two processes of connecting nearest
neighbors and random linkage should be ubiquitous in so-
cial networks, but would be at work with varying relative
frequency. It is our conjecture that the size of the gap
will increase as the network grows further in the SNS.
We claim that it would increase faster than it does in
other social networks, as one could estimate quantita-
tively based on our model.

Acknowledgments

We would like to thank Mixi, Inc.

for providing us
the dataset, in which users are all encrypted except us
as three users. Our work does not evaluate personality
of participants or services in any social networking sites.
We declare no competing interests.

VI. SUMMARY

We studied the network of mutually acknowledged
friendships in the largest SNS in Japan, currently with
more than six million people. In our dataset when the
site is under uniform growth in the access and in the re-
cruitment, the network is comprised of more than 360,000
people and nearly two million links. By applying to the
friendship network the community-extracting method de-
veloped by Girvan, Newman and others, we found a novel
feature that there is a certain range of community-sizes
for which only few communities are extracted. This gap
in the distribution of community-sizes was not present
in giant human networks such as co-purchasing data
from a large on-line retailer and collaboration network
in physics. Also this is not explained by previous growth
models of networks.

We present a simple model in order to explain this fact
as well as other properties of long-tail degree distribution,
correlation between degree and clustering coeﬃcient, and
degree correlation. The model includes two processes of
how people get acquainted with others. One is connecting
nearest neighbors — acquaintance occurs at distance of
two, friends of friends. And the other represents the fact
that the process of forming links along individual’s social
attributes other than the current set of ties, itself, e.g. to
know the presence of persons with same interests, beyond
the circle of friends of friends.

In conclusion, this apparently random linkage is the
process that can explain the gap in the community-size

10

[1] J. Scott, Social Network Analysis: A Handbook (Sage

[15] A. Clauset, M. E. J. Newman, and C. Moore, Physical

Publications, London, 2000), 2nd ed.

Review E 70, 066111 (2004).

[2] H. Ebel, L.-I. Mielsch, and S. Bornholdt, Physical Review

E 66, 035103 (2002).

[16] M. E. J. Newman, SIAM Review 45, 167 (2003).
[17] M. E. J. Newman, Random graphs as models of networks

[3] R. Smith, Instant messaging as a scale-free network,

(Wiley-VCH, Berlin, 2003).

arxiv.org/abs/cond-mat/0206378.

[18] R. Albert and A. L. Barab´asi, Review of Modern Physics

[4] G. Kossinets and D. J. Watts, Science 311, 88 (2006).
[5] W. Aielo, F. Chung, and L. Lu, Proceedings of 32nd
ACM Symposium on Theory of Computing pp. 21–23
(2000).

[6] J. -P. Onnela and J. Saramaki and J.Hyvonen and G.
Szabo and D. Lazer and K. Kaski and J. Kertesz and A.
-L. Barabasi, Structure and tie strengths in mobile com-
munication networks, arxiv.org/abs/physics/0610104.
[7] B. Wellman, A. Quan-Haase, J. Boase, and W. Chen, Ex-
amining the Internet in Everyday Life (2002), keynote
address to the Euricom Conference on e-Democracy,
Nimegen, Netherlands.

74, 47 (2000).

[19] M. E. J. Newman, Physical Review E 67, 26126 (2003).
[20] L. C. Freeman, Sociometry 40, 35 (1977).
[21] K. I. Goh, E. Oh, H. Jeong, B. Kahng, and D. Kim, Pro-
ceedings of the National Academy of Sciences 99, 12583
(2002).

[22] M. E. J. Newman, Social Networks 25, 83 (2003).
[23] G. W. Flake, S. Lawrence, C. L. Giles, and F. M. Coetzee,

IEEE Computer 35, 66 (2002).

[24] F. Radicchi, C. Castellano, F. Cecconi, V. Loreto, and
D. Parisi, Proceedings of the National Academy of Sci-
ences 101, 2658 (2004).

[8] P. Holme, C. R. Edling, and F. Liljeros, Social Networks

[25] G. Palla, I. Derenyi, I. Farkas, and T. Vicsek, Nature

26, 155 (2004).

day 8, 29 (2003).

[9] L. A. Adamic, O. Buyukkokten, and E. Adar, First Mon-

[10] L. Backstrom, D. Huttenlocher, J. Kleinberg, and X. Lan,
Proceedings of the 12th ACM SIGKDD international
conference on Knowledge discovery and data mining pp.
44–54 (2006).

[11] S. Golder, D. Wilkinson, and B. Huberman, Rhythms
of social interaction: messaging within a massive online
network, arxiv.org/abs/cs.CY/0611137.

[12] M. Girvan and M. E. J. Newman, Proceedings of the

National Academy of Sciences 99, 7821 (2002).

[13] M. E. J. Newman and M. Girvan, Physical Review E 69,

026113 (2004).

[14] M. E. J. Newman, Physical Review E 69, 066133 (2004).

435, 814 (2005).

[26] D. J. Watts and S. H. Strogatz, Nature 393, 409 (1998).
[27] A. V´azquez, Physical Review E 67, 056104 (2003).
[28] J. Davidsen, H. Ebel, and S. Bornholdt, Physical Review

Letters 88, 128701 (2002).
[29] http://www.friendster.com
[30] http://www.myspace.com
[31] https://www.orkut.com
[32] http://www.cyworld.com
[33] http://www.facebook.com
[34] http://www.livejournal.com
[35] http://mixi.jp
[36] Alexa Web Information Service: http://www.alexa.com

