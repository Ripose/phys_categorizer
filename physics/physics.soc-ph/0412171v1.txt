4
0
0
2
 
c
e
D
 
8
2
 
 
]
h
p
-
c
o
s
.
s
c
i
s
y
h
p
[
 
 
1
v
1
7
1
2
1
4
0
/
s
c
i
s
y
h
p
:
v
i
X
r
a

The Dynamis of Book Sales: Endogenous versus Exogenous Shoks

APS preprint

in Complex Networks

F. Deshâtres

and D. Sornette

1

2, 3

Eole Normale Supérieure, rue d'Ulm, Paris, Frane

2

Institute of Geophysis and Planetary Physis and Department of Earth and Spae Sienes,

University of California, Los Angeles, CA 90095

Laboratoire de Physique de la Matière Condensée,

CNRS UMR 6622 and Université de Nie-Sophia Antipolis, 06108 Nie Cedex 2, Frane∗

1

3

(Dated: February 2, 2008)

Abstrat

We present an extensive study of the foreshok and aftershok signatures aompanying peaks of

book sales. The time series of book sales are derived from the ranking system of Amazon.om. We

present two independent ways of lassifying peaks, one based on the aeleration pattern of sales and

the other based on the exponent of the relaxation. They are found to be onsistent and reveal the

o-existene of two types of sales peaks: exogenous peaks our abruptly and are followed by a power

law relaxation, while endogenous sale peaks our after a progressively aelerating power law growth

followed by an approximately symmetrial power law relaxation whih is slower than for exogenous

peaks. We develop a simple epidemi model of buyers onneted within a network of aquaintanes

whih propagates rumors and opinions on books. The omparison between the preditions of the

model and the empirial data on(cid:28)rms the validity of the model and suggests in addition that soial

networks have evolved to onverge very lose to ritiality (here in the sense of ritial branhing

proesses of opinion spreading). We test in details the evidene for a power law distribution of book

sales and on(cid:28)rm a previous indiret study suggesting that the fration of books (density distribution)

P (S) of sales S is a power law P (S) ∼ 1/S1+µ

with µ ≈ 2.

∗

Eletroni address: sornettemoho.ess.ula.edu

1

I.

INTRODUCTION

In the ontext of linear response theory, the (cid:29)utuation dissipation theorem provides an ex-

pliit relationship between mirosopi dynamis at equilibrium and the marosopi response

that is observed in a dynami measurement. It relates equilibrium (cid:29)utuations to lose-to-

equilibrium observables. In out-of-equilibrium systems, the existene of a relationship between

the response funtion to external kiks and spontaneous internal (cid:29)utuations is not settled [1℄.

In many omplex systems, this question amounts to distinguishing between endogeneity and

exogeneity and is important for understanding the relative e(cid:27)ets of self-organization versus

external impats. This is di(cid:30)ult in most physial systems beause externally imposed pertur-

bations may lie outside the omplex attrator whih itself may exhibit bifurations. Therefore,

observable perturbations are often mislassi(cid:28)ed. It is thus interesting to study other systems,

in whih the dividing line between endogenous and exogenous shoks may be learer in the

hope that it would lead to insight about omplex physial systems. The systems for whih the

endogenous-exogenous question is relevant span, beyond the physial sienes, the biologial

to the soial sienes [2℄.

Here, we study a real-world example of how the response funtion to external kiks is related

to internal (cid:29)utuations. We study the preursory and reovery signatures aompanying shoks

in omplex networks, that we test on the database of book ranks provided by Amazon.om.

We (cid:28)nd lear distinguishing signatures lassifying two types of sales peaks. Exogenous peaks

our abruptly and are followed by a power law relaxation, while endogenous sales peaks our

after a progressively aelerating power law growth followed by an approximately symmetrial

power law relaxation whih is slower than for exogenous peaks. These results are rationalized

quantitatively by a simple model of epidemi propagation of interations with long memory

within a network of aquaintanes. The slow relaxation of sales implies that the sales dynam-

is is dominated by asades rather than by the diret e(cid:27)ets of news and advertisements,

indiating that the soial network is lose to ritial. We perform also a diret measurement

on ranks that give important onstraints on the onversion that transforms sales into ranks.

A short version of this work is [3℄.

The struture of the paper is as follows. We (cid:28)rst present our database (Junglesan.om)

and explain how we use it to estimate the sales from the ranks. To do so, we need to make

2

some assumptions about the mehanisms underlying the sales dynamis. We disuss these

points on setion II. In setion V, we revisit this question and derive a way to measure diretly

this onversion. The epidemi branhing proess used in our study leads to an e(cid:27)etive linear

oarse-grained desription of the omplex nonlinear dynamis. We present our model on setion

III and derive some preditions about the behavior of the system before and after sales peaks.

Then, the data are analyzed in setion IV. We provide two independent lassi(cid:28)ations of

exogenous and endogenous shoks. The obtained lassi(cid:28)ations are robust. The last setion

onludes with suggestions for future researh.

II. CONSTRUCTION OF THE DATA: CONVERTING RANKS INTO SALES

A. The database

The study was performed using data from Amazon.om. Amazon was founded in 1994 as an

online bookseller, and sine has expanded its business into areas suh as lothing, gourmet food,

sports equipment and jewelry. With an expeted $6 billion net sales in 2004, the Amerian

giant of internet trading is by far the largest e-retailer.

Eletroni data make it possible to deal with huge amount of information impossible to

gather otherwise. With the birth of the Internet, the prospet of understanding quantitatively

soial phenomena is emerging [4℄. It is perhaps, the (cid:28)rst time that an organization an ollet

so muh information[13℄. What people buy an help give an image of the state of the soiety.

And Amazon an provide almost all of what an be bought. It operates on a global sale.

That is why Amazon is an outstanding means to probe the soiety. As Andreas S. Weigend,

hief sientist of Amazon.om (2002-2004) wrote on his webpage: (cid:16)Amazon.om might be the

world's largest laboratory to study human behavior and deision making.(cid:17) Unfortunately, for

obvious ompetition grounds, Amazon has no inentive to share its data. It jealously keeps its

sales seret. But, Amazon is not ompletely unknowable. It provides on its website the rank

for eah of its produt based on their passed sales.

In a (cid:28)rst

step, Y. Ageon in our group developed an appliation using (cid:16)Web-

Browser ontrol(cid:17) to apture automatially the ranks of books on Amazon.om at reg-

ular time intervals. WebBrowser ontrol[14℄ allows a user to browse sites on the In-

3

ternet's World Wide Web. The appliation (cid:28)rst opens Amazon's page with the URL

: http://207.171.185.16/exe/obidos/ASIN/XXXXXX where XXXXXX orresponds to the

ISBN or ASIN ode of the targeted produt (book, DVD, CD, Game, et.). The rank is

then found on the page using an algorithm whih proesses harater string. In this way, we

onstruted a database of the ranks of tens of books over several months with a sampling

periodiity of one hour. This allowed us to hek the quality of the time series of the ranks of

thousands of books whih have been reorded by JungleSan (http://www.junglesan.om)

over several years. JungleSan sans books on Amazon typially every six hours for those

updated hourly by Amazon. For all books we have heked, we found idential rank values in

JungleSan and in our diretly onstruted database, showing that we ould trust the data

from JungleSan for our study.

B. Amazon ranking shemes

In order for this data to be useful, we need to onvert the ranks into meaningful (cid:16)physial(cid:17)

units, suh as sales or sale rates. The problem is that Amazon.om does not divulge the

exat formula for this onversion (otherwise, its seretive strategy on its sale (cid:28)gures would be

useless). In our study, we use the time series of book ranks up to April 2004. Until Otober

2004, the following ranking system held, whih is the relevant one for our study[15℄.

Amazon gives some hints about its ranking system. The o(cid:30)ial statement of Amazon is

1. The o(cid:30)ial statement

the following :

What Sales Rank Means

As an added servie for ustomers, authors, publishers, artists, labels, and

studios, we show how items in our atalog are selling. This bestseller list is muh

like The New York Times Bestsellers List, exept it lists millions of items! The

lower the number, the higher the sales for that partiular title.

The alulation is based on Amazon.om sales and is updated regularly. The

top 10,000 best sellers are updated eah hour to re(cid:29)et sales in the preeding 24

4

hours[16℄. The next 100,000 ranks are updated daily. The rest of the list is updated

monthly, based on several di(cid:27)erent fators.

2. Di(cid:27)erent time sales

Amazon an use di(cid:27)erent time sales :

• a short time sale: one day. That is the time sale we are interested in sine our purpose

is to study sales dynamis.

• a long time sale. For instane, if Harry Potter sales were to rash overnight, its rank

won't fall so sharply. It means that the whole history of a book an outweigh its instan-

taneous sales. It is worth understanding when the short time sale is outbalaned.

3. Evidene that Amazon uses di(cid:27)erent ranking shemes

Books with ranks in the range below 100, 000 are re-ranked aording to the sales during

the last 24 hours. For these books, Amazon uses a short time sale to rank them. We will see

that there are exeptions. For books with sales ranks over 100, 000, Amazon does not explain

the di(cid:27)erent fators used to update the ranks.

Fig.1 (top panel) shows an example in whih the rank inreased with large (cid:29)utuations up

to 100, 000 (the sales were steadily dereasing), then jumped to a few thousands and then

followed a very smooth slowly inreasing tra jetory. The absene of (cid:29)utuations in the seond

rightmost part of the graph implies that Amazon re-ranked the books using its sales data using

a long time-sale. Fig.1 (bottom panel) shows a related e(cid:27)et. First, the sales fell o(cid:27) resulting

in the rank inreasing to 100, 000. At this rank level, Amazon swithed to a long time sale

ranking sheme, leading to a reassessment of the rank in the range of 10, 000. At some later

time, some sales ourred whih led Amazon to swith bak to a 24 hours time sale ranking

sheme, resulting in the rank inreasing dramatially to a level around 105

but slightly below

(so that the 24 hours ranking system is ative).

To sum up, only books with a low rank (typially less than ten thousands) are ranked at

a time sale from a few hours to a day and are devoid of the pathologial behavior shown in

5

Fig.1. We will thus restrain our study to the books with ranks below 10, 000.

C. Evidene that the rank-sales relation is lose to a power law

We present the (cid:28)ndings of M. Rosenthal [6℄. For over six years, he has followed losely

the sales ranks of his own books as both an author and a publisher. He has also used data

points from other authors and publishers. Note that his analysis is unauthorized and in no

way sponsored by Amazon, whih keeps the sales-ranks onversion seret. His analysis allows

us to get an approximate information on how to onvert ranks into sales.

Rank

Copies/day

1

X

10

100

100

30

1000

10

10,000

2 (11 opies every 5 days)

100,000

1 opy a week

1000,000 around 15 total, depends on pub. date

TABLE I: Estimate of M. Rosenthal [6℄ on the rank-sale relationship.

Table I shows the estimates of M. Rosenthal, whih are onverted into a rank-ordering or

Zipf plot in Fig. 2. The power law dependene S(R) ∼ 1/R1/µ

with exponent µ = 2.0 ± 0.1,

as shown by the straight line with slope −0.5 in Fig. 2 translates into a standard power law of

the omplementary umulative distribution of sales

R ∼ 1/Sµ ,

with µ = 2.0 ± 0.1 .

(1)

The bend for large ranks (small sales) is desribing the bulk of the distribution of sales. The

tail of the distribution of sales, i.e., for large sales, is desribed by the part of the (cid:28)gure

orresponding to small ranks for whih there does not appear to be a hange of regime from

a power law behavior, exept for the fat that sales for the (cid:28)rst ranks seem to (cid:29)utuation

from book to book muh more signi(cid:28)antly that would be expeted from a pure power law

6

behavior. The urrent blokbuster with rank 1 may sell from hundreds of books per day to as

muh at tens of thousands of books per day. Suh variations may perhaps be explained from

the property that, while the typial (cid:29)utuations of the sales of the (cid:28)rst rank is of the order of

a few 100% [5℄, the distribution of the sales of the (cid:28)rst rank is also a power law distribution of

the form (1) with the same exponent, whih means that it is not impossible to have very large

variations of the sales of rank 1, muh larger than their typial values. These (cid:29)utuations are

rendered in Fig. 3 in the left part for small ranks. More data would be needed to determine if

the variations of the sales of the (cid:28)rst ranks are explained by the power law distribution (1) or

may perhaps reveal an ampli(cid:28)ation mehanism putting blokbusters apart. It is also possible

that the inreased (cid:29)utuations for the smallest ranks re(cid:29)et the e(cid:27)et of the network struture

of aquaintanes. In ontrast, the (cid:29)utuations of sales from rank 10 are typially of the order

of 30% in agreement with expetations derived from the power law (1).

The orrespondene between ranks and sales suggested in Figures 2 and 3 and aptured by

the phenomenologial formula (1) allows us to onvert the time series of ranks for all studied

books into time series of sales. Notwithstanding the possible unertainties and errors in the

alibration of the onversion from ranks to sales, as disussed above, one should onsider this

onversion as basially a onvenient way to give a quantitative interpretation to the rank time

series.

In summary, we will assume that the pdf p(S) of book sales is a power law of the form

p(S) =

C
S1+µ ,

(2)

with µ = 2. In setion V, we revisit this assumption and test it further from onstraints on

the averages of rank inrements.

III. DESCRIPTION OF THE MODEL

A. Motivation: exogenous versus endogenous shoks

Consider the two sales time series shown in Fig.4, exemplifying two harateristi patterns.

• Some books beome best-sellers overnight, thanks to roketing sales. Book A ((cid:16)Strong

Women Stay Young(cid:17) by Dr. M. Nelson) jumped on June 5, 2002 from rank in the 2,000s

7

to rank 6 in less than 12 hours. On June 4, 2002, the New York Times published an

artile rediting the (cid:16)groundbreaking researh done by Dr. Miriam Nelson(cid:17) and advising

the female reader, interested in having a youthful postmenopausal body, to buy the

book and onsult it diretly [9℄. This ase is the arhetype of what we will refer to as an

(cid:16)exogenous(cid:17) shok.

• Some books beome best-sellers after a long and steady inrease in their sales. Book B

((cid:16)Heaven and Earth (Three Sisters Trilogy)(cid:17) by N. Roberts) ulminated at the end of

June 2002 after a slow and ontinuous growth, with no suh newspaper artile, followed

by a similar almost symmetrial derease, the entire proess taking about 4 months.

B. Epidemi branhing proess with long-range memory

Suh soial epidemi proess an be aptured by the following simple model [7℄. The

model is based on the idea that the instantaneous sales (cid:29)ux of a given book results from a

ombination of external fores suh as news, advertisement, selling ampaign, and of soial

in(cid:29)uenes in whih eah past reader may impregnate other potential readers in her network

of aquaintanes with the desire to buy the book. This impat of a reader onto other readers

is not instantaneous as people reat at a variety of time sales. The time delays apture the

time interval between soial enounters, the maturation of the deision proess whih an be

in(cid:29)uened by mood, sentiments, and many other fators and the availability and apaity to

implement the deision. We postulate that this lateny an be desribed by a memory kernel

φ(t − ti) giving the probability that a buy initiated at time ti leads to another buy at a later

time t by another person in diret ontat with the (cid:28)rst buying individual. We onsider the

memory funtion φ(t − ti) as a fundamental marosopi desription of how long it takes for a

human to be triggered into ation, following the interation with an already ative human. φ(t)

is normalized suh that

∞0 φ(t) = 1. Starting from an initial buyer (the (cid:16)mother(cid:17) buyer) who
R

noties the book (either from exogenous news or by hane), she may trigger buying by (cid:28)rst-

generation (cid:16)daughters,(cid:17) who themselves propagate the buying drive to their own friends, who

beome seond-generation buyers, and so on. We desribe the sum of all buys by a onditional

8

Poisson branhing proess with intensity:

λ(t) = η(t) +

µi φ(t − ti) ,

(3)

ti
Xi
≤
|

t

where η(t) is the rate of buys initiated spontaneously (for instane by listening to a media

overage of a book or serendipity) without in(cid:29)uene from other previous buyers and the mark

µi is the number of potential buyers in(cid:29)uened by the buyer i who bought earlier at time ti .

Our model is based on the key idea that the epidemi mehanism is basially the same for

all books. Of ourse, the underlying networks of onneted potential buyers are a priori not

the same for di(cid:27)erent books. This an be aounted for by di(cid:27)erent values of the (cid:16)branhing

ratio(cid:17) as de(cid:28)ned below.

While this version of the epidemi model of sales treats eah book independently, in reality,

we should onsider orrelations between sales of di(cid:27)erent books whih may be related by a

ommon growth of interest (see for instane the ase of books on (cid:28)nanial markets whose sales

grow onomitantly during stok market bubbles [8℄).

In addition, sales will exhibit some

orrelation at speial epohs, suh as Christmas. At this period of the year, all books that

have a gift appeal will sell more opies than they would have sold otherwise.

In ontrast,

if a book does not have any gift appeal, its sales ranks will fall between Thanksgiving and

Christmas, even if its atual sales remain steady. Likewise, university students buy a huge

number of textbooks and other required reading titles through Amazon during September and

from mid-January through mid-February, whih will depress the ranks of books that do not

fall into this ategory. They even vary in a regular manner during the ourse of the week.

Some titles are primarily purhased by people at work or homemakers when the kids are at

shool, while books with strong Assoiates support do relatively well on weekends. We will

not take into aount suh e(cid:27)ets.

We do not spei(cid:28)ally desribe the lifetime of a book and treat the innovations η 's as

stationary. Assuming sales as stationary allows us to de(cid:28)ne the probability that the sales

reah a given value. This approximation should not be too bad over the time sales of months

of our study but fails over longer time sales.

9

C. Mean (cid:28)eld solution

Equation (3) an be written

λ(t) = η(t) +

N[dτ × dµ]φ(t − τ )

(4)

t

Z

Z

where N[dτ × dµ] is the standard notation for the number of events that ourred between τ

and τ + dτ with mark between µ and µ + dµ. In the physiist's notation

N[dτ × dµ] =

t

δ(τ − ti) δ(µ − µi). The lower bound of the integral over time in (4) is for instane the

R

R

t

R

R

edition time of the onsidered book. Taking the ensemble average of (3) gives

S(t) ≡ hλ(t)i = η(t) + n

dτ φ(t − τ )S(τ ),

(5)

t

Z

−∞

where the so-alled (cid:16)branhing ratio(cid:17) n = hµi is the average number of buys triggered by any

(cid:16)mother(cid:17) within her aquaintane network. We have use the fat that h

N[dτ ×dµ]i = nhλ(τ )i.

The branhing ratio n depends on the network topology as well on the soial behavior of

R

in(cid:29)uenes. We onsider only the sub-ritial regime n < 1 in order to ensure stationarity. The

linear struture of equation (5) does not mean that the dynami is linear. It is an e(cid:27)etive

oarse-grained desription of the omplex nonlinear dynamis.

In order to solve S(t), it is onvenient to introdue the Green funtion or (cid:16)dressed prop-

agator(cid:17) κ(t) de(cid:28)ned as the solution of (5) for the ase where the soure term η(t) is a delta

funtion entered at the origin of time :

κ(t) = δ(t) + n

dτ φ(t − τ )κ(τ ),

and by de(cid:28)nition of κ(t) :

S(t) =

dτ η(τ ) κ(t − τ ).

t

Z

−∞

t

Z

−∞

The umulative e(cid:27)et of all the possible branhing paths gives rise to the net sales (cid:29)ux κ(t)

triggered by the initial event at time t = 0. The response funtion κ(t) an easily be obtained

by taking the Laplae transform of (6):

Setting β = 0, we get

κ(β) =

1
φ(β)
1 − n

b

∞

0
Z

dτ κ(τ ) =

b

1
1 − n

,

10

(6)

(7)

(8)

(9)

whih means that

1

1

−

possible lineage. This result an be reovered diretly from the following argument:

n is the average number of buyers in(cid:29)uened by one buyer through any
if n is

the average number of buyers in(cid:29)uened diretly by one buyer, the total number of buyers

in(cid:29)uened through any possible lineage is

κ(t)
1
that a purhase triggered by a buy at t = 0 ours at time t within dt.

∞k=0 nk = 1
1
−

n . The term

P

−

n dt is the probability

We onsider the ase where the (cid:16)bare propagator(cid:17) is φ(t) ∼ 1/t1+θ

with 0 < θ < 1 orre-

sponding to a long memory proess. It leads to :

κ(t) ∼ 1/t1
−

θ,

for t < t⋆

κ(t) ∼ 1/t1+θ,

for t > t⋆,

with

t⋆ ∝ 1/(1 − n)1/θ.

D. Predition of the model

1. Distribution of sales

Starting from the evidene that the distribution p(S) of sales is a power law (2), the linear

expression (7) implies that the soure terms η(τ ) in (7) are also distributed as a power law with

the same exponent µ. Atually, the generalized entral limit theorem applied to (7) implies

that the pdf p(S) is a stable Lévy law Lµ with index µ as soon as the soure terms η(τ ) in (7)

are independently and identially distributed as a power law with an exponent µ ≤ 2. By the

generalized entral limit theorem, the harateristi funtion of S is given by

−D|u|µ
(cid:20)
where D is a measure of the magnitude of the soures η(τ ). This translates into

heiuS(t)i = exp

|κ(τ )|µ dτ

0
Z

(cid:21)

,

∞

P (S) ≈ Lµ

"

(D

∞0

|κ(τ )|µ dτ )1/µ #

.

S

In reality, there is probably a dependene between the soure terms η(τ ). However, as long

R

as their orrelation funtion deays faster than 1/t, this has only the e(cid:27)et of hanging the

oe(cid:30)ient D . We do not explore the situation in whih the η(τ )'s ould have longer range

orrelations.

11

(10)

(11)

(12)

(13)

(14)

2. Dynamial properties

a. Exogenous shok. An external shok ourring at t = 0 an be modeled as a jump

S0δ(τ ). The response of the system for t > 0 is then :

The expetation of the response to an exogenous shok is thus :

S(t) = S0 κ(t) +

η(τ )κ(t − τ ).

t

Z

−∞

E[S(t)] = S0 κ(t) +

1
1 − n

hηi,

(15)

(16)

where hηi is the average soure level. Expression (15) simply expresses that the reovery of

the system to an external shok is entirely ontrolled by its relaxation kernel.

For an external shok whih is strong enough, for t > 0 :

Eexo(S(t)) ≈ S0 κ(t).

It exempli(cid:28)es that κ(t) is the Green funtion of the oarse-grained equation of motions of the

system.

b. Endogenous shok. Consider a realization whih exhibits a large sales burst S(t = 0) =

S0 without any large external shok. In this ase, a large endogenous shok requires a speial

set of realizations of the noise {η(t)} [7℄. We an write : η =

η + hηi. By onstrution

η has

a zero mean. Using this, we get :

e

e

S(t) =

dτ

η(τ )κ(t − τ ) +

dτ hηiκ(t − τ )

0

Z

−∞
t

0
Z

+

dτ η(τ )κ(t − τ )

e

0

Z

−∞

The expetation of S is :

E[S(t)] =

dτ E [

η(τ )] κ(t − τ ) +

(17)

0

Z

−∞

hηi
1 − n

.

As for an exogenous shok, the onstant h
1

η

e
n , equal to the unonditional average hSi, an be
i
−

negleted.

For τ < 0, the expetation of

η(τ ) is not zero, beause the value S(0) = S0 is spei(cid:28)ed.

In ontrast, for τ > 0, E[η(τ )] = hηi sine the onditioning does not operate after the shok.

e

12

Consider the proess W (t) ≡

dτ

η(τ ). A standard result is that for t<0:

t

−∞
R

W (t)|S(0) = S0

= (S0 − E[S]).

E
"

e

#

Cov[W (t), S0]
Var[S0]

≃ (S0 − E[S])

dτ κ(−τ ) .

t

Z

−∞

This expression predits that the expeted path of the ontinuous innovation (cid:29)ow prior to the

endogenous shok (i.e.

for t < 0) grows like ∆W (t) ∼ κ(−t)∆t upon the approah to the

time t = 0 of the large endogenous shok. In other words, onditioned on the observation of

a large endogenous shok, there are spei(cid:28) sets of the innovation (cid:29)ow that led to it. These

onditional innovation (cid:29)ows have an expetation E[η(t < 0)] − hηi ≃ S0κ(−t) (We assume

S0 ≫ E[S]). We thus obtain from (17) for t > 0 and t < 0 :

Eendo[S(t)] ∝ S0

dτ κ(t − τ ) κ(τ ) .

(18)

Min[t,0]

Z

−∞

. Distinguishing both shoks The model predits two di(cid:27)erent relaxations for exogenous

and endogenous shoks aording to expressions (16) and (18). Assuming that we are lose

to the ritial point n ≈ 1, we an use κ(τ ) ∼ 1/t1
−

θ

. Table II gathers the aftershok and

foreshok signatures.

Endo

Exo

Aftershok S(t) ∝ 1

t1−2θ S(t) ∝ 1
t1−θ

Foreshok S(t) ∝ 1

1−2θ Abrupt Peak

t
|

|

TABLE II: Aftershok and foreshok signatures for endogenous and exogenous shoks ourring at

time t = 0.

The predition that the relaxation following an exogenous shok should happen faster (ex-

ponent 1 − θ) than for an endogenous shok (exponent 1 − 2θ) agrees with the intuition that

an endogenous shok should have impregnated the network muh more and thus have a longer

lived in(cid:29)uene. This result is a non-trivial onsequene of our model. If we perform the same

alulation [7℄ for an exponential deaying memory kernel φ(t), the funtional form of the

reovery does not allow one to distinguish between an endogenous and an exogenous shok.

For the memory kernel φ(t) deaying faster than an exponential, the endogenous relaxation

turns out to be faster than the exogenous one [7℄.

13

IV. EMPIRICAL DETERMINATION OF THE EXPONENTS OF SALES DYNAM-

ICS

A. Seletion of peaks and (cid:28)tting the power law

We qualify a peak as a loal maximum over a 3-month time window whih is at least

k = 2.5 time larger than the average of the time series over the same 3-month time window.

The threshold value k was determined after looking at several examples of time series. The

results do not hange signi(cid:28)antly by varying k within large bounds (see below).

We onsidered only the sales maxima orresponding to ranks reahing the top 50.

We seleted those time series whih had at least 15 days after the peak, so that we an

analyze the reovery signature following shoks.

We (cid:28)t the sales dynamis by a power law :

S(t) ∼

A
(t − tc)p ,

with A, p and tc unknown. The (cid:16)ritial time(cid:17) tc is expeted to be lose to the time t0 of the

peak. We know from previous experiene in ritial phenomena that the determination of the

exponent p an be quite sensitive to the (cid:28)tted value of tc .

Moreover, we do not know a priori whih window size should be taken. If the signal were a

pure power law, it would not matter. But, here the signal is approximately a power law over

a (cid:28)nite range. A big time window means more data and so more aurate results but we have

to end the window before a possible hange of regime due to (i) n < 1 implying the existene

of the (cid:28)nite ross-over time t⋆

given by (12), (ii) S(t) tending to bakground noise around to

its average value and (iii) the impat of other shoks that may interfere.

In order to determine A, p and tc for a given window size, we use a least square method,

i.e. we seek to minimize the following quantity :

σlogA,p,tc =

FlogA,p,tc(ti)2,

with,

FlogA,p,tc(ti) = log S(ti) − log A + p log(ti − tc).

As σ is quadrati with respet to log A and p, for these two parameters, the minimization of

σ is straightforward and an be done analytially. Setting the partial derivatives

∂σ

∂ log A and

∂σ
∂p

ti
X

14

equal to zero, we just need to solve a linear system of two equations with two unknowns, whih

gives log A(tc) and ptc as a funtion of the still unknown tc . Now, we just need to minimize

σtc = σlogA(tc),p(tc),tc ,

(19)

a funtion of one variable. Fig. 5 shows an example of σ(tc). To minimize suh irregular

funtion, we san over all the value of tc . We typially use a total interval of one week around

the time of the peak.

We perform a (cid:28)t for di(cid:27)erent time windows ranging from a lower bound Imin to an upper

bound Imax . Imin has a (cid:28)xed value, set to 15 days. In ontrast, Imax depends on the time

series. Imax is alulated as the time at whih the minimum of the sales ours, over a time

window running from 25 days to 6 months. Imax is (cid:28)xed in this way to prevent a rise in sales

from being taken into aount in the (cid:28)t.

One the (cid:28)t has been performed for the di(cid:27)erent time windows, we look at the orrelation

oe(cid:30)ients of the (cid:28)ts and hoose the window whih leads to the best orrelation oe(cid:30)ient.

This method turns out to give a robust estimate of the power law deay of the relaxation of

sales.

B. Distribution of exponents

Out of some 14, 000 books available on Junglesan on April 2004, our algorithm detets

1, 013 peaks whih obey the onstraints of reahing the top 50, with su(cid:30)ient data before and

after the peak and obeying the ondition of not being ontaminated by a loseby peak, as

spei(cid:28)ed above. Among these 1, 013 peaks, we selet those followed by a relaxation whih an

be well-approximated by a power law, with the riterion that the orrelation oe(cid:30)ient r of the

orresponding (cid:28)t is larger than 0.95. This leads us to keep 138 peaks. Making this seletion

does not hange qualitatively our results but improve somewhat the quantitative (cid:28)ndings. We

have played with di(cid:27)erent values of the orrelation oe(cid:30)ient between 0.8 and lose to 1 and

(cid:28)nd the same results with larger error bars for lower orrelation oe(cid:30)ients.

Fig.6 shows the distribution of power law exponents for the derease of sales after peaks.

We (cid:28)nd two lusters orresponding to peaks respetively with an exponent 0.2 < p < 0.6

and with an exponent 0.6 < p < 1. This suggests that these two lusters an be seen as the

15

endogenous luster (1 − 2θ ≈ 0.4) and the exogenous one (1 − θ ≈ 0.7). This provides a (cid:28)rst

estimate for the exponent θ ≈ 0.3.

Aording to the epidemi model proposed here, the small values of the exponents (lose

to 1 − θ and 1 − 2θ) for the exogenous and endogenous relaxations, respetively, imply that

the sales dynamis is dominated by asades involving high-order generations rather than by

interations stopping after (cid:28)rst-generation buy triggering. Indeed, if buys were initiated mostly

by the diret e(cid:27)ets of news and advertisements without ampli(cid:28)ation by triggering asades

in the aquaintane network, the asade model would predit an exponent 1 + θ given by the

(cid:16)bare(cid:17) memory kernel φ(t). The values smaller than 1 for the two exponents for exogenous

and endogenous shoks imply aordingly that the average number n (the average branhing

ratio in the language of branhing models) of impregnated buyers per initial buyer in the soial

epidemi model is on average very lose to its ritial value 1, beause the renormalization from

φ(t) to κ(t) given by (10) only operates lose to the ritiality haraterized by the ourrene

of large asades of buys. Reiproally, a value of the exponent p larger than 1 would suggest

that the assoiated soial network is far from ritial.

C. Staking the peaks

Aording to our model and as summarized in table II, the peaks belonging to the luster

with high p (p ≈ 0.7) should be in the exogenous lass, and therefore should be reahed

by the ourrene of abrupt jumps without detetable preursory growth. Alternatively, the

peaks belonging to the luster with p ≈ 0.4 should be in the endogenous lass, and therefore

should be assoiated with a progressive preursory power law growth 1/(tc − t)p

with exponent

p = 1 − 2θ.

To hek this predition, the following algorithm ategorizes the growth of sales before eah

of the peaks aording to its aeleration pattern. We di(cid:27)erentiate between peaks that have an

inrease in sales by a fator of at least kexo prior to the peak and peaks that have an inrease

in sales by a fator of less than kendo at the same time. More preisely, we ompared the value

of the sales at the time of the peak (D day) and the average value of the sales from day D-4

to D-1. We tried several values for these two oe(cid:30)ients kexo and kendo .

We (cid:28)nd that the bigger kexo , the largest is the exponent of the average relaxation for books

16

that have an inrease in sales by a fator more than kexo . Conversely, we (cid:28)nd that the smaller

kendo , the smaller is the exponent of the average relaxation for books that have an inrease in

sales by a fator less than kexo . Both results agree with the intuition that, for seletive riteria,

we only keep peaks that are very easy to lassify and thus redue the probability to make a

mislassi(cid:28)ation.

Finally, we set kexo = 30, kendo = 2. It means that peaks for whih the aeleration fator

were between 2 and 30, were not onsidered for the subsequent analysis leading to Fig. 7. Out

of the 138 peaks, 30 remains.

Fig.7 shows the average relaxation and preursory aeleration. For shoks lassi(cid:28)ed as

exogenous aording to their aeleration pattern, we (cid:28)nd a relaxation governed by an exponent

1−θ ≈ 0.7. For shoks lassi(cid:28)ed as endogenous, both aftershoks and foreshoks are ontrolled

by an exponent 1 − 2θ ≈ 0.4. These results math what has been predited by the model (see

Table II).

Aftershok: the best (cid:28)t of the least square method with a power law gives a slope 1 − θ ≈

0.7 for exogenous shoks and a slope 1 − 2θ ≈ 0.4 for endogenous shoks. One an observe a

rossover for t − tc ≈ 60 − 80 days, in both ases. It is tempting to interpret this rossover

as the hange of regime predited by the model for t ≈ t⋆

(see setion III C).

Indeed for

t > t⋆

, we should expet a power law with exponent 1 + θ, both for exogenous and endogenous

shoks. Unfortunately, the rossover does not extend su(cid:30)iently far to allow us to onstrain

the exponent of the seond regime.

Foreshok: the best (cid:28)t of the least square method with a power law gives a slope 1−θ ≈ 0.4

for the endogenous foreshoks. The time on the x-axis has been reversed to ompare the

preursory aeleration with the aftershok relaxation. The superposition of the two top urves

for the preursory and relaxation behavior of the endogenous peaks on(cid:28)rms the symmetri

behavior predited by the model (see Table II).

D. Detailed analysis of exogenous peaks

Table III lists the 10 peaks that have an exponent larger than 0.65 among the thirty peaks

used to make Fig. 6. Fig. 9 shows the evolution of the sales for these 10 peaks, from ten days

before to 70 days after the peaks. Fig. 8 shows the time evolution of the sales of the book

17

(cid:16)Get with the program(cid:17) written by the personal trainer of Ophra Winfrey and its remarkable

suession of exogenous peaks assoiated with regular appearane of the book in Oprah's TV

show.

In Fig. 9, eight peaks are reahed by a fast aeleration of the sales, as expeted from our

model and the lassi(cid:28)ation. However for two books, (cid:16)Star Wars(cid:17) and Stephen King's novel,

the situation is di(cid:27)erent. Their aeleration patterns are lassi(cid:28)ed as endogenous (i.e. slow

aeleration growth) by our algorithm. Yet, they exhibit a fast relaxation (large exponent

p = 1 − θ) whih means that they are lassi(cid:28)ed as exogenous aording to the (cid:28)rst riterion,

based on the exponent of the relaxation after the peak. So, what's wrong ?

Consider the example of the book entitled (cid:16)Stars Wars.(cid:17) Its suess was triggered by the

release of the movie. But, as the advertisement ampaign lasted several weeks, not to say

several months, no wonder we don't observed a jump but a slow aeleration growth. For suh

huge selling ampaign, modeling the soure term η(t) responsible for the shok by a Dira

funtion is a very poor approximation. Here, the time duration of the advertisement ampaign

annot be negleted.

For Stephen King's novel, the situation looks quite the same. On september 2003, the Board

of Diretors of the National Book Foundation announed that its 2003 Medal for Distinguished

Contribution to Amerian Letters would be onferred to Stephen King. This is Ameria's most

prestigious literary prize. The eremony took plae two months later, on 11/19/2003, shortly

after the observed peak. As for (cid:16)Star Wars,(cid:17) the time extension of the exogenous impat of

news annot be negleted.

This (cid:28)nding suggests that modeling external in(cid:29)uene (cid:21)news, advertisement(cid:21) by a Dira

funtion δ(t) is not adequate in some ases. The external shok may have a signi(cid:28)ant duration

T . We then expet the sales to grow slowly and exhibit a plateau over a time sale proportional

to T and then to rossover to the exogenous 1/t1
−

θ

deay rate for times t > T . Fig. 10 shows

that this is indeed the ase for the two books (cid:16)Star Wars(cid:17) and (cid:16)Wolves of the Calla(cid:17) whih

were exeptions to our lassi(cid:28)ation in terms of their aeleration pattern: the long durations

of the peaks are onsistent with the fat that the external news impated over an extended

period of time, leading to our mislassi(cid:28)ation as endogenous with respet to their aeleration

before the peak. The time sale of about 20 days of the plateau is onsistent with the known

duration of the external news.

18

These two examples show the need to re(cid:28)ne our analysis to allow for a more general desrip-

tion of external news. In partiular, the epidemi model an in priniple be used to invert the

amplitude of the (cid:29)ow of news η(τ ) from the time series of the sales S(t). But to be e(cid:27)etive

and reliable, this would require better data, for instane diretly working on Amazon sales

rather than on reonstruted sales from ranks.

E. Robustness of the results upon variation of the onditions of peak seletion

Previously, we kept 30 peaks orresponding to those whih give a (cid:28)t with a power law with

a orrelation oe(cid:30)ient larger than 0.95 and whih have an inrease before the peak of a fator

less than kendo = 2 or of a fator more than kexo = 30. It is interesting to disuss the results

for less restritive onditions.

Fig. 11 is similar to Fig. 6 and shows the distribution of power law exponents for the

derease of sales after peaks for those peaks whose relaxation an be (cid:28)tted by a power law

with a orrelation oe(cid:30)ient larger than 0.9. This less restritive ondition on the quality of

the power law (cid:28)t selets 388 peaks out of the initial 1013 peaks of our pre(cid:28)ltered data set, i.e.,

lose to three times more peaks. We again (cid:28)nd two rather learly de(cid:28)ned lusters, whih an

be assoiated with the endogenous and the exogenous lasses as previously.

Among the 388 peaks that have a orrelation oe(cid:30)ient more than 0.9, we kept the 270 peaks

whih have an inrease before the peak less than kendo = 8.5 or more than kexo = 12.5. These

two oe(cid:30)ients were seleted empirially, suh that the algorithm make a distintion between

slow and fast aeleration similar to what ommon sense would suggest. The 388 − 270 = 118

rejeted peaks orrespond to blurred situations where the aeleration of the sales is neither

fast nor progressive. Fig. 12 is similar to Fig. 7 but for these 270 peaks. We again obtain

two di(cid:27)erent power law slopes, a faster derease and larger exponent for the lass lassi(cid:28)ed

as exogenous with respet to its fast foreshok aeleration than for the lass lassi(cid:28)ed as

endogenous with respet to its progressive foreshok aeleration. For (kendo ,kexo )=(8.5,12.5),

we obtain p = 0.54 for the exogenous lass and p = 0.4 for the endogenous lass. To test

the sensitivity with respet to the oe(cid:30)ients kendo and kexo , we report other values. For

(kendo ,kexo )=(5,20) (respetively (2,30)) whih are not shown, we obtain a mean exponent

for the exogenous lass equal to 0.55 (resp. 0.57) and 0.39 (resp. 0.39) for the endogenous

19

lass. While the results are qualitatively onsistent with those obtained with more stringent

onditions, we see that the exponent for the exogenous lass is a bit too small. This may be

due to the duration of the news whih are not instantaneous as disussed above and to the

existene of other fators and disturbanes not desribed here.

V. FURTHER TESTS AND CONSTRAINTS ON THE RANK-SALE CONVERSION

(2)

In this setion, we ompare the predition of the model with the data on hanges of ranks

to test the validity of the power law distribution (2) that we used to onvert ranks into sales.

Let us denote ∆R(t) ≡ R(t + ∆t) − R(t) the variation of rank over the time interval ∆t

(whih will be taken (cid:28)xed and equal to 1 day). Let us all ∆S(t) ≡ S(t + ∆t) − S(t), the

variation of sales over the same time interval.

It is lear that variations of ranks must be

interpreted relative to past ranks. A hange of a few ranks when a book is selling a rank 10

is not the same as when it has rank 10,000. This motivates us to study the onditional rank

variation de(cid:28)ned by

h∆R(R)i ≡ E[∆R(t)|R(t)] ,

de(cid:28)ned as the rank variation from time t to t + 1 for a book whih was at rank R(t) at time

t. Similarly, the onditional sale variation

(20)

(21)

h∆S(S)i ≡ E[∆S(t)|S(t)]

is the expetation of the variation of the sales onditioned on its value before.

First, we will derive h∆S(S)i from our model. Then, using the postulated rank-sales onver-

sion given by (2) will provide a predition for h∆R(R)i. We will also measure h∆R(R)i diretly

without using the onversion rank-sales, and ompare to test the ranks-sales onversion.

20

A. Predition of the model of setion III

1. Derivation of h∆S(S)i

Let us de(cid:28)ne

with

η ≡ η − hηi. Then, S(t) =

S(t). Let us expand ∆S(t) :

e

e
∆S(t) =∆

S(t)

S(t) ≡

dτ

η (τ ) κ(t − τ ),

Z
−∞
e
η
n and ∆S(t) = ∆
S(t) + h
i
1
−

e

e

t
e

Z

−∞

t+∆t

=

+

t
Z

dτ

η(τ )(κ(t − τ + ∆t) − κ(t − τ ))

e
dτ

η(τ )κ(t + ∆t − τ ).

t

e

Conditioned on the value of S(t), the expetation of the seond term of the r.h.s is zero beause

the onditioning does not a(cid:27)et times posterior to t. This implies

h∆S(S)i =

dτ E [

η(τ )|S(t)] (κ(t − τ + ∆t) − κ(t − τ )) .

(23)

t

Z

−∞

e

Following the same reasoning as in setion III D 2, we have ∀S(t), E[

η(τ )|S(t)] ∝

S(t)κ(t − τ ).

Replaing this expression in (23) obtains

e

e

h∆S(S)i = −α

S

= −α(S − hSi),

e

with

α ≃ −

dτ (κ(t − τ + ∆t) − κ(t − τ )) ,

t

Z

−∞

whih is positive beause κ is a dereasing funtion.

2. Derivation of h∆R(R)i from h∆S(S)i assuming (2) to be valid

Expression (2) implies that the funtion R(S) is a power law of exponent −µ. Thus, taking

the logarithmi derivative expressed as a (cid:28)nite di(cid:27)erene gives

∆R
R

= −µ

∆S
S

.

21

(22)

(24)

(25)

(26)

(27)

From (25) and (27), we get

h∆R(R)i
R

= µα(1 −

hSi
S

)

S an be expressed as a funtion of R as follows. Starting from (2), we express the onstant
C as C = µSµ

min from the normalization of p(S) in the interval from a minimum sale Smin to
µ Smin . We have assumed µ > 1, whih implies that a

in(cid:28)nity. Then, hSi =

p(S) S dS = µ
1
−

R

ma jority of the sales are oming from books with large ranks (i.e., low sales) and not from the

few blokbusters in the top ranks. This leads to

R(S) = NP>(S) = N

µ − 1

µ

 

µ !

 

µ

,

hSi
S !

where N is the `total' number of books. It is not very lear whih value should be taken for

N . Amazon sells and ranks several millions of books. But, should our power-law onversion

be true, it won't probably be valid for the largest ranks in the million range. We an probably

expet to have N ≈ 104

beause Amazon's hange of ranking sheme around R = 104

, reating

a natural population of the (cid:28)rst 10,000 ranked books. Or perhaps, it ould be 105

.

Putting together (28) and (29) leads to

h∆R(R)i = αµR

1
µ

1 −
"

µ
µ − 1  

R
N !

.

#

(28)

(29)

(30)

Our epidemi model of book buys together with the assumption of a power law distribution

of sales with exponent µ, expression (30) predits that the average variation of ranks is pro-
portional to the rank itself for small R and to −R1+

1
µ

for large rank. The non-monotoniity

of h∆R(R)i, i.e., h∆R(R)i > 0 for small R and h∆R(R)i < 0 for large R simply re(cid:29)ets that

best-sellers tend to lose ranks beause being a best-seller requires to have ontinuously soures

η(t)'s of buyers above the average, whih an only be ahieved for a relatively short time.

Conversely, poorly ranked books an only improve their ranking on average.

B. Empirial test

Fig.13 shows the overall behavior of h∆R(R)i. For our purpose, we will ignore ranks R > 104

beause, for suh ranks, the Amazon ranking sheme is not appropriate as already disussed

in setion II B and illustrated by the artifats for R ≈ 104

and R ≈ 105

. These spurious peaks

re(cid:29)et the shift of Amazon between di(cid:27)erent ranking shemes.

22

The part of Fig.13 for R < 104

is magni(cid:28)ed in Fig.14. The predited non-monotonous

behavior is observed but expression (30) do not (cid:28)t the experimental data for the small ranks.

The log-log plot of Fig.14 learly shows that h∆Ri is given by

h∆Ri ∼ Rβ , with β = 1.5 ± 0.05 ,

(31)

over approximately three deades. Thus, h∆Ri is not proportional to R sine β is signi(cid:28)antly

larger than 1. This departure from linearity an either signal a problem with the predition

(25) of the model or an be due to a breakdown of the power law assumption (2).

1. First option: breakdown of E[

η(τ )|S(t)] ∝

S(t)

Suppose instead of (25) that

e

e

h∆S(S)i ∼ −

Sx ,

where x may be di(cid:27)erent from 1. Then, following step by step the derivation leading to (30),

e

we obtain

h∆R(R)i ∼ R

1−x
µ R ,

(32)

(33)

where we have used the power law onversion (1) between sales and ranks derived from (2).

When (25) holds, x = 1 and expression (33) reovers the linear dependene of h∆R(R)i with

R, for not too large R, quanti(cid:28)ed by the (cid:28)rst term in the r.h.s. of (30). Now, expression (33)

is ompatible with the data (31) together with the measurement µ ≃ 2 only if we take x = 0,

whih implies that h∆S(S)i does not depend in a (cid:28)rst approximation on

S . This in turn implies

that the result E[

η(τ )|S(t)] ∝

S(t)κ(t − τ ) obtained above following the reasoning of setion

e

III D 2 does not hold and must be replaed by the statement that E[

η(τ )|S(t)] is independent

S(t). Note that the dependene of E[

η(τ )|S(t)] on κ(t − τ ) is not neessarily linked to

of

the validity of E[

η(τ )|S(t)] ∝

S(t) and thus the proportionality E[

e

e

still hold, ensuring the validity of the exponent 1 − 2θ for the foreshok and aftershok sales

e
η(τ )|S(t)] ∝ κ(t − τ ) an

e

e

e

e

assoiated with an endogenous peaks (see Table II).

A possible interpretation of the breakdown of E[

η(τ )|S(t)] ∝

S(t) is that the amplitude

of the sales have a large stohastiity from book to book and the dependene of preursory

e

e

innovations on the future amplitude of the sales's peak is lost.

In sum, if we aept the

e

23

onlusion drawn in insight that the sales' innovations are weakly dependent or are atually

independent of the amplitude of the sales' peak, then the observed law (31) an be seen as

a dramati on(cid:28)rmation of the power law (2) through the rank-to-sale power law onversion

(1) in the range of ranks up to a few thousands. However, as a note of aution, we annot

exlude the possibility that x 6= 0 and µ 6= 2 as long as (1 − x)/µ = 1/2 holds: in suh a ase,

expression (33) shows that we would reover the observed power law relationship (31) from

the analogous derivation that led to (30).

2. Seond option: deviations from the power law onversion

Let us onsider a general funtion S(R) relating ranks to sales. Equation (27) beomes

∆S = S′(R)∆R. Using the empirial evidene h∆Ri ∝ Rβ
h∆Si ∝ −S for small R, we get S(R) = Smin exp( C

and assuming still the validity of

Rβ−1 ), where Smin and C are two onstants.

Assuming that this expression for small R an be used for all ranks of interest, we get :

h∆R(R)i =

αRβ
C(β − 1) "

1 −

<S>
Smin

exp

−

 

C
Rβ

.

1 !#

−

(34)

The two onstants Smin and C an be adjusted to provide a rather good (cid:28)t by (34) to the

data, as shown in Figure 14. By onstrution, h∆Ri has the orret behavior for small R. All

the di(cid:30)ulty is to desribe how h∆Ri reahes its maximum and then dereases. Typially, the

(cid:28)t gives C = 165, whih leads to

S(1)
Smin

= exp(165) ≈ 1070

. Obviously, this is totally absurd

! Our mistake was to derive S(R) for small R in order to use it to alulate the behavior of

h∆Ri for any R.

A better approah is to invert the empirial funtion h∆R(R)i to get S(R), without making

assumptions about it. For a given funtion S(R), equation (28) beomes

S′(R)h∆R(R)i = −α(S(R) − hSi .

Thus, we an express S(R) as a funtion of h∆Ri and obtain

S(R) = hSi + (Smax − hSi) exp

−α

R

1
h∆R(R′)i

dR′

,

!

 

1
Z

where Smax is a onstant equal to S(R = 1).

(35)

(36)

24

The problem to use (36) is that we do not know the value of the onstant α, whih is rather

ruial as it appears in the exponential. Nevertheless, whatever the value of α, we observe

roughly the same behavior for S(R). Fig.15 shows S(R) obtained by inserting the empirial

dependene h∆R(R)i as a funtion of R in expression (36) for (cid:28)xed values of α, Smax and hSi.

The (cid:16)fast(cid:17) derease for small R (typially R < 10 − 20) followed by a (cid:16)slow(cid:17) one for large R's

is typial of most reasonable parameters. This shows that the onversion an be roughly seen

as a power law (an approximate straight line in a log-log plot) in the range R ∈ [20, 104]. But

we are not able to determine the value of the exponent from this approah beause we don't

know α.

In summary, the diret determination of the funtion S(R) requires some additional as-

sumption as shown in the various attempts developed above. Nevertheless, we have seen that

a power law would explain the observed non-monotonous behavior for h∆R(R)i. Notie that

if we assume S(R) to be exponential : S(R) = S0 exp(−R/R⋆), the relation (35) implies :

h∆R(R)i = αR⋆

1 −

exp

hSi
S0

 

−R
R⋆ (cid:17)

,

!

(cid:16)

(37)

whih is obviously monotonous and an thus be rejeted by omparison with the data.

VI. CONCLUSION

In our study of the ranks of books sold by Amazon.om, we have shown that sales shoks an

be lassi(cid:28)ed into two ategories: endogenous and exogenous. We have used two independent

ways of lassifying peaks, one based on the aeleration pattern of sales (see setion IV B) and

the other based on the exponent of the relaxation (see setion IV C). We have developed an

epidemi model of in(cid:29)uenes between buyers onneted within a network of aquaintanes.

The omparison between the preditions of the model and the empirial data suggests that

soial networks have evolved to onverge very lose to ritiality (here in the sense of ritial

branhing proesses). It means that tiny perturbations, whih in any other state would be felt

only loally, an propagate almost without any bound. Studies of ritial phenomena shows

that very di(cid:27)erent systems an exhibit fundamental similarities, this is generally referred as

universality.

While we have emphasized the distintion between exogenous and endogenous peaks to set

25

the fundamentals for a general study, we also (cid:28)nd losely repeating peaks as well as peaks that

may not be pure members of a single lass. In a sense, there are no real (cid:16)endogenous peaks(cid:17),

one ould argue, beause there is always a soure or a string of news impating on the network

of buyers. We have thus distinguished between two extremes, the very large news impat and

the strutureless (cid:29)ow of small news ampli(cid:28)ed by the asade e(cid:27)et within the network. One

an imagine and atually observe a ontinuum between these two extremes, with feedbaks

between the development of endogenous peaks and the attration of interest of the media as a

onsequene, feeding bak and providing a kind of exogenous boost, and so on. Our framework

allows us to generalize beyond these two lasses and to predit the sales dynamis as a funtion

of an arbitrary set of external soures.

If Amazon.om would release its data, we suggest future promising diretions of inquiries.

• Before anything else, the same study should be done again. We expet more aurate

results as we work with the real sales and not only with an estimate derived from the

• Seondly, a diret aess to sales should make it possible to reverse S(t) to get aess

to the news innovations η(t) desribing the soures of spontaneous buys. We urrently

desribe η(t) as a white noise distributed aording to a power law. This zero order

approximation ould be improved and leads to a better understanding of the statistial

properties of the news η(t). One an even imagine to reonstrut the spei(cid:28) history of

news that were ampli(cid:28)ed by the epidemi proess to obtain a given sales history for a

ranks.

given book.

• Di(cid:27)erent kinds of books should involve di(cid:27)erent soial networks. Take the example of the

book (cid:16)Divine Serets of the Ya-Ya Sisterhood(cid:17) by R. Wells. It beame a bestseller two

years after publiation, with no ma jor advertising ampaign [12℄. Following the reading

of this originally small budget book, (cid:16)Women began forming Ya-Ya Sisterhood groups of

their own [...℄. The word about Ya-Ya was spreading [...℄ from reading group to reading

group, from Ya-Ya group to Ya-Ya group(cid:17) [12℄. By looking at di(cid:27)erent lasses of books,

we would expet to highlight di(cid:27)erent network harateristis [10, 11℄.

• Amazon has the addresses of its ustomers. This an be used to study the geographial

26

spread of books.

Aknowledgements: The present analysis of Amazon sales ranks is unauthorized and

in no way sponsored by Amazon. We thank Y. Ageon and T. Gilbert for help and useful

disussions and M. Rosenthal for important information on the Amazon ranking system. We

also thank M. Rosenthal for his permission to reprodue (cid:28)gure 3.

27

Title

Author

Time

RankReason

Get with the Program

Bob Greene

3/16/2002 1st The

book was

seen

on

(cid:17)

(cid:17)

10/19/2002 1st

(cid:17)

(cid:17)

(cid:17)

1/4/2003

1st

(cid:17)

Get with the Program Daily

Bob Greene

10/19/2002 2nd The

book was

seen

on

Journal

the Oprah Winfrey Show

the Oprah Winfrey Show

(B.Greene

is O. Winter's

trainer).

(B.Greene

is O. Winter's

trainer).

Adios Muhahos

Daniel

7/5/2002

6th On 7/4/2002, the book was on

Chavarría

the (cid:28)rst page of the Art Se-

tion of the New York Times

Sared Contrats : Awakening

Caroline Myss 8/16/2002 1st ?

Your Divine Potential

Miawber's Museum of Art

John Lithgow 9/30/2002 3rd ?

Refrigerator Rights : Creat-

Dr.Will Miller 1/26/2003 12nd The author has appeared on

ing Connetions and Restor-

a variety of national television

ing Relationships

programs

Stars Wars : Episode II, At-

RA Salvatore

5/20/2002 13rd The movie was released on

tak of the Clones

5/16/2002.

Wolves of the Calla (The Dark

Stephen King

11/11/2003 3rd On 11/19, the 2003 Medal for

Tower, Book 5)

Distinguished Contribution to

TABLE III: List of the 10 peaks that have an exponent p more than 0.65 (see Fig.6). The last olumn

suggests a possible ause of the exogenous shok, as far as we have been able to tell.

Amerian Letters was on-

ferred upon Stephen King.

28

[1℄ Ruelle, D., Physis Today, 57(5), 48-53 (2004).

[2℄ Sornette, D., Endogenous versus exogenous origins of rises, in monograph on extreme events, V.

Jentsh editor (Springer, 2005) (http://arxiv.org/abs/physis/0412026 )

[3℄ Sornette, D., F. Deshâtres, T. Gilbert and Y. Ageon, Phys. Rev. Letts. 93 (22), 228701 (2004).

[4℄ Roehner, B.M., D. Sornette and J.V. Andersen, Int. J. Mod. Phys. C 15 (6), 809-834 (2004).

[5℄ D. Sornette, Critial Phenomena in Natural Sienes, Springer Series in Synergetis, 2nd ed

[6℄ Rosenthal, M., http://www.fonerbooks.om/sur(cid:28)ng.htm

[7℄ D. Sornette and A. Helmstetter, Physia A, 318, 577-591 (2003).

[8℄ Roehner, B. M. and D. Sornette, European Physial Journal B 16, 729-739 (2000).

[9℄ J. Brody, Push up the weights, and roll bak the years, The New York Times F 7 (June 4, 2002).

[10℄ D.J. Watts, Six Degree, Published by W.W. Norton & Company (February 2003)

[11℄ A.L. Barabàsi, Linked (Perseus, Cambridge, 2002).

[12℄ M.Gladwell, The tipping point : how little things an make a big di(cid:27)erene (Bak Bay Books,

(2004)

2002).

[13℄ Of ourse, we should mention searh engines suh as Google. To have a look at most popular

queries, look at http://www.google.om/press/zeitgeist.html .

[14℄ http://msdn.mirosoft.om/library/default.asp?url=/workshop/browser/webbrowser/webbrowser.asp

[15℄ In Otober

2004,

Amazon

ompletely

redesigned

its

ranking

system.

See

http://www.fonerbooks.om/sur(cid:28)ng.htm for details. Not only the meaning of the ranks

have hanged, due to the inlusion of e-books and Marketplae sales, but also the infrastruture

of the system has been modi(cid:28)ed: the three tiers are gone, all ranks are updated every yle,

whih runs around one an hour. It is thus no more possible to ompare the ranks before to

those after Otober 2004. It is important to realize that Amazon's ranking system may again

[16℄ We indeed found a strong spetral peak at period 1 day on the spetrum of the time series of

evolve on a moment's notie.

book ranks.

29

The sales are falling off 

The book doesn’t sell anymore. 

The final spot, extremely stable, is based
 on the total number of copies sold over
a long time scale.

long time scale ranking schemes  

24 hours time scale 
ranking schemes 

100

200

300

400

500

600

700

800

900

time (days)

Amazon swings between
two ranking schemes. 

5
10

4
10

3
10

2
10

1
10

k
n
a
R

0
10

0

5
10

k
n
a
R

4
10

3
10

0

100

200
300
time (days)

400

500

FIG. 1: Two time series of ranks showing that Amazon swithes between at least two ranking shemes,

as explained in the text. The (cid:28)rst book (top) is (cid:16)See No Evil(cid:17) by R. Baer. The seond book (bottom)

is (cid:16)F'd Companies(cid:17) by P. Kaplan.

30

sales/day
1000

100

10

1

0.1

1

10

100 1000
rank

104

105

106

FIG. 2: Rank ordering (Zipf ) plot of the sales S per day, as a funtion of rank R. For R in the range

from 10 to 10, 000, the sales as a funtion of rank an be (cid:28)tted with a good approximation by the

power law S(R) ∼ 1/R1/µ

with exponent µ = 2.0 ± 0.1, as shown by the straight line with slope −0.5.

This translates into R ∼ 1/Sµ

, whih is proportional to the omplementary umulative distribution of

sales. Note that the bend at large ranks (small sales) an be onsidered to be a (cid:28)nite size e(cid:27)et. The

tail of the distribution of sales for large sales is desribed by the low ranks for whih the distribution

does not appear to bend but atually exhibits huge (cid:29)utuations as shown in (cid:28)gure 3 borrowed from

[6℄.

31

FIG. 3: Rank ordering (Zipf plot) as in Fig. 2 presented in [6℄, extended to the smallest as well as

largest ranks. See these two extensions. Reprodued with kind permission from M. Rosenthal.

32

Example of an exogenous shock

50

100

150

200

250

300

350

400

Time (days)

Example of an endogenous shock 

3
10

2
10

1
10

)
y
a
d

i

/
s
e
p
o
c
(
 
s
e
a
S

l

0
10

0

2
10

i

)
y
a
d
/
s
e
p
o
c
(
 
s
e
a
S

l

1
10

0
10

0

50

100

150

250

300

350

400

200
Time (days)

FIG. 4: Time evolution over a year of the sales per day of two books : Book A (top) is (cid:16)Strong

Women Stay Young(cid:17) by Dr. M. Nelson and Book B (bottom) is (cid:16)Heaven and Earth (Three Sisters

Island Trilogy)(cid:17) by N.Roberts. The di(cid:27)erene in the patterns is striking, Book A (resp. B) exhibiting

an exogenous (resp. endogenous) peak.

33

14

13

12

11

σ

10

9

8

7

6
−3

−2

−1

0

1

2

3

t
c

  (days)
−t
0

FIG. 5: σ(tc) de(cid:28)ned in (19) as a funtion of tc .

34

1−2θ
         

1−θ 

6

5

4

3

2

1

l

)
0
3
=
a
t
o
t
(
 
s
k
a
e
p
 
f
o
 
r
e
b
m
u
N

0
0.2

0.6
Value of the power law exponent p for aftershocks

0.8

0.4

1

FIG. 6: Histogram of the estimated power law exponents p of the relaxations of the sales. One

an learly identify two lusters: the endogenous luster with exponent 1 − 2θ lose to 0.4 and the

exogenous luster with exponent 1 − θ lose to 0.7, ompatible with the estimation θ ≈ 0.3. The peaks

shown here are those used in Fig. 7 (see setion IV C).

35

)
y
r
a
r
t
i
b
r
a
(
 
y
a
D
/
s
e
a
S

l

0
10

−1

10

−2

10

−3

10

0
10

Exogenous (Aftershock), 1−θ=0.67
Endogenous (Aftershock), 1−2θ=0.43
Endogenous (Foreshock), 1−2θ=0.41

1
10
|t−t
c

| (days)

2
10

3
10

FIG. 7: Relaxation after the peak (for both endogenous and exogenous ases) and preursory ael-

eration (for the endogenous ase). We average (log average) over the peaks lassi(cid:28)ed as endogenous

and exogenous aording to their preursory growth. The same sample of books was used for both

Fig.6 and Fig.7.

36

100

200

500

600

700

300
400
Time (days)

FIG. 8: Time evolution of the book (cid:16)Get with the Program(cid:17) (see Table III)". Eah time the book

is presented in Oprah Winfrey Show, the sales jumps overnight and then relaxes aording to the

exogenous response funtion κ(t) ∼ 1/t1

θ

.

−

l

s
e
a
S

3
10

2
10

1
10

0
10
0

37

6
10

5
10

4
10

3
10

2
10

1
10

0
10

)
y
r
a
r
t
i
b
r
a
(
 
s
e
a
S

l

−1

10

−2

10

−10

Calla.(cid:17)

Get with...
Get with...
Get with...
Daily Journal
Adios muchachos
Sacred Contracts
Micawber...
Refrigerator...
Stars Wars
Wolves...
 
 

60

70

0

10

20

30
Time (days)

40

50

FIG. 9: Time evolution of the sales of the 10 books of Table III. For eah time series, t = 0 is the

time of the peak. The sales jumped just before the peak exept for (cid:16)Stars Wars(cid:17) and (cid:16)Wolves of the

38

Wolves of the Calla
Star Wars

1−θ 

3
10

2
10

1
10

)
y
r
a
r
t
i
b
r
a
(
 
s
e
a
S

l

0
10

0
10

1
10

2
10

Time (days)

3
10

FIG. 10: Relaxation of the sales after the peak for (cid:16)Star Wars(cid:17) and (cid:16)Wolves of the Calla.(cid:17) The

expeted power law behavior for exogenous shoks an only be observed for t > 10 − 20 days. The

small value of the slope for t < 10 − 20 days an be explained by onsidering the time duration of the

external shok triggered by the media as explained in the text.

39

1−2θ 

)
8
8
3
=
a
o

t

l

t
(
 
s
k
a
e
p

 
f

o

 
r
e
b
m
u
N

60

50

40

30

20

10

0
0

1−θ 

0.2

0.4

0.6

0.8

1

Value of the power law exponent p for aftershocks

FIG. 11: Histogram of the estimates of the power law exponents p of the relaxations of the sales using

a seletion riterion di(cid:27)erent from that of Fig.6: among the 1,013 peaks of our pre-(cid:28)ltered database,

we kept those whih have a orrelation oe(cid:30)ient larger than 0.9, giving 388 peaks.

40

0
10

)
y
r
a
r
t
i

b
r
a
(
 
y
a
D
/
s
e
a
S

l

−1

10

−2

10

Exogenous (Aftershock), 1−θ=0.54
Endogenous (Aftershock), 1−2θ=0.4

−3

10

0
10

| (days)
|t−t
c

1
10

2
10

FIG. 12: Relaxation of sales after the peak following the same methodology as for Fig.7 but with the

same set as in Fig. 11 with the lustering proedure explained in the text.

41

600

400

200

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 

0

−200

 

>
R
∆
<
 
k
n
a
r
 
f
o
 
n
o
i
t
a
i
r
a
v
 
e
g
a
r
e
v
A

−400
0
10

Artifacts 

2
10

Rank R

4
10

6
10

FIG. 13: Average variation h∆Ri of the rank in funtion of the rank itself. This measure was performed

over a sample of 14000 books. One an note spurious behaviors for ranks lose to 104

and 105

. This

an be rationalized by a shift in ranking shemes for these value (see setion II B 1). The data an only

be exploited for R < 104

behavior of h∆Ri for R < 104

to avoid these artifats. The most striking feature is the non-monotonous

. This enables us to rejet an exponential onversion (see setion V B 2).

42

3
10

2
10

1
10

>
R
∆
<

0
10

−1

10

−2

10

−3

10

0
10

Experimental data
Fit assuming S(R) to be a power law
Fit assuming S(R) to be ~exp(C/R0.5)

3
10

4
10

1
10

2
10

Rank R
      

FIG. 14: Average variation of the rank h∆Ri as a funtion of the rank itself. We only take into aount

those time series that do not exhibit abrupt peaks (i.e., we disard exogenous shoks).

plus : experimental data, solid line : (cid:28)t assuming S(R) to be a power law, dashed line : (cid:28)t

assuming S(R) to be S(R) ∝ exp( C
√R

)

43

4
10

3
10

2
10

1
10

S
 
s
e
a
S

l

0
10

0
10

1
10

2
10

Rank R

3
10

4
10

FIG. 15: Rank-to-Sales onversion funtion S(R) estimated using expression (36) for arbitrary values

of α, hSi, Smax . Consequently, the units on the y-axis are arbitrary.

44

5
10

k
n
a
R

4
10

Amazon swing between 
two  ranking schemes

3
10

0

50

100

150

200

300

350

400

450

500

250
time (days)

