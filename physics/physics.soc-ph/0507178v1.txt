5
0
0
2
 
l
u
J
 
5
2
 
 
]
h
p
-
c
o
s
.
s
c
i
s
y
h
p
[
 
 
1
v
8
7
1
7
0
5
0
/
s
c
i
s
y
h
p
:
v
i
X
r
a

Analytical investigation of oscillations in intersecting ﬂows of pedestrian and vehicle
traﬃc

Dirk Helbing, Rui Jiang, and Martin Treiber
Dresden University of Technology, Andreas-Schubert-Str. 23, 01062 Dresden, Germany

In two intersecting many-particle streams, one can often ﬁnd the emergence of oscillatory pat-
terns. Here, we investigate the interaction of pedestrians with vehicles, when they try to cross a
road. A numerical study of this coupled pedestrian-vehicle delay problem has been presented in a
previous paper. Here, we focus on the analytical treatment of the problem, which requires to use a
simpliﬁed car-following model. Our analytical results for the phase transition to oscillatory pedes-
trian and traﬃc ﬂows and the average waiting times are well supported by numerical evaluations
and give a detailed picture of the collective dynamics emerging when pedestrians try to cross a road.
The mathematical expressions allow one to identify the dependence on model parameters such as
the vehicle or pedestrian arrival rate, and the safety factor of pedestrian gap acceptance. We also
calculate a formula for the vehicle time gap distribution, which corresponds to the departure time
distribution of a M/D/1 queue.

PACS numbers: 89.40.+k,47.54.+r,47.55.-t, 02.50.-r

I.

INTRODUCTION

Pattern formation is a wide-spread feature of driven
many-particle systems. In particular, oscillatory patterns
are found in ﬂuids, granular materials, colloidal systems,
and traﬃc ﬂows. One typical example are stop-and-go
waves in traﬃc ﬂows on freeways caused by a delayed
adaptation to changing traﬃc conditions [1, 2, 3, 4, 5].
Emergent oscillations have been discovered in so diﬀerent
systems as the density oscillator [6], ticking hour glass [7],
RNA Polymerase traﬃc on DNA [8], pedestrians passing
a bottleneck [9, 10], or ants [11]. Oscillatory patterns have
also been found in two intersecting pedestrians streams
[12] or simulations of colloidal systems [13].

Although the subject is rather old [14, 15, 16], the
crossing of vehicle streams by pedestrians has recently
attracted an increasing interest, also among physicists
[17, 18, 19, 20, 21]. However, the problem of interactions
between vehicles and pedestrians, when pedestrians are
trying to cross a road, has not yet been suﬃciently un-
derstood. The mathematical investigation of this problem
will be the subject of this paper. Numerical studies have
shown a transition from crossing the road one by one
or in small groups to coupled oscillations of pedestrian
and vehicle ﬂows, if pedestrians use small gaps to cross
the road [21]. In the following, the dynamics of this phe-
nomenon and the parameter-dependence of the transition
point will be investigated analytically.

Our paper is organized as follows: Section II formu-
lates the model for the pedestrian and vehicle behavior
and their interactions. Moreover, we calculate a formula
for an idealized vehicle time gap distribution. In Sec. III,
we will derive analytical results on the dynamic behavior
of interacting pedestrian and vehicle ﬂows. Moreover, we
will compare these results with numerical evaluations of
computer simulations of the underlying model. Our ana-
lytical formulas for the transition point and the waiting
times of pedestrians and cars are well compatible with

numerically determined data. Finally, we will summarize
and discuss our results in Sec. IV, which are relevant for
many systems with intersecting ﬂows or competing pro-
cesses.

II. FORMULATION OF THE MODEL

A. Vehicle Behavior

In our simpliﬁed model of vehicle dynamics, cars are
treated as moving objects of length l0. We assume a con-
stant arrival ﬂow Qarr of vehicles and that new cars try
to enter the investigated road section with a probability
q = Qarr dt per time step dt. This implies an exponen-
tial time gap distribution, which is modiﬁed by vehicle-
vehicle interactions (see Sec. II B). In fact, a vehicle with
the speed v following a leading vehicle with speed v∗ is
assumed to decelerate with dv/dt = −a, if v > 0 and

∆x < l0 + d0 +

−

v2
2a

2

v∗
2a

,

(1)

where ∆x denotes the distance between the two vehi-
cles, l0 the vehicle length and d0 the preferred minimum
bumper-to-bumper distance among cars. This condition
guarantees accident-free driving [22]. For a “>”-sign in
Eq. (1), the vehicle accelerates with dv/dt = a, delayed
by the reaction time T , until the maximum (free) speed
v0 is reached. For an “=”-sign in Eq. (1), the veloc-
ity is not changed, i.e. dv/dt = 0. The above contin-
uous car-following model may be called the constant-
deceleration-delayed-acceleration model (CDDA model)
and has some similarities with the slow-to-start cellular
automaton model [23].

We assume that pedestrians enter the street at the
crossing point O, when they consider it safe (see
Sec. II C). Moreover, crossing the road takes a time pe-
riod τ . In order to avoid accidents with pedestrians, vehi-

cles decelerate with dv/dt = −a if necessary. We consider
two diﬀerent deceleration rules:

a) Careful drivers: The closest car to a pedestrian
on the street decelerates, if the distance d(t) =
−x(t) to the crossing point O is within the range

0 ≤ d(t) ≤ d0 +

(2)

v2
2a

where d0 is the safety distance that a car should
keep from a crossing pedestrian. We assumed this
safety distance to be identical to the minimum
bumper-to-bumper distance among vehicles ap-
pearing in (1).

b) Aggressive drivers: The closest car starts to de-
celerate at the time t0 determined so that the dis-
tance to the pedestrian corresponds to the safety
distance d(tn + τ ) = d0 at the time tn + τ when the
last (the n-th) pedestrian on the street (entering at
time tn) leaves the road after the crossing time τ .

After the last pedestrian has left the street, i.e. at time
tn + τ , the car accelerates with dv/dt = a, until it has
reached its desired velocity v0 again. The characteris-
tic distance between stopped vehicles in a queue is the
vehicle length l0 plus the minimum bumper-to-bumper
distance d0, which deﬁnes the jam density

ρjam :=

1
l0 + d0

.

In the following, we will assume that a car starts to ac-
celerate after its leader delayed by the reaction time T .
This implies that the following car has reached the posi-
tion of the leading car in the queue after a time period
T +
2(d0 + l0)/a and that the distance to the leading
car is l0 +d0 +T v0, when the following car has reached its
maximum velocity v0. Therefore, the outﬂow from a traf-
2(d0 + l0)/a)−1 and
ﬁc jam starts with a value of (T +
eventually reaches the characteristic (maximum) value

p

while the traﬃc jam (queue) resolves upstream with the
characteristic speed

p

−1

,

l0 + d0

v0 (cid:19)

Qout :=

T +

(cid:18)

c :=

l0 + d0
T

=

1
ρjamT

due to the distance l0 + d0 between queued cars and
the delay T in acceleration. Moreover, when a vehicle
is stopped at point x(t) = −d0, the forming traﬃc jam
behind it propagates upstream with the velocity [24]

C :=

ρjam
Qarr

−

1
v0 (cid:19)

−1

,

(cid:18)
which depends on the vehicle arrival rate Qarr.

(3)

(4)

(5)

(6)

2

The proposed simple car-following model essentially
reﬂects the features of the section-based, ﬂuid-dynamic
traﬃc ﬂow model proposed in Ref. [24], with the only
diﬀerence that the acceleration and braking processes re-
quire time periods of T + v0/a and T /v0, respectively.
Apart from scaling time and space variables in order to
get rid of two more model parameters, it is hard to think
of any further simpliﬁcation of the above vehicle model
without sacriﬁcing fundamental properties of traﬃc ﬂows
such as the constant outﬂow from traﬃc jams and the
characteristic jam resolution speed [25]. Nevertheless, it
may be interesting to study the limit a → ∞ of unlim-
ited acceleration possibilities, which eliminates accelera-
tion and deceleration times. More realistic variants of the
above car-following model, however, should distinguish
diﬀerent acceleration and deceleration strengths a and b,
which have been set equal here for the sake of simplicity.
A stochastic variant of this model describing a ﬂuctu-
ating acceleration behavior would be also interesting to
study.

B.

Idealized Vehicle Distance Distribution

In our vehicle simulations, we have generated vehicles
with initial velocity v = 0 at the upstream boundary of
the simulation stretch according to the exponential time
′
gap distribution Qarre−Qarr T
, where T ′ denotes the ac-
tual time gap. However, according to our car-following
model, vehicles had gained at least their preferred dis-
tance D = l0 + d0 + v0T , when they reached the maxi-
mum speed v0. According to theoretical considerations,
this changed the eﬀective time-gap distribution at the
crossing point to

P (T ′) = QarrT0 δ(T ′ − T0)

+ (1 − QarrT0)Qarre−Qarr(T

′−T0)Θ(T ′ − T0)

(7)

with T0 = D/v0 (see Appendix), when no vehicles at the
entry point were dropped. That is, a fraction QarrT0 of
vehicles will follow with the desired time gap T0, while
the rest has an exponentially distributed, larger time gap
T ′ > T0. δ(y) denotes Dirac’s delta function, while the
Heaviside function Θ(y) is 1 for y ≥ 0 and 0 otherwise.

Our exponentially distributed vehicle generation mech-
anism sometimes causes a virtual queue of vehicles at the
upstream boundary, which can be avoided by generating
vehicles according to the resulting time gap distribution
(7). In fact, our implementation of the boundary condi-
tions corresponds to a M/D/1 queuing system [26, 27],
i.e. to a queue with Poissonian distributed Markovian
arrivals (where the time gaps between successive arrivals
are exponentially distributed), while the service rate 1/T0
is assumed to be deterministic. (The “1” stands for one
“channel”, i.e. no parallel service.)

Now, let P0 be the probability that no vehicle is wait-
ing in the queue to be served, i.e. to enter the road. The
probability of releasing the next vehicle with a time gap

T ′ = T0 is then given by the probability (1 − P0) of
having queued vehicles waiting to enter, plus the prob-
ability P0(1 − e−QarrT0 ) that we have the no-queue case
and a vehicle arrives during the service time T0. In cases
with no queue where the time gap T ′ of the next arriving
vehicle is greater than T0, we have an exponential time
/e−QarrT0 , where e−QarrT0 is
gap distribution Qarr e−QarrT
the normalization factor of the conditional probability of
ﬁnding time gaps larger than T0. Altogether, we obtain
the time gap distribution

′

P (T ′) = [(1 − P0) + P0(1 − e−QarrT0 )] δ(T ′ − T0)

+ P0Qarr e−QarrT

Θ(T ′ − T0) .

′

(8)

Demanding

1
Qarr

=

∞

Z0

dT ′T ′P (T ′) = T0 +

e−QarrT0 ,

(9)

P0
Qarr

i.e. that the vehicle ﬂow Qarr and, therefore, the average
time gap remains unchanged, we ﬁnd

P0 = (1 − QarrT0) eQarrT0 .

(10)

This implies the idealized vehicle time gap distribution
(7), which will be necessary to evaluate the expected
waiting time of pedestrians for a suitable time gap to
cross the road (see Appendix).

C. Pedestrian Behavior

We will assume that pedestrians enter the sidewalk of
the street at the crossing point O with probability p =
λ dt per time step dt, i.e. λ denotes the arrival rate of
pedestrians. If there is no suﬃcient gap in the vehicle
stream to cross, they accumulate around point O, but
they start immediately to enter the road at time t, if
v(t) = 0 (i.e. if the vehicle velocity is zero) or if

d(t) > d0

and ∆t(t) :=

≥ στ

(11)

d(t)
v(t)

(i.e. if the distance d(t) is larger than the preferred safety
distance d0 and the time gap ∆t is large enough to cross
the road). Here, ∆t is the time to collision of the nearest
approaching vehicle and σ a safety factor of pedestrians.
τ is the time period required for a pedestrian to cross
(one lane of) the road. We may distinguish two limiting
cases of gap selection, i.e. interactions with approaching
vehicles:

1) Careful pedestrians assume that cars may not
decelerate and approach with their desired velocity
v0. They cross the road only, if the car at no time
comes closer than the preferred safety distance d0,
which implies the following choice of the safety fac-
tor:

3

2) Daring pedestrians enter the road, if a car with
velocity v0 would not come closer than the preferred
safety distance d0, if it decelerated with dv/dt =
−a in order to avoid an accident. This implies the
reduced safety factor

σ = σ2 := 1 +

d0
v0τ

−

aτ
2v0

= σ1 −

aτ
2v0

.

(13)

In this case, a single pedestrian can force a car to
stop, namely when entering at a vehicle distance
d(t) = d0 + v0

2/(2a).

Realistic values of the safety factor σ are expected to be
above σ2.

For the following analysis, we will identify the time
point t = 0 with the time when the ﬁrst pedestrian(s),
who cause(s) a vehicle to decelerate, enter(s) the road.
The entering time of the next entering pedestrian is de-
noted by t1, the entering time of the kth following pedes-
trian by tk, and the entering time of the last (nth) fol-
lowing pedestrian before the car passes point O by tn.

D. Simulated Dynamic Behavior of Interacting
Vehicle and Pedestrian Flows

Simulations of vehicles interacting with pedestrians
crossing a street have recently shown an interesting phe-
nomenon: While for large enough values of the safety
factor σ, pedestrians cross the road one by one or in
small groups, one ﬁnds alternating pedestrian and ve-
hicle streams if the safety factor is smaller than some
critical value σ0. This value can be exactly calculated for
the above model (see Eq. (33)), which shows qualitatively
the same dynamic behavior like the variant of the IDM
model studied in a previous publication [21]. Representa-
tive simulation results for the above proposed pedestrian
and vehicle model are displayed in Fig. 1. The parame-
ter values used in this paper are a = 1 m/s2, τ = 2 s,
T = 0.9 s, l0 = 4 m, d0 = 2 m, and v0 = 15 m/s, and our
numerical investigation focusses on careful drivers.

The reason for the observed oscillations is that pedes-
trians can force vehicles to stop, if they choose small time
gaps ∆t. However, if vehicles are stopped, they have to
wait until there is a gap of period τ or larger in the
pedestrian stream, before they can accelerate again. Dur-
ing this waiting time, a vehicle queue is formed, which
can become very long, dependent on the vehicle arrival
rate. Pedestrians cannot cross the road again, before this
queue is completely dissolved, at least if

στ >

d0 + T v0
v0

= T +

d0
v0

,

(14)

σ = σ1 := 1 +

d0
v0τ

.

(12)

i.e. if the time gap between successive vehicles having left
the queue is too short for pedestrians to enter the street,

 

(a)

O

and if

400

300

200

100

400

300

200

100

)
s
(
 
t
 

e
m

i
t

)
s
(
 
t
 

e
m

i
t

200

300

400

500

location x (m)

 

(b)

O

 

 

4

l0 + 2d0 − a
2

2(l0+d0)
a

− T

2

στ >

(cid:19)

,

(15)

(cid:18)q
2(l0+d0)
a

a

(cid:18)q

− T

(cid:19)

i.e. if the time gap with respect to the second car in the
queue at the time
2(l0 + d0)/a > T (when the back of
the ﬁrst vehicle has passed the crossing point O) is not
large enough for pedestrians to enter the street.

p

In summary, we may have alternating time periods in
which pedestrians can cross the road and time periods in
which cars can pass point O. In the following sections,
based on statistical approaches, we will try to estimate
the time period until a suﬃciently large gap in the ve-
hicle ﬂow occurs to allow pedestrians a crossing of the
road. Likewise, we will calculate the time period until
queued vehicles ﬁnd a large enough gap between cross-
ing pedestrians, allowing them to accelerate again. An-
alytical results can be only gained for simple models as
the one proposed above. Nevertheless, we expect quali-
tatively similar relationships for a broad class of other
traﬃc models.

III. ANALYTICAL RESULTS AND
COMPARISON WITH COMPUTER
SIMULATIONS

A. Dynamics of Vehicles Reacting to Pedestrians

Let t0 be the time point when the car starts to de-
celerate as response to a crossing pedestrian. According
to Secs. II A and II C, we ﬁnd that the time to collision
evolves in time according to

∆t(t) =

d(t)
v(t)

=

d(0) − v0t
v0

=

d(0)
v0

− t

if

t < t0 . (16)

For careful drivers, i.e. case a), the start time of deceler-
ation can be determined as

t0 =

d(0) − d0
v0

−

v0
2a

.

(17)

∆t(t) =

d0 + v0

2/(2a) − v0(t − t0) + a(t − t0)2/2

=

v0
2a

−

t − t0
2

v0 − a(t − t0)
d0
v0 − a(t − t0)

+

if t ≥ t0

(18)

(see Fig. 2) and the vehicle velocity

v(t0 + τ ) = v0 − a(τ − t0) =

− aτ + a

v0
2

d(0) − d0
v0

(19)

after the pedestrian has crossed the road. If the vehi-
cle velocity at the beginning of the braking maneuver

200

300

400

500

location x (m)

This yields the time to collision

FIG. 1: (a) Representative space-over-time plot of vehicle tra-
jectories for careful drivers and the pedestrian safety factor
σ = 1.05. Pedestrians may stop cars, which causes vehicle
queues. These suppress the crossing of newly arriving pedes-
trians until the vehicle queue has completely dissolved. (b)
Representative space-over-time plot of vehicle trajectories for
the larger safety factor σ = 1.25, for which pedestrians use
large gaps only. As a consequence, pedestrians do not stop
cars completely when they cross the street, and no vehicle
queues are formed.

 

free velocity v0 can be calculated as the distance 2(v0 −
vmin)2/(2a) travelled less, divided by the desired velocity
v0, which results in

)
s
(
 

p
a
g

 

e
m

i
t

14

12

10

8

6

4

2

0

 

0

2

4

6

8

10

12

14

time t (s)

FIG. 2: Time-dependent time to collision ∆t(t) = d(t)/v(t)
for careful drivers [see Eq. (18)], when pedestrians would en-
ter the road with probability p = 1 and σ = 1.05 (symbols
= numerically determined values, solid line = analytical for-
mulas). Due to the braking maneuver, the time to collision
goes down in the beginning, but it grows again later on, as
the vehicle comes to rest at the ﬁnite distance d(t) = d0 to
the pedestrian.

is v(t0) < v0, one just has to replace v0 by v(t0). For
aggressive drivers, i.e. case b), we ﬁnd

t0 = τ −

r

2v0τ
a

− 2

d(0) − d0
a

,

(20)

∆t(t) =

d(t0) − v0(t − t0) + a(t − t0)2/2
v0 − a(t − t0)

=

v0
2a

−

t − t0
2

+

d(t0) − v0

2/(2a)

v0 − a(t − t0)

if t ≥ t0, (21)

and

v(t0 + τ ) = v0 − a(τ − t0)

= v0 −

2av0τ − 2a[d(0) − d0] .

(22)

p

That is, the greater the initial distance, the later will the
vehicle start to decelerate and the larger will the resulting
velocity be. Note that, according to the gap acceptance
rules of pedestrians outlined in Sec. II C, the shortest
distance to a moving vehicle at which pedestrians enter
the road, is given by στ v.

5

(23)

∆tbr =

(v0 − vmin)2
av0

.

If the vehicle is stopped, the time lost by the accelera-
tion and deceleration process amounts to v0/a. On top
of this, we have to add the average waiting time tw. This
can be obtained as follows: If ∆t1 denotes the waiting
time of the ﬁrst stopped vehicle, the number of vehicles
queuing up behind it until the ﬁrst car in the queue starts
to accelerate is given by ρjamC ∆t1. The delay of the last
vehicle in the queue is the queue length l = C ∆t1, di-
vided by the queue resolution speed c. As the waiting
time between the ﬁrst and the last vehicle in the queue
progresses approximately linearly, their cumulative wait-
ing time is given by

ρjamC ∆t1
2

∆t1 +

C ∆t1
c

=

ρjamC(∆t1)2
2

1 +

.

C
c

(cid:18)

(cid:19)

(cid:18)

(cid:19)
(24)
Moreover, upto the time point when the queue formed
within the stopping time ∆t1 has resolved, another
ρjamlC/(c − C) vehicles have joined the queue (cf. For-
mula (1.48) in Ref.
[24]). While the waiting time of
the ﬁrst of these additional vehicles is approximately
l/c = C ∆t1/c (as the one of the last vehicle in the ﬁrst
part of the queue), the waiting time of the last vehicle is
basically zero, which implies a cumulative waiting time
of

ρjamC ∆t1
2

C
c − C

C ∆t1
c

(cid:18)

+ 0

=

(cid:19)

ρjamC(∆t1)2
2

C2
c2 − cC
(25)

.

Adding this to (24) gives the cumulative waiting time

tc =

ρjam
2

(∆t1)2 cC
c − C

,

(26)

which grows quadratically in ∆t1 (see Fig. 3).

Finally, dividing this result by the total number
C ∆t1[1 + C/(c − C)] of vehicles yields a very simple
relationship for the average waiting time, which is just
given as the average waiting time of the ﬁrst and the last
queued vehicle:

tw =

∆t1
2

.

(27)

However, the estimation of the waiting time ∆t1 of the
ﬁrst stopped vehicle is rather diﬃcult (see Sec. III E).

B. Average Delay to Vehicles

Let us denote by vmin the minimum velocity before the
car accelerates again. If only one pedestrian obstructs
the car, we have vmin = v(τ ), as calculated above. The
time delay to the car compared to a movement with the

C. Determination of the Transition Point to
Alternating Flows

The long vehicle and pedestrian queues required for
pronounced oscillations in the pedestrian and vehicle

 

 Q

=0.2 pedestrian/s

arr

arr

 Q

=0.1 pedestrian/s

40

20

)
h
(
 

t

c

0

6

of vehicles by multiple crossing pedestrians, we have to
demand

t+ − t− = 2

(στ )2 −

> τ ,

(31)

2d0
a

r

which results in

 

2d0
aτ 2 +
Together with condition (30) we ﬁnd that a careful driver
cannot be stopped completely under the condition

(32)

σ >

1
4

r

.

0

200

400

600

800

1000

t

 (s)

1

FIG. 3: Average of the cumulative waiting times tc of vehicles
as a function of the time period ∆t1 the ﬁrst vehicle in the
queue has to wait, for diﬀerent values of the vehicle arrival rate
Qarr, see Eq. (6) (symbols = numerically determined values,
parabolic curves = analytical formula).

ﬂows can only occur,
if vehicles can be completely
stopped by pedestrians. This cannot happen, if the safety
factor σ of pedestrians is large enough. For small values of
σ, however, there exists a time point t−, after which the
safety criterion (11) prohibits a further entering of pedes-
trians into the road. This time point is given by the earlier
time fulﬁlling the critical safety condition ∆t(t∓) = στ .
Together with the expressions for the times to collision
in Sec. III A, this eventually implies

t∓ − t0 =

− στ ∓

(στ )2 −

(28)

v0
a

r

2d0
a

for careful drivers. t+ is the ﬁrst time point at which
pedestrians may re-enter the road again, as the time to
collision ∆t(t) increases close to the crossing point [see
formula (18)]. The car reaches its minimum possible ve-
locity a time period τ after t−, i.e. after the latest enter-
ing pedestrian has left the road at time t− + τ . With (28)
this implies

v(t− + τ ) = aτ (σ − 1) +

(aστ )2 − 2ad0

(29)

for careful drivers. For aggressive drivers, we have to re-
2/(2a). To exclude stopped vehicles,
place d0 by d(t0)− v0
on the one hand, this minimum velocity should be posi-
tive, i.e.

p

σ −

aτ 2 > d0 .

1
2

(cid:19)

(cid:18)

(30)

On the other hand, vehicles could also be stopped by new
pedestrians entering the road at a time t ≥ t+ that lies
before the time t− + τ at which the last pedestrian has
left the road. Therefore, in order to avoid the stopping

σ > σ0 = max

d0
aτ 2 +

1
2

,

2d0
aτ 2 +

1
4 !

r

 

(33)

At the value σ = σ0, we expect a transition from con-
tinuous pedestrian and vehicle ﬂows to alternating ﬂows
(see Fig. 4).

D. Calculation of Earlier Acceleration

Due to the statistical arrival of pedestrians with a rate
λ = p/dt, it is likely that the time point tn ≤ t− of the
last (nth) pedestrian entering the road is smaller than
the latest possible entering time t−. We are, therefore,
interested in calculating the mean value ht− − tni = t− −
htni of the time gap t− − tn, where n is an arbitrary
integer number. For this, let K = t−/dt be the number
of time steps between the ﬁrst entering pedestrian and
t−. As the probability that no pedestrian enters in a time
step is given by r = (1−p), (1−p)K is the probability that
nobody enters between t = 0 and t = t−, and p(1−p)K−k
the probability that the last pedestrian enters at time
t− − (K − k) dt = k dt. The expected value of t− − tn is

ht− − tni
dt

= K(1 − p)N + p

(K − k)(1 − p)K−k

= KrK + (1 − r)r

rK−k =

= (1 − p)

1 − (1 − p)K
p

r(1 − rK)
1 − r

(34)

(see Fig. 5). Therefore, if a vehicle is not stopped, instead
of at time t−+τ , on average it already starts to accelerate
at the earlier time

htni + τ = t− + τ − (1 − p) dt

1 − (1 − p)K
p

≈ t− + τ −

1 − e−λt−
λ

,

(35)

where the last step of this calculation is based on Eq. (37)
below. With this result, we can now estimate the ex-
pected value hvmini of the minimum vehicle velocity vmin
entering Eq. (23):
hvmini−v(t− +τ ) = a(t− −htni) = a(1−e−λt− )/λ . (36)

K

Xk=1
d
dr

K

Xk=1

0.06

0.07

0.08

0.09

d

/(v

)

0

0

2

4

6

8

 

0

2

 

0

v

/(a )

0

2

 

0

(a)

(b)

(c)

1.2

1.1

1.0

1.5

1.4

1.3

1.2

1.1

1.0

0.9

1.5

1.4

1.3

1.2

1.1

0.9

6

8

10

12

14

16

0.4

0.5

0.6

0.7

0.8

0.9

1.0

2

d

/(a

)

0

FIG. 4: Transition point σ0 to alternating vehicle and pedes-
trian ﬂows as a function of the dimensionless parameters
(a) x1 = d0/(v0τ ) obtained for d0 ∈ [1.6 m, 2.5 m], (b)
2
x2 = v0/(aτ ) obtained for a ∈ [0.5 m/s
], and (c)
2
x3 = d0/(aτ 2) obtained for a ∈ [0.5 m/s
] in com-
parison with the lower limit σ2 of reasonable safety factors
[see Eq. (13)] (symbols = numerically determined values, solid
lines = analytical formula). Note that the value of σ0 is con-
stant for x3 = x1x2 = d0/(aτ 2) = const.

, 1.2 m/s
2
, 1.2 m/s

2

 

 

 

 

7

 

1.0

0.8

0.6

0.4

0.2

)
s
(
n
o

i
t

l

a
r
e
e
c
c
a

 
r
e

i
l
r
a
e

 
f

o

 

n
a
p
s
 

e
m

i
t
 

e
g
a
r
e
v
a

FIG. 5: Average time span t−−htni between the latest possible
entering of the street by a pedestrian and the time point when
the last pedestrian actually enters the street as a function of
the scaled pedestrian arrival rate λτ , see Eq. (36) (symbols
= numerically determined values, solid line = analytical for-
mula).

The higher velocity compared to v(t− + τ ) given by
Eq. (29) originates from the earlier car acceleration, i.e.
the shorter deceleration time.

E. Estimation of the Waiting Time of the First
Vehicle

If a vehicle is stopped by crossing pedestrians after a
deceleration time v0/a, it will have to wait until a time
gap of duration τ in the pedestrian ﬂow occurs. A gap of
length τ = N dt or greater occurs with probability

= e−λ

}

{z

|
i.e. gap sizes are exponentially distributed, as expected.
Here, we have assumed ln(1 − p) ≈ −p, but the required
small values of p = λ dt can be reached by suﬃciently
small choice of the time steps dt. In fact, in the following
considerations, we will study the limit dt → 0. Therefore,
we have used the value dt = 0.001 s in our computer
simulations.

Now, let ki denote the size of the ith gap Ti = ti −
ti−1 (i.e. the number of time steps dt with no pedestrian
arrival). Then, the expected value for the time period
until a time gap of length τ = N dt or greater starts is

1.0

2

(1 − p)N = (1 − p)τ /dt = [(1 − p)1/dt

]τ = e−λτ ,

(37)

given by

∞

N

N

· · ·

(k1 + 1 + · · · + kn + 1)

n=0
X

Xk1=0

Xkn=0

×(1 − p)k1 p · · · · · (1 − p)kn p · (1 − p)N

≈

λn

dT1 . . .

dTn

∞

τ

n=0
X

Z0

τ

Z0

×(T1 + · · · + Tn)e−λ(T1+···+Tn)e−λτ

= −e−λτ

= −e−λτ

= −e−λτ

λn d
dλ

λn d
dλ

∞

n=0
X
∞

n=0
X
∞

n

τ

Z0

i=1 (cid:18)
Y
1
λn

(cid:20)

(cid:0)
1 − e−λτ

n

n

dTi e−λTi

(cid:19)

1 − e−λτ

n

(cid:21)
(cid:1)
τ e−λτ
1 − e−λτ −

1
λ

(cid:19)

n=0
X
(cid:0)
τ e−λτ
1 − e−λτ

1
λ

−

(cid:1)
e−λτ s

(cid:18)
d
ds

∞

(cid:19)

[ eλτ − (1 + λτ )] ≈

n=0
X
+ . . .

λτ 2
2

=

=

(cid:18)
1
λ

That means, the average waiting time for a gap of size
τ or larger starts to grow linearly with the pedestrian
arrival rate λ = p/dt and quadratically with τ as long as
these values are small, but it grows exponentially with
λτ , when this value is large.

Note, however, that the waiting time is reduced by the
gap between the time M dt := v0/a when the vehicle is
stopped and the time tn ≤ t− at which the last pedestrian
has entered the street before. Analogously to Sec. III D,
we can calculate the expected value of this time gap as

hv0/a − tni = (1 − p)

1 − (1 − p)M
p/dt

=

1 − e−λv0/a
λ

, (39)

since we have (1 − p) → 1 in the limit dt → 0. As a
consequence, the expected value h∆t1i of the time period
∆t1 the ﬁrst vehicle in the queue has to wait can be
estimated as

h∆t1i =

[ eλτ − (1 + λτ )] −

=

eλτ + e−λv0/a − 2 − λτ

(40)

1 − e−λv0/a
λ

(cid:17)

1
λ
1
λ

(cid:16)

(see Fig. 6).

F. Average Delay to Pedestrians

 

8

 

1000

)
s
(
 
>

t

<

1

800

600

400

200

0

4

5

6

7

8

sn with s = 1 − e−λτ

FIG. 6: Average waiting time h∆t1i of the ﬁrst vehicle in
the queue as a function of the scaled pedestrian arrival rate
λτ (symbols = numerically determined values, solid line =
analytical formula).

(38)

time period v0/a required to stop the vehicle is usable
as well. When the vehicle has started to move again, no
pedestrian will be able to cross the road until the last
vehicle of the queue has passed point O (at least if στ >
T ). This time period can be calculated as [24]

(41)

(42)

∆t2 = C ∆t1

1 + c/v0
c − C

.

The expected value of ∆t2 is

h∆t2i = C h∆t1i

1 + c/v0
c − C

+

2d0
a

r

(see Fig. 7), where we have also taken into account the
additional amount
2d0/a required by a vehicle to get
from x = −d0 to point O.

After the last vehicle in the queue has passed, pedes-
trians have a chance to ﬁnd a suitable gap of size στ or
larger. A lower bound of the expected waiting time h∆t3i
for the occurence of such a gap is calculated in the Ap-
pendix. In Fig. 8, we compare the resulting expression

p

hT ′

>i =

1
Qarr (cid:20)

eQarr(T∗−T0)
1 − QarrT0

− (1 + Qarr T∗)
(cid:21)

(43)

corresponding to Eq. (A7) with numerical results, where
T0 = 1/Qout = T +(l0+d0)/v0 and T∗ = στ +(l0+d0)/v0.
This formula gives the expected waiting time h∆t3i pro-
vided that the pedestrian arrives exactly at the time,
when the last vehicle in the queue passes the crossing
point. Otherwise, it is an approximation, which neglects

After a time interval ∆t1, i.e. a time period τ after the
last pedestrian has entered the road, the ﬁrst vehicle in
the queue can accelerate again. The time period available
to pedestrians for crossing the road is ∆t1 + v0/a, as the

1. the eﬀect that pedestrians tend to arrive at the
sidewalk between two vehicles (so that there is an
incomplete intervehicle time gap, which must be
added),

0

200

400

600

800

1000

< t

> (s)

1

IV. SUMMARY AND DISCUSSION

FIG. 7: Average time h∆t2i needed to dissolve a vehicle queue
as a function of the average time h∆t1i for which the ﬁrst ve-
hicle has been waiting, for various values of the vehicle arrival
rate Qarr, see formula (6) (symbols = numerically determined
values, straight lines = analytical results).

 Q

=0.2 pedestrian/s

arr

arr

 Q

=0.1 pedestrian/s

 

 

400

300

200

100

)
s
(
 
>

t

<

2

0

)
s
(
 
>

t

<

3

1.0

2.0

1.5

0.5

0.0

0.1

0.2

0.3

0.4

0.5

Q

 

arr

FIG. 8: Average waiting time h∆t3i until a pedestrian enters
the road after a vehicle queue has completely dissolved, as
a function of the scaled vehicle arrival rate Qarrτ for σ =
1.05. Our numerical simulation assumes the special case that
a pedestrian arrives just at time t = t0 when the last vehicle
of the queue passes the crossing point. The average time delay
to this pedestrian is represented by triangles and compared
to the analytical results of formula (43) (solid line).

2. the gaps of vehicles approaching the last, already
accelerating vehicle in a queue may be smaller than
T0.

These two eﬀects increase the waiting time, i.e. h∆T ′
h∆t3i.

>i ≤

During the waiting time (∆t2 + ∆t3) of pedestrians,
the expected number of arriving pedestrians is λ (∆t2 +

 

 

9

∆t3). According to our model, all of these pedestrians
will use the next occuring gap of size στ or larger to
cross the street. We can assume that the waiting time of
the last crossing pedestrian is approximately zero, while
it is approximately (∆t2 + ∆t3) for the ﬁrst one (when
the pedestrian arrival rate is high enough). Therefore, the
average delay can be approximated as (∆t2 +∆t3)/2, and
the cumulative delay of all waiting pedestrians amounts
to

λ(∆t2 + ∆t3)2
2

.

(44)

In this paper, we have proposed the continous-in-space
constant-deceleration-delayed-acceleration car-following
model (CDDA model), in order to allow for the analyt-
ical calculation of the interactions between vehicles and
crossing pedestrians under conditions of statistically dis-
tributed arrival times. Although the model is not made to
reproduce all currently known properties of traﬃc ﬂows,
it does reﬂect some essential features such as accident-
free driving, a constant outﬂow from traﬃc jams and a
characteristic queue resolution speed.

We have distinguished two interaction modes between
pedestrians and vehicles: (i) When pedestrians prefer
large safety factors σ > σ0, vehicles are not stopped, and
pedestrians cross between moving vehicles either one by
one or in small groups. (ii) When pedestrians keep small
safety factors σ < σ0, they may stop vehicles, which
usually causes vehicle queues. Once a large enough gap
between successive pedestrian arrivals occurs, cars will
move again and prevent the crossing of pedestrians, un-
til the last vehicle in the queue has passed the crossing
point. This oscillatory dynamics with alternating ﬂows of
cars and pedestrians tends to be ineﬃcient and related
with long waiting times [21].

In this contribution, we have calculated the threshold
σ0 between the oscillating and non-oscillating regime. It
turned out to be a function of d0/(aτ 2) only, i.e. indepen-
dent of the pedestrian or vehicle arrival rates λ and Qarr,
the vehicle length l0, the free vehicle velocity v0 or the
preferred time gap T , while the car deceleration a, the de-
sired minimum distance d0 and the crossing time τ mat-
ter. We have also calculated the expected waiting times of
pedestrians and vehicles as a function of the arrival rates.
The diﬃcult step in gaining these results was the calcu-
lation of the ﬁrst overcritical time gap and its expected
value. This also required the determination of the vehi-
cle gap distribution for deterministic, i.e. non-ﬂuctuating
vehicle interactions, while variations in the arrival times
were taken into account [see Eq. (7)]. The formulas for
the waiting time distributions can serve to judge under
which conditions pedestrian and vehicle streams should
be controlled (terminated) by traﬃc lights and when a
self-organized crossing of streets is more eﬃcient. Beyond
this, our approach is generally expected to be useful for

a better understanding of intersecting ﬂows and certain
conﬂicting processes. For example, a similar gap accep-
tance problem is found in lane-changing maneuvers, so
that our formulas may help to calculate analytical for-
mulas for lane-changing rates.

Regarding the choice of the behavior and parame-
ters of cars drivers (careful or aggressive) and pedes-
trians (careful or daring), one may assume an evolu-
tionary perspective: Due to a learning process during
many vehicle-pedestrian interactions, an optimal behav-
ior should emerge on the long run. It is, however, not
yet clear whether there exists a state which is optimal
for both, drivers and pedestrians. If not, one may con-
sider the pedestrian-vehicle interactions as an example
for a social dilemma [28], and the outcome may depend
on details of the interactions. For example, if pedestrians
would tend to use safety factors σ < σ0, car drivers may
react to this by an aggressive approaching behavior. This
would make it diﬃcult for pedestrians to stop vehicles.
However, cars could still be successfully stopped, if pedes-
trians learned to enter a road exactly with a time gap of

10

σ2τ . In conclusion, there are always strategies to pro-
duce or avoid alternating pedestrian and vehicle ﬂows,
but the outcome depends always on the parameters of
both, pedestrian and driver behavior. The determination
of the optimal behavioral parameters and the evaluation
of interactive parameter adaptations of pedestrians and
vehicles will be left for a future study.

Acknowledgements

The authors thank for partial ﬁnancial support by
the Chinese National Natural Science Foundation (Grant
No. 10404025 and 10272101), the Alexander von Hum-
boldt Foundation, and the German Research Founda-
tion (DFG project He2789/7-1). D.H. is also grateful for
inspiring discussions with Moez Draief during the EU
EXYSTENCE Thematic Institute on “Information and
Material Flows in Complex Networks” at Goldrain Cas-
tle, Italy.

[1] D. Chowdhury, L. Santen, and A. Schadschneider, Phys.

[20] R. Jiang, Q. S. Wu and X. B. Li, Phys. Rev. E 65, 036120

[6] O. Steinbock, A. Lange, and I. Rehberg, Phys. Rev. Lett.

[23] R. Barlovic, L. Santen, A. Schadschneider, and M.

Rep. 329, 199 (2000).

[2] D. Helbing, Rev. Mod. Phys. 73, 1067 (2001).
[3] T. Nagatani, Rep. Prog. Phys. 65, 1331 (2002).
[4] M. Schreckenberg and S. D. Sharma (eds.) Pedestrian
and Evacuation Dynamics (Springer, Berlin, 2002).
[5] B. S. Kerner, The Physics of Traﬃc (Springer, Berlin,

2004).

81, 798 (1998).

[7] X-l. Wu and K. J. M˚aloy, A. Hansen, M. Ammi, and D.
Bideau, Phys. Rev. Lett. 71, 1363 (1993); C. T. Veje and
P. Dimon, Phys. Rev. E 56, 4376 (1997).

[8] K. Sneppen et al., J. Molecular Biology (2004),

in
print (doi:10.1016/j.jmb.2004.11.075), see http://www.
nordita.dk/research/complex/models/DNA/rnap.html.
[9] D. Helbing and P. Moln´ar, Phys. Rev. E 51, 4282 (1995);
C. Burstedde, K. Klauck, A. Schadschneider, and J. Zit-
tartz, Physica A 295, 507 (2001).

(2000).

(2002).

[11] A. Dussutour, J.-L. Deneubourg, V. Fourcassi´e, Tempo-
ral organization of bi-directional traﬃc in the ant Lasius
niger, preprint (2005).

[12] D. Helbing, L. Buzna, A. Johansson, and T. Werner,

Transportation Science 39, 1 (2005).

[13] J. Dzubiella and H. L¨owen, J. Phys.: Cond. Mat. 14, 9383

[14] W. F. Adams, J. Inst. Civil Eng. 4, 121 (1936).
[15] J. C. Taner, Biometrika 38, 383 (1951).
[16] R. J. Cowan, Transpn. Res. 9, 371 (1975).
[17] J. D. Griﬃths and J. G. Hunt, Traﬃc Eng. Control 32,

[18] D. P. Sullivan and R. J.Troutbeck, Traﬃc Eng. Control

458 (1991).

35, 445 (1994).

38, 86 (2004)

(2002).

cond-mat/0501595.

[21] R. Jiang, D. Helbing, P. K. Shukla, Q.-S. Wu, E-print

[22] S. Krauß, Microscopic Modeling of Traﬃc Flow: Investi-
gation of Collision Free Vehicle Dynamics (Ph.D. thesis,
DLR—Deutsches Zentrum f¨ur Luft- und Raumfahrt e.V.,
Cologne, Report No. 98-08, 1998).

Schreckenberg, Eur. Phys. J. B 5, 793 (1998).

[24] D. Helbing, S. L¨ammer, and J.-P. Lebacque, in C. Deis-
senberg and R. F. Hartl (eds.) Optimal Control and Dy-
namic Games (Springer, Dordrecht, 2005), pp. 239.
[25] B. S. Kerner and H. Rehborn, Phys. Rev. E 53, R4275

[26] O. Brun and J.-M. Garcia, J. Appl. Probab. 37(4), 1092

(1996).

(2000).

[27] J. Shortle, M. Fischer, and P. Brill, INFORMS Journal

on Computing, to appear (2005).

matical Sociology 17(4), 281 (1993).

APPENDIX A: CALCULATION OF THE
EXPECTED WAITING TIME FOR A SUITABLE
GAP

Let P (T ′) be the distribution density function of vehi-

cle time gaps T ′. Moreover, let

[19] X. P. Guo, M. C. Dunne and J. A. Black, Transpn. Sci.

Q = Prob(T ′ ≤ T∗) =

dT ′ P (T ′)

(A1)

T∗

Z0

[10] D. Helbing, I. Farkas, and T. Vicsek, Nature 407, 487

[28] N. S. Glance and B. A. Huberman, Journal of Mathe-

11

be the probability of ﬁnding a time gap T ′ ≤ T∗ and

T ′ := hT ′iT ′<T∗ =

dT ′ T ′P (T ′)

(A2)

T∗

1
Q

Z0

the expected value of time gaps that are smaller than T∗.
Then, given that a car has just passed, the expected time
until the ﬁrst gap T ′ greater than T∗ occurs, is given by
the expression

hT ′

>i =

nT ′Qn(1 − Q) ,

(A3)

∞

n=0
X

as an arbitrary number n of smaller gaps may occur with
probability Q each, before a large enough gap occurs with
probability (1−Q). Here, we have used that the expected
lengths T ′ of short gaps T ′ ≤ T∗ just add up due to the
assumption of independently and identically distributed
time gaps T ′. One can calculate

hT ′

>i = (1 − Q)T ′

= (1 − Q)T ′

Qn

nQn

(cid:19)

∞

∞

n=0
X
d
dQ

Q

(cid:18)

(cid:18)

d
dQ

n=0
X
1
1 − Q

(cid:19)

(cid:19)

(cid:18)

= (1 − Q)T ′Q

=

QT ′
1 − Q
T∗

=

0
R

∞

T∗
R

dT ′ T ′P (T ′)

dT ′ P (T ′)

.

(A4)

Inserting the vehicle time gap distribution (7) eventually
gives

1 − Q = P (T ′ > T∗) = (1 − QarrT0)e−Qarr(T

′−T0) (A5)

and

1
Qarr

QT ′ =

1 −(1 − QarrT0)(1 + Qarr T∗)e−Qarr(T∗−T0)
h
This implies

i
(A6)

hT ′

>i =

1
Qarr (cid:20)

eQarr(T∗−T0)
1 − QarrT0

− (1 + Qarr T∗)
(cid:21)

.

(A7)

The required minimum time gap for the crossing of
a pedestrian between two successive vehicles is T∗ =
στ + (l0 + d0)/v, while the preferred time gap between
successive vehicles is T0 = T + (l0 + d0)/v. Note that
formula (38) for the expected waiting time of vehicles for
a large enough gap in the pedestrian stream corresponds
to the special case T0 = 0 with λ = Qarr and T∗ = τ .

