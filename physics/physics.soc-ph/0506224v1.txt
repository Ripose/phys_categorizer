5
0
0
2
 
n
u
J
 
0
3
 
 
]
h
p
-
c
o
s
.
s
c
i
s
y
h
p
[
 
 
1
v
4
2
2
6
0
5
0
/
s
c
i
s
y
h
p
:
v
i
X
r
a

Impact of Investor’s Varying Risk Aversion on the Dynamics of Asset Price
Fluctuations

Baosheng Yuan and Kan Chen

Department of Computational Science, Faculty of Science, National University of Singapore,
Singapore 117543

Abstract

While the investors’ responses to price changes and their price forecasts are well accepted
major factors contributing to large price ﬂuctuations in ﬁnancial markets, our study shows
that investors’ heterogeneous and dynamic risk aversion (DRA) preferences may play a more
critical role in the dynamics of asset price ﬂuctuations. We propose and study a model of an
artiﬁcial stock market consisting of heterogeneous agents with DRA, and we ﬁnd that DRA
is the main driving force for excess price ﬂuctuations and the associated volatility clustering.
1−γ −1
We employ a popular power utility function, U (c, γ) = c
1−γ with agent speciﬁc and time-
dependent risk aversion index, γi(t), and we derive an approximate formula for the demand
function and aggregate price setting equation. The dynamics of each agent’s risk aversion
index, γi(t) (i=1,2,...,N), is modeled by a bounded random walk with a constant variance
δ2. We show numerically that our model reproduces most of the “stylized” facts observed in
the real data, suggesting that dynamic risk aversion is a key mechanism for the emergence of
these stylized facts.

1

Introduction

There have been many attempts to construct models of ﬁnancial markets and to understand the
key statistical features of ﬁnancial time series. It remains a great challenge, however, due the
inherent complexity of the ﬁnancial market, to develop a parsimonious market model that can
reproduce all key “stylized” facts observed in real ﬁnancial data and provide insights into the
market mechanism for the emergence of these stylized facts. One of the promising approaches
is agent-based modeling, which has reproduced and explained the emergence of some of the
“stylized” facts. The agent-based modeling provides an ideal framework for investigating the
impact of investors’ behaviors on the price dynamics from many diﬀerent perspectives; it has
become an indispensable tool for understanding the price dynamics of ﬁnancial markets1. With
agent-based modeling, one can model and investigate, for example, how investors make their price
forecasts and how their price forecasts inﬂuence the price ﬂuctuation (Arthur, Holland, LeBaron,
Palmer, and Tayler (1997), DeLong, Shleifer, Summers and Waldmann(1990), Levy, Levy and
Solomon (2000)), how investors respond to price change (Lux and Marchesi(1999), Caldarelli,
Marsli and Zhang (1997)), and how investors form and change their market beliefs (Brock and
LeBaron (1996), Barberis, Shleifer and Vishny (1998)). In this paper we use agent-based models
to study how investors’ ﬂuctuating risk preferences aﬀect the price dynamics. This important
issue has not been fully explored.

Financial markets present many important and challenging problems. First, the market
consists of intelligent, competing and heterogeneous agents who, with diﬀerent beliefs in the
market, diﬀerent abilities to acquire and process market information, and mutually conﬂicting
interests, try to make investment decision for their own beneﬁts. Second, each agent’s decision
depends on his estimate of price expectations of other agents who also make their own estimates;
this precludes expectations being formed by deductive means and leaves inductive reasoning as

1LeBaron(2005) is a good recent survey on the ﬁeld

1

the only choice (Arthur et al 1997). A market of agents employing inductive reasoning often
exhibits irrational herding behavior (Bak, Paczuski and Shubik (1997), Cont and Bouchaud
(2001)), resulting in excessive price ﬂuctuations or sometimes market bubbles and crashes. In
such market agents’ sentiment and degrees of risk aversion play a critical role in determining
its price dynamics. Third, agents can learn and therefore adapt their strategies dynamically to
improve their performance; this exacerbates the unpredictability of the markets. The change
in an investor’s strategy or behavior can be the cause or the result of the investor’s changing
sentiment (Barberis and Shleifer 1998), represented by (pessimistic) under-reaction or (optimistic)
over-reaction to market dynamics driven by arrival of new information and changing market
macro/micro-environment. These characteristics of ﬁnancial market (competing with diﬀerent
beliefs and conﬂicting interests, interdependence of price expectations, and unpredictable changes
of risk aversion) may lead to the formation of so-called noise traders behaviors. DeLong et al
(1990) have found this a (behavioral) source for price to diverge signiﬁcantly from the fundamental
value in ﬁnancial markets – the so called “noise trading eﬀect”. A good model, needless to
say, must successfully address these challenges; more importantly, it must be able to produce
simulation time series that can capture the key “stylized” empirical facts observed in real ﬁnancial
time series. This paper reports our eﬀorts in constructing such a model. The key ingredient of
our model is the inclusion of investors’ changing degrees of risk aversion. We show that this is
the main cause of excess stock price ﬂuctuations and the associated volatility clustering.

We outline here our model of interacting heterogeneous agents. We ﬁrst consider a baseline
model, in which the agents use past price information to form their sets of future price expec-
tations. The agents are adaptive as their price expectations are not based on one particular
estimator but are determined by their best-performance estimators which may change from time
to time. The agents also use their erroneous stochastic beliefs (DeLong et al.(1990)) in the market
to make price adjustment on their best forecasts, which are assumed to be normally distributed.
In our baseline model, we assume that the agents have a decreasing absolute, but constant
relative, risk aversion (DARA and CRRA) utility function, U (c) = (c1−γ
γ). The
existing agent based models of stock market, such as the Santa Fe artiﬁcial stock market model,
e−λc, for the
typically use a constant absolute risk aversion (CARA) utility function, U (c) =
price setting equation can be easily derived under such utility. As the focus of our paper is on risk
aversion, we choose to use the well accepted (DARA) power utility function. Although a simple
analytic formula for the demand function under this utility is not available, we have derived a
general functional form and a rather good approximation for the demand function. Like the
SFI market model, our baseline model market with a choice of the parameters corresponding to
normal market conditions, exhibits some excess volatility, but not to the extent of the volatility
observed in real markets. In addition, there is little enhancement of volatility clustering at high
volatility regime, which is observed in real market data (Chen, Jayaprakash and Yuan (2005)).

1)/(1

−

−

−

By simply allowing investors to change their risk aversion attitudes, we obtain excess volatility
and volatility clustering in very good agreement with real market data. The implication is clear:
dynamic risk aversion (instead of ﬁxed constant risk aversion) is directly responsible for excess
volatility and the associated clustering. Speciﬁcally, in our DRA model, which is built from our
baseline model, all agents have the power utility functions ((c1−γ
γ)) but with diﬀerent
and time varying risk aversion indices (degrees), γi,t, which we assume to follow an independent
bounded random walk with a variance δ2. We will show that the magnitude of excess volatility
is directly related to δ2. With such DRA our model market exhibits most of the important
statistical characterization of real ﬁnancial data, such as the “stylized” facts related to excess
volatility (Mandelbrot (1963), Fama (1963), Bouchaud and Potters(2000), Mantegna and Stanley
(1999), Cont (2001)) and volatility clustering (Mandelbrot (1963), Fama (1965), Engle (1982),

1)/(1

−

−

2

Baillie, Bollerslev, and Mikkelsen (1996), Chou (1988), Schwert (1989), Poterba and Summers
(1986), Chen et al. (2005)).

We have also studied the impacts of the dynamic risk aversion on the market dynamics using
a few other baseline models, including the SFI market model, and we found similar results. This
suggests that our results on dynamic risk aversion are rather generic.

The next section contains a derivation of the price equation under the power utility function
for risk aversion. Section III describes our baseline model with a ﬁxed constant risk aversion.
Section IV introduces our DRA model. Section V reports the results from numerical simulations
of our model. Section VI considers a DRA model built with the SFI market model as the baseline
model. The last section summarizes.

2 Demand Function and Price Setting Under the Power Utility

Function

−1

1−γi,t
t
1−γi,t

We consider a market of N heterogeneous agents who form their subjective expectations induc-
tively and independently based on their investment strategies. There are two assets, a risky stock
paying a stochastic dividend with a limited supply of N shares2, and a risk-free bond paying a
constant interest rate, r, with inﬁnite supply. All agents have the same form of power utility
function, U (ct; γi,t) = c
, but they have their own time-dependent risk aversion indices
denoted by γi,t. At each time step t, every agent decides how to allocate his wealth between the
risk-free bond and the risky stock. Since the values for both the dividend payment and the stock
price at the next period t + 1 are unknown random variables, the investors can only estimate the
probability of various outcomes. Assume each agent’s estimation at time t of the next step’s price
and dividend is normally distributed with the (conditional) mean and variance, Ei,t[pt+1 + dt+1]
and σ2
It can be shown, by optimizing the total utility, that the
demand of agent i for holding the share of the risky stock is approximately,

i,t(i = 1, 2, ...N ) respectively.

Di,t =

Ei,t[pt+1 + dt+1]
γi,tσ2

i,tpt(1 + r)

−

pt(1 + r)

where pt is the stock price at time t, γi,t is agent i’s index (degree) of risk aversion, and σ2
conditional variance of price estimation.
N
The market clearing condition:
i Di,t+τ =
current market price and relate the price at time t + τ , pt+τ to the price at time t, pt:

N
i Di,t = N can be used to determine the

i,t the

P

P

pt = P

N
i

N +

Ei,t[pt+1 + dt+1]

i,t(1+r)
1
γi,tσ2
i,t

γi,tσ2
N
i
P

.

and

N
i
pt+τ = P

Ei,t+τ [pt+τ +1+dt+τ +1]

i,t+τ (1+r) −

Ei,t[pt+1+dt+1]

γi,t+τ σ2
N
i
P

γi,tσ2

N
i
P
N
i
P

1

γi,t+τ σ2

i,t+τ

pt.

1
γi,tσ2
i,t

i,t(1+r) −
It can be seen from the demand and price equations that the degree of the agent’s risk aversion

plays an important role.

2In practice the number of shares is never the same as the number of agents; here we set the two numbers the

same for the sake of convenience and setting them diﬀerent does not change the results

(1)

(2)

(3)

3

We now show the derivation of the above equations. Assume at time t agent i’s consumption
is ci,t, and he invests a portion x of his current consumption in the risky asset. His total utility
function deﬁned over the current and future values of consumption is:

U (ci,t, ci,t+1, γi,t) = U (ci,t, γi,t) + U (

ci,t+1(x)
Rf

, γi,t),

where the consumption at time t + 1 can be written as

ci,t+1(x) = ci,t[(1

x)Rf + x ˜Ri,t+1].

−
Here Rf = 1 + r is the gross risk-free return and ˜Ri,t+1 the gross return on the risky asset. Agent
i determines the amount of his investment on the risky asset, x, by maximizing his total utility,
Eqn (4). The maximization problem can be written as

max
x

Et[U (ci,t, γi,t) + U (

ci,t+1(x)
Rf

, γi,t)]

max
x

≡

Et[U (

ci,t+1(x)
Rf

, γi,t)],

The last equality follows because the utility U (ci,t, γi,t) is known at time t and it does not contain
x.

The power utility function is given by,

U (ci,t; γi,t) =

1

c1−γi,t
i,t
1

−

−
γi,t

max
x

i,t

c1−γi,t
γi,t
1

−

Et

[1 + ˜ri,t+1x]1−γi,t
{

}

Substituting Eqn (5) into Eqn (7) and then inserting it back to Eqn (6), the maximization is now
given by

is the present (discounted) value of the net return at next time step
where ˜ri,t+1 =
t+1. Assuming that agent i’s prediction errors of ˜ri,t+1 are (conditionally) normally distributed:

˜Ri,t+1−Rf
Rf

˜ri,t+1 = Et(˜ri,t+1) + zi,t = re

i,t + zi,t

where re
and the error of estimation is zi,t

t,i = Et(˜ri,t+1) is the conditional expected net return, at time t, of the next time step;

N (0, σ2

i,t). The maximization becomes:

∼

max
x

Et

(1 + xre
{

i,t + xzi,t)1−γi,t

= max

x {

}

∞

z2
i,t
2σ2
i,t f (zi,t; x, γi,t)dzi,t

−
e

,
}

(10)

1

2πσ2
i,t

Z

−∞

q

where f (zi,t; x, γi,t) = (1 + xre
assumed (1 + xre
valid utility measure. The above integral can be further simpliﬁed to

i,t + xzi,t)1−γi,t . In writing down the above equation we implicitly
i,t + xzi,t) > 0, which is a necessary requirement for the power function to be a

1
√π Z

∞

−∞

−z2
e

i,tf (√2σi,tzi,t; x, γi,t)dzi,t

(11)

This Gaussian integral cannot be evaluated analytically, but it can be approximated by an ex-

(4)

(5)

(6)

(7)

(8)

(9)

4

n

Xk=1

×

×

∞

Z

−∞

n

Xk=1

n

Xk=1

pansion based on the roots of Hermite Polynomial H (n)(ξ) as:

−z2
e

i,tf (√2σi,tzi,t; x, γi,t)dzi,t =

k f (√2σi,tξ(n)
λ(n)

k ; x, γi,t)

(12)

k (k = 1, 2, ..., n) are the coeﬃcients of the summation, and ξ(n)

where λ(n)
are the roots of nth
Hermite polynomial H (n)(ξ). Performing the maximization by setting the derivative with respect
to x equal to zero, we obtain the following equation:

k

λ(n)
k [1 + (re

i,t + √2σi,tξ(n)

k )x]

−γi,t

(re

i,t + √2σi,tξ(n)

k ) = 0

(13)

Since

re
i,t| ≪
|
above can be approximated as

k ∼

1, ξ(n)

≪

N (1), and σi,t

1 for the typical time step of one day or shorter, the

λ(n)
k [1

γi,t(re

i,t + √2σi,tξ(n)

k )x]

i,t + √2σi,tξ(n)
[re

k ] = 0.

−

Here we consider an approximation with n = 2. Note that λ(2)

1 = λ(2)

2 = λ, √2ξ(2)

1 =

(= 1), the optimal demand of agent i of risky stock can then be obtained as

√2ξ(2)
2

−

Di,t = xi,t =

re
i,t
i,t)2 + σ2

i,t] ≈

re
i,t
γi,tσ2
i,t

γi,t[(re

=

Ei,t[pt+1 + dt+1]
γi,tσ2

i,t(1 + r)pt

−

(1 + r)pt

,

which is the Eqn. (1). In writing down the above approximation we assume (re
is certainly true when the time step is one day or shorter.

i,t)2

≪

σ2
i,t, which

To get a more accurate approximation of the demand function, higher order Hermite polyno-
mial roots are needed in the summation approximation to the integral in Eqn. (11). It can be
shown that, the demand function xi in a higher order approximation is exactly the same as Eqn.
(15), except for an overall constant factor.

(14)

(15)

3 The Baseline Model

3.1 Price prediction

To use the demand and price setting function derived in the previous section, one still need to
incorporate each agent’s prediction of the payoﬀ at the next time step, Et(pt+1 + dt+1). We
assume all agents use the past price information for price forecasting. The simplest way is to
calculate a moving average of the available past prices and use it as a proxy of price forecasting
for the next time step t+1. Since investors may have diﬀerent investment horizons and evaluation
strategies, they may use diﬀerent time lags for their calculation of the moving average of past
prices, implying that they have heterogeneous memory lengths (Levy et al. (1994)). We consider
each agent has his own M sets of predictors so that he can choose the best one for forecasting the
price at the next time step. Each price predictor Ei,j(pt+1 + dt+1), (i = 1, 2, ..., N ; j = 1, 2, ..., M )
is made of a moving average of past Li,j prices with a subjective erroneous stochastic adjustment:

Ei,j,t(pt+1 + dt+1) = M Ai,j,t = M Ai,j,t−1(1

) +

(pt + dt) + εi,j

(16)

1
Li,j

−

1
Li,j

5

where εi,j

N (0, σp+d) is Gaussian random variable.

The conditional variance of the estimation, σ2

∼

of the squared forecast error:

i,t, is assumed to update with a moving average

σ2
i,j,t = (1

θ)σ2

i,j,t−1 + θ[(pt + dt)

Ei,j,t−1(pt + dt)]2,

−

−

where θ (0 < θ

1) is a weighting constant.

≪

3.2 Dividend process

The dividend process is assumed to be a random walk:

dt = dt−1 + rd + ǫt,

where ǫt is an i.i.d. Gaussian with zero mean and variance σd; rd is the average dividend growth
rate. Note that the dividend process in a real stock market may be more complicated than what
we assumed here and it may vary from stock to stock. But our results are not sensitive to the
choice of a dividend process.

3.3 The price setting equation of the baseline model

For heterogeneous agents with ﬁxed constant risk aversion, the demand function Eqn. (1) and
price setting Eqn. (2) and (3) can be written as:

It can be see that the risk aversion indices of the agents play the role of weighting factors in

the price setting equations.

If the agents are homogeneous in risk aversion, the above can be further simpliﬁed to:

and

and

Di,t =

Ei,t[pt+1 + dt+1]
γiσ2

i,t(1 + r)pt

−

pt(r + 1)

N
i
pt = P

Ei,t[pt+1 + dt+1]

N +

1
γiσ2
i,t

γiσ2
i,t(1+r)
N
i
P
( Ei,t+τ [pt+τ +1+dt+τ +1]
σ2
i,t+τ (1+r)
( Ei,t[pt+1+dt+1]

σ2
i,t(1+r) −

1
γi

N
i

1
γi

N
i
P

1

σ2
i,t+τ

)

pt.

−
1
σ2
i,t

)

pt+τ = P

Di,t =

Ei,t[pt+1 + dt+1]
γσ2

i,t(1 + r)pt

−

pt(r + 1)

N
i
pt = P

Ei,t[pt+1 + dt+1]
σ2
i,t(1+r)
N
1
σ2
i
i,t
P

N γ +

pt+τ = P

N

i ( Ei,t+τ [pt+τ +1+dt+τ +1]
σ2
i,t+τ (1+r)
i ( Ei,t[pt+1+dt+1]
σ2
i,t(1+r) −

N

−
1
σ2
i,t

)

1

σ2
i,t+τ

)

pt.

P

6

(17)

(18)

(19)

(20)

(21)

(22)

(23)

(24)

From the above equations we see that the risk aversion index γ only aﬀects the overall level
of demand but not its ﬂuctuations. It also does not contribute to the price ﬂuctuations (between
the time t and time t + τ ). Thus in the case of homogeneous and constant risk averse agents, the
main source of the price ﬂuctuations is from the investors’ price forecasting. The baseline model
does not incorporate investor’s changing sentiment. As a consequence, the price ﬂuctuation is
expected to be very limited and we will subsequently show that this is indeed the case.

4 Model with Dynamic Risk Aversion

4.1 Heterogeneous and dynamic risk aversion

To extend the baseline model, we allow agents to have heterogeneous risk aversion indices (de-
grees), which vary with time. This reﬂects the fact that in a real ﬁnancial market investors
have diﬀerent risk attitudes and the investors’ sentiment change with time. We assume that the
risk aversion index of each agent follows an independent bounded random walk with a constant
variance δ2:

γi,t = γi,t−1 + δzi,t

, γi,t

[γ0, γu]

∈

where zi,t is an i.i.d. Gaussian variable with mean zero and unit variance for agent i, γ0(> 0) is
the lower boundary, and γu(> γ0) the upper boundary. It’s easy to relate the value of the index
at time t + τ to the value at time t:

γi,t+τ = γi,t + δ

zi,t = γi,t + δSi,τ

τ

Xt=1

P

τ
where Si,τ =
t=1 zi,t is the change of risk aversion index of agent i from time t to time t+τ , which
can be either positive or negative. It’s worthwhile to note that in real markets, the dynamics of
investors’ risk aversion attitudes may be more complicated than a simple random walk process
we assume here. However, simplifying and idealizing of the real situation helps us to stay focused
on the main purpose of investigating the impact of investors’ ﬂuctuating risk aversion on the
price dynamics.

4.2 Price setting equation with dynamic risk aversion

Upon substitution of Eqn. (26) into Eqn. (3), we have:

N
i
pt+τ = P

1

(γi,t+δSi,τ ) ( Ei,t+τ (pt+τ +1+dt+τ +1)
σ2
i,t+τ (1+r)
( Ei,t(pt+1+dt+1)
σ2
i,t(1+r)

1
γi,t

1
σ2
i,t

−

−
)

N
i
P

1

σ2
i,t+τ

)

pt

Comparing Eqn.(27) to Eqn. (21) (γi,t = γi,t+τ = γi) for the case of ﬁxed constant risk aversion,
we see that there is an extra term, δSi,τ , in the price setting equation in the case of DRA. Since
Si,τ can be either positive or negative and its value changes with time, γi,t + δSi,τ deviates from
γi,t and ﬂuctuates with time. This ﬂuctuating weighting factor (representing agent’s ﬂuctuating
risk aversion) acts like an ‘ampliﬁer” of the price deviation induced by the error in agents’ price
1,
estimation, and therefore results in excess price ﬂuctuation.
γi,t+τ (γi,t + δSi,τ ) and γi,t can diﬀer substantially, resulting in a large deviation of pt+τ from
pt. Our numerical results, presented in the next session, clearly show that it’s this risk aversion
dynamics that gives rise to the excessive price ﬂuctuations and the associated volatility clustering.

N (0, √τ ), for √τ δ

Si,τ
|

| ∼

≫

(25)

(26)

(27)

7

4.3 The range of DRA indices

We now examine the range of possible relative risk aversion indices. The choice of the range is
important for modeling investors’ decision-making; it has big impact on the price dynamics, as it
directly aﬀects investors’ demand of the risky asset. The lower the index, the less risk-averse the
investor is (thus the higher the demand of risky asset); and vice versa. Thus the risk-aversion
attitude has great impact on the price dynamics through its inﬂuence on the demand. Some
empirical and experimental studies reported that for a “typical” investor, the value of the risk-
aversion index γ is in the range of 0-2 (Mehra and Prescott (1985), Friend and Blume (1975), Levy,
Levy and Solomon (2000)). Mehra and Prescott (1985) used a value of risk aversion index with
an upper limit of 10 in their treatment of the issue of the “Equity Premium Puzzle”. However,
to “explain” the “Equity Premium Puzzle” of NYSE over 50 years of U.S. postwar period, one
needs a relative risk aversion index of 250 if a consumption-based model is used(Cochrane (2005))!
These empirical results show that it is better to model the risk aversion with a range of indices,
instead of a ﬁxed value. The range we speciﬁed consists of an upper bound and a lower bound
for the random walk describing DRA indices.

5 The Simulation Results and Analysis

5.1 The setup

In our simulation we choose the number of agents N = 100, the number of predictors each agent
has, M = 2. Setting diﬀerent number of agents produces similar results. The initial risk aversion
[0.2, 4] for the model with
indices γi,0 are all set to 1.0 for the baseline model and are set to γi,0 ∈
[10−5, 20], the risk-free interest rate is r = 5%,
DRA. The bounds for the index of DRA are γi,t
∈
the dividend growth rate is rd = 2%, and the weighting coeﬃcients for the variance of estimation
is θ = 1/250. The lags used in the price estimators are Li,j
[2, 250], and we set σp+d=1% for
all agents.

∈

5.2 Simulation price and trading volume

Let’s ﬁrst take a look at how excess price ﬂuctuations emerge from a dynamic risk aversion
process. Fig.1 shows the simulation time series of the price and the trading volume generated
from the model with ﬁxed constant risk aversion (CRA) and the model with dynamic risk aversion
(DRA).

From the ﬁgure we see clearly that the DRA leads to increased ﬂuctuations in both the price
and the trading volume. To have both qualitative and quantitative picture of the impact of the
DRA on the price dynamics, we examine the key stylized facts in the following subsections.

5.3 Autocorrelation function

One of the stylized facts observed in real ﬁnancial data is that their autocorrelation functions
(ACF) usually start with a low value (from ρ1) and decay very slowly with increase of time step
for the squared or absolute-valued returns. For an almost-Gaussian process, the values of its
ACFs for absolute-valued return are close to zero and independent of the time steps. In Fig.2,
we compare the ACFs for absolute-valued returns for the series generated by our baseline model
(with CRA) and the DRA model, the series of real data (DJIA and SP500 Index), and Gaussian
process.

8

The ﬁgure clearly shows that while the ACFs generated from our baseline model (CRA) is
close to that of Gaussian process (Gauss), the results generated from our DRA model are very
close to the real ﬁnancial data (DJIA, SP500).

5.4 Excess volatility

The second key stylized facts we examine is the excess volatility (or fat-tails) of returns, which
measures the price ﬂuctuation of real ﬁnancial series. In Fig.3 we plot the distributions of returns
(in diﬀerent time-steps) from our baseline model and the DRA model with the parameters set
according to a normal market condition. For comparison, we also plot the return distribution of
DJIA and the return distribution generated by a simple Gaussian process.

These plots show that, for all diﬀerent time periods, the return distributions from our baseline
model are very close to those of the Gaussian process; in contrast, the results from the model with
DRA are close to the real DJIA data. In the context of our model, it is clear that the dynamic
risk aversion leads to excess volatility or a fat-tail in the return distribution, which is one of the
most important characterization of real ﬁnancial time series (Mandelbrot (1963), Fama (1965)).
To further examine the fat tail of the distribution, we plot, in Fig.4, the Kurtosis as a function
of the squre root of variance of risk aversion, δ. From these plots, we see that the risk aversion
dynamics can change the return distribution signiﬁcantly from a Gaussian distribution (which has
K=3.0). In addition, the smaller the lag τ , the larger the Kurtosis generated; this is consistent
with the empirical observations in real ﬁnancial data. These values of the Kurtosis, together with
the standard deviation and skewness are listed in Table 1. Note that the statistics generated from
our DRA model are quite close to that from DJIA daily data.

5.5 Volatility Clustering

Volatility clustering is another important characteristics of ﬁnancial time series. Here we use
the conditional probability measure developed recently by Chen et al. (2005) to examine the
volatility clustering. The method uses the return distribution conditional on the absolute return
in the previous period to describe a functional relation between the variance of the current return
and the absolute return in the previous period. If the volatility in asset returns is clustered, it
will be proportional to the volatility in the previous period, the proportionality constant reﬂects
the strength of volatility clustering.

Fig.5 shows how the current volatility depends on the volatility of the previous period for a
random walk process, the baseline market model, DRA model, and DJIA daily data. From the
ﬁgures we see clearly that the baseline market model with ﬁxed constant risk aversion (CRA)
produces very low volatility clustering (the curve is ﬂat if there is no volatility clustering, such
as the case with the random walk model (Gauss)). In contrast, the volatility clustering from the
DRA model is signiﬁcantly higher, and it is very close to the one generated from DJIA daily
prices. The plots also show that, for our DRA model, the smaller the time period (step) of the
return, the stronger the volatility clustering; and vice versa; this is consistent with the empirical
observations of real market data.

6 The SFI market model with dynamic risk aversion

6.1 Brief introduction to SFI market

To test the impact of DRA on other baseline model, we use the well-known Santa Fe model of
artiﬁcial market (Arthur et al. (1997), LeBaron, Arthur and Palmer (1999)). We ﬁrst give a

9

brief summary of the SFI market below. In the SFI market a constant absolute risk aversion
ectγ) is assumed for each agent, the demand and price
(CARA) utility function (U (ct, γ) =
setting equations in fact have similar forms as in Eqn. (2) and (3).
The dividend process is assumed to be an AR(1) process:

−

dt = ¯d + ρ(dt

¯d) + εt

−

(28)

where ǫt is an i.i.d. Gaussian with zero mean and variance σe

The SFI market assumes that each of the N (=25) agents at any time possesses M (=100)
linear predictors and uses those that best matches the current market state and have recently
proved most accurate. Each predictor is a linear regressor of the previous price and dividend,
E(pt+1 + dt+1) = a(pt + dt) + b; it uses a market state “recognizer” vector consisting of J (=12)
elements, each taking a value of either 0, 1 or #(match any market states). The market status
is described by a state vector consisting of J binary elements, each taking value of either 1 (its
speciﬁed market condition exists) or 0 (the market condition does not exist). The elements of
market state can represent any important market discriminative information, including macro-
/micro- economic environment, summary of fundamentals, and market temporal trends, etc. At
each time step, only those predictors which match all their J elements to the corresponding J
elements of market status are eligible to be used and are called “active” predictors.

The variance of estimation σ2

i,t for each agent is assumed to update with a moving average of

squared forecast error, deﬁned in Eqn. (17).

Agents learn to improve their performance by discarding the worst (20%) predictors and

developing new predictors via a genetic algorithm. This ensures the market some dynamics.

In the SFM, the market conditions are speciﬁed as:
1-6 elements represent “current price

×

1.125.

interest rate / dividend > 0.25, 0.5, 0.75, 0.875, 1.0,

7-10 elements describe “Current price > 5-period moving average of past prices (5-period

are set to be randomly and uniformly distributed within

MA), 10-period MA, 100-period MA, 500-period MA.

11th element always 1;
12th element always 0;
The regressor’s parameters
(0.7, 1.2) and b

the ranges: a

∈

a, b
}
{
10, 19.002).
(
−
∈

coeﬃcient ρ = 0.95, ¯d = 10, and σe = 0.0745.

The risk-free interest rate is set to 5%, and for the dividend process: the auto-regression

The weighting coeﬃcients for the variance of estimation, θ = 1/75, 1/150 for faster and slower
learning respectively. The genetic algorithm is invoked (on average) every Te = 250 periods
(faster learning) and 1000 periods (slower learning). For more detailed justiﬁcation for choosing
the parameter values, see LeBaron et al.(1999).

With these setups, we have checked that the simulation stock price time series and its statis-

tical properties generated are in fact similar to those of our baseline model.

6.2 Numerical results of SFI market model with DRA

The dynamics of risk aversion can be similarly incorporated into the SFI market model. Fig.6
plots the simulation price time series for diﬀerent DRA variance δ2. These plots show clearly the
impact on price ﬂuctuations from the DRA. To have a quantitative picture on how the excess
volatility emerges from the DRA, we plot in Fig.7 the functional relation of the Kurtosis vs
variable δ. The results are very similar to those plotted in Fig. 4, which were obtained with our

10

much simpler baseline model.

We have checked other key features and found that the SFI-DRA model gives the similar
results as our DRA model which is based on a much simpler baseline model. This suggests that
DRA is the key mechanism for the emergence of the key stylized facts, and the impact of DRA
does not depend on the structures of the baseline models. Therefore the price impact of investors’
DRA we have studied is generic.

7 Summary

We have presented a simple multi-agent model of a ﬁnancial market which incorporates the dy-
namics of risk aversions. We assume that the index of DRA follows a simple independent bounded
random walk with a constant variance δ2. We demonstrate that such dynamics is directly re-
sponsible for excess volatility and the associated volatility clustering. We compare the numerical
results from our model with the results obtained by analyzing the DJIA daily data and show that
the simulation data reproduce most of the “stylized” facts, such as excess volatility (measured by
fat tail and high peak of return distribution), volatility clustering measured by conditional return
distribution. We have also tested the DRA on the Santa Fe market model and obtain similar
results. This suggests that the impact of DRA among heterogeneous agents we introduced here
does not depend on the structure of the particular baseline model used. The degree of excess
volatility is essentially controlled by the parameter δ. Thus δ can be used as a key market sen-
timent parameter, in conjunction with the other market indicators such as average return r and
the average volatility σ0, to characterize the ﬁnancial market. We hope that our results presented
here will provide new insights into the dynamics of asset price ﬂuctuations governed by investors’
ﬂuctuating sentiments.

Baosheng Yuan is deeply grateful to Blake LeBaron for his very helpful and illuminating sugges-
tions at several points in the research.

Acknowledgment

References

Arthur, W. B., J.H. Holland, B. LeBaron, R. Palmer, and P. Tayler (1997), “Asset pricing
under endogenous expectations in an artiﬁcial stock market”, appeared in The Economy as
an Evolving Complex System II, Reading, Mass: Addsion-Wesley, Advanced Book Program,
1997.

Baillie, R. T., T. Bollerslev, and H. O. Mikkelsen (1996), “Fractionally integrated
generalized conditional heteroskedasticity”, Journal of Econometrics, 74(1), 3-30.

Bak, P., M. Paczuski, and M. Shubik (1997), “Price variations in a stock market
with many agents”, Physica A 246, 430-453.

Barberis, N., A. Shleifer, and R. Vishny (1998), “A model of
Journal of Financial Economics, 49 307-343.

investor sentiment”,

11

Bouchaud, J.-P., M. Potters (2000), Theory of Financial Risks: From Statistical Physics to
Risk Management, Cambridge University Press, Cambridge.

Brock, A. W. and B. LeBaron (1996), “A Dynamic structural model for stock return
volatility and trading volume”, The Review of Economics and Statistics, 78 94-110.

Caldarelli, G., M. Marslli, and Y.-C. Zhang (1997), “A prototype model of stock ex-
change”, Europhysics Letters 40, 479-484.

Chen, K., C. Jayaprakash, and B. Yuan (2005), “Conditional probability as a mea-
sure of volatility clustering in ﬁnancial time series”, arXiv: physics/0503157.

Chou, R. Y. (1988), “Volatility persistent and stock valuation: Some empirical evi-
dence using GARCH”, Journal of Applied Econometrics, 3, 279-294.

Cochrane, J. H. (2005), Asset Pricing, Rev. ed., Princeton NJ, Princeton University
Press.

Cont, R. (2001), “Empirical properties asset returns:
sue” Quantitative Finance, 1, 223-236.

stylized facts and statistical

is-

Cont, R. and J.-P. Bouchaud (2001), “Herd Behavior and aggregate ﬂuctuations in
ﬁnancial markets”, Macroeconomic Dynamics, 4, 170-196.

DeLong, J. B., A. Shleifer, L. H. Summers, and R. J. Waldmann (1990), “Noise
trader risk in ﬁnancial markets”, Journal of Political Economy, 98 (4) 703-738.

Engle, R. F. (1982), “Autoregressive conditional heteroskedasticity with estimates of
the variance of the United Kingdom inﬂation”, Econometrica 50(4), 987-1008

in The
Fama, Eugene F. (1963) “Mandelbrot & the stable parentian hypothesis”,
Random Character of Stock Market Prices”, P. Costner, Editor, MIT Press, Mass., 1969
reprint.

Fama, Eugene F. (1965), “The behavior of stock-market prices”, Journal of Business
38(1), 34-105.

Friend, I., and M. E. Blume (1975), “The demand for risky assets”, The American
Economic Review 65, 900-922.

LeBaron, B., W. B. Arthur, R. Palmer (1999), “Time series properties of an artiﬁ-
cial stock market”, Journal of Economic Dynamics & Control, 23 1487-1516.

LeBaron, Blake (2005), “Agent-Based Computational Finance”,
Handbook of Computational Economics, Vol. II, edited by K. L. Judd and L. Tesfatsion.

to appear in The

Levy, M, H Levy, S. Solomon (1994), “A microscopic model of the stock market :
Cycles, booms, and crashes”, Economics Letters 45, 103-111.

12

Levy, M., H. Levy, and S. Solomon (2000), Microscopic Simulation of Financial Markets -
From Investor Behavior to Market Phenomena, Academic Press, California, USA.

Lux, T., and M. Marchesi (1999), “Scaling and criticality in a stochastic multi-agent
model of a ﬁnancial market”, Nature, 397, 498-500.

Mandelbrot, B. B. (1963), “The variation of certain speculative prices”,
Business 36, 394-419.

Journal of

Mantegna, R. and H. E. Stanley (1999), An Introduction to Econophysics, Cambridge
University Press, Cambridge.

Mehra, R., and E. C. Prescott (1985), ”The equity premium: A puzzle”, Journal of
Monetary Economics 15, 145-161.

Poterba, J. M., L. H. Summers (1986), “The persistence of volatility and stock mar-
ket ﬂuctuations”, American Economic Review, 76 1142-1151.

Schwert, G. William (1989), “Why does stock market volatility change over time?”,
Journal of Finance 44, 1115-53.

Table 1: Some statistics for DRA model (δ=0.01) and DJIA

Lag (τ )

S.D.

Skewness
Model δ = 0.01
-0.454483

16

32

1

2

4

8

1

2

4

8

16

32

0.015004

0.018313

0.021685

0.026179

0.031840

0.039121

0.010876

0.015710

0.022213

0.032103

0.046404

0.066602

-0.372956

-0.460952

-0.492277

-0.424137

-0.327192
DJIA
-1.190497

-1.100639

-0.950496

-0.989078

-0.995792

-0.706621

Kurtosis

48.406593

35.233093

26.051126

17.309658

11.376849

7.444087

40.2330

29.9739

18.9213

13.6606

12.0792

9.5892

13

110

100

90

80

70

60

50

40

0

250

200

150

100

50

0

0

0.4

0.35

0.3

0.25

0.2

0.15

0.1

0.05

0

)
t
(

ρ

Simulation price time series for different δ (from bottom) = 0, 0.005, 0.01, 0.015, and 0.02 

50

100

150

200

300

350

400

450

500

250
time step t

Simulation trading volume time series for different δ =0 (bottom) and = 0.1 (top)

50

100

150

200

300

350

400

450

500

250
time step t

Figure 1: The time series of price and trading volume from the models with constant (δ = 0) and dynamic
(δ 6= 0) risk aversion. For the sake of clarity, the time series with diﬀerent δs were vertically shifted, e.g., the
trading volume for δ =0.01 was upward shifted by 50.

Gauss
CRA
DRA
SP500
DJIA

−0.05

0

50

100

150

200

300

350

400

450

500

250
time step t

Figure 2: ACFs of diﬀerent time steps for return series of: the baseline model (CRA), the DRA model, DJIA
Index, SP500 Index, and random walk process (Gauss).

14

0

10

τ = 1 day 

0

10

τ = 2 days 

Gauss
CRA
DRA
DJIA

−5

0
Normalized return r

5

10

−5

0
Normalized return r

5

10

0

10

τ = 4 days 

0

10

τ = 8 days 

−5

0
Normalized return r

5

10

−5

0
Normalized return r

5

10

0

10

τ = 16 days 

τ = 32 days 

0

10

)
r
(
 
f

d
p

−1

10

−2

10

−3

10

−10

)
r
(
 
f

d
p

−1

10

−2

10

−3

10

−10

)
r
(
 
f
d
p

−1

10

−2

10

−3

10

−10

−5

0
Normalized return r

5

10

−5

0
Normalized return r

5

10

Figure 3: Return distributions for the model with constant risk aversion (CRA) (δ=0) and the DRA model
(δ=0.01), Gaussian process (Gauss) and real data of DJIA.

τ = 1 step
τ = 2 steps
τ = 4 steps
τ = 8 steps
τ = 16 steps
τ = 32 steps
Gauss

i

s
s
o
t
r
u
K

70

60

50

40

30

20

10

0

0

0.5

1

1.5

2

2.5

3

3.5

4

4.5

δ

5
−3

x 10

Figure 4: Kurtosis of simulation price series for diﬀerent variables δ of the DRA index.

)
r
(
 
f

d
p

−1

10

−2

10

−3

10

−10

)
r
(
 
f

d
p

−1

10

−2

10

−3

10

−10

)
r
(
 
f
d
p

−1

10

−2

10

−3

10

−10

15

Gauss
CRA
DRA
DJIA

τ = 1 day 

τ = 2 days 

0.02

0.04

0.06

0.02

0.04

0.06

0.08

τ = 4 days 

τ = 8 days 

0.02

0.04

0.06

0.08

0.1

0.05

0.1

0.15

τ = 16 days 

τ = 32 days 

0.05

0.1

0.15

0.2

0.1

0.2

0.3

Figure 5: The volatility clustering measured by the standard deviation of current return vs the absolute return
of previous period.

0

0

0.06

0.05

0.04

0.03

0.02

0.01

0.1

0.08

0.06

0.04

0.02

0.2

0.15

0.1

0.05

0

0

0

0

900

800

700

600

500

400

300

200

100

0

2

2.05

2.1

2.15

2.2

2.25

2.3
5

x 10

Figure 6:
Simulation price series for diﬀerent variances of DRA processes with Santa Fe model. The model
parameters are: θ = 1/75, Te = 250. The prices for diﬀerent δs have been vertically shifted to make the comparison
clearer. From the bottom to top, the price series are respectively for δ = 0, 0.01, 0.02, 0.03, 0.04 and 0.05.

0.08

0.07

0.06

0.05

0.04

0.03

0.02

0.01

0.15

0.1

0.05

0

0

0

0

0.3

0.25

0.2

0.15

0.1

0.05

0

0

16

Kurtosis of simulation data generated by dynamical risk aversion model 

τ = 1 step
τ = 2 steps
τ = 4 steps
τ = 8 steps
τ =16 steps
τ =32 steps

30

25

20

15

10

5
4
3
2
1
0

0

0.005

0.01

0.015

0.02

0.025

0.03

0.035

0.04

0.045

0.05

Figure 7: Kurtosis of simulation price series for diﬀerent variables, δ, of DRA processes with Santa Fe model.
The model parameters are: θ = 1/75, Te = 250; The data were obtained by averaging over 50 independent runs.

17

