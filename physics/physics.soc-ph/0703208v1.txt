7
0
0
2
 
r
a

M
 
2
2
 
 
]
h
p
-
c
o
s
.
s
c
i
s
y
h
p
[
 
 
1
v
8
0
2
3
0
7
0
/
s
c
i
s
y
h
p
:
v
i
X
r
a

Statistical properties of short term price
trends in high frequency stock market data

Pawe l Sieczka, Janusz A. Ho lyst ∗

Faculty of Physics, Center of Excellence for Complex Systems Research, Warsaw
University of Technology, Koszykowa 75, PL-00-662 Warsaw, Poland

Abstract

We investigated distributions of short term price trends for high frequency stock
market data. A number of trends as a function of their lengths was measured. We
found that such a distribution does not ﬁt to results following from an uncorre-
lated stochastic process. We proposed a simple model with a memory that gives a
qualitative agreement with real data.

Key words: Econophysics, Financial markets, Price trends
PACS: 89.65.Gh

1 Introduction

Statistical analysis of stock prices is a rich source of information about the
nature of ﬁnancial markets. It was Louis Bachelier who as the ﬁrst used a
stochastic approach to model ﬁnancial time series [1]. Since that time the
analysis has become a widely investigated area of interdisciplinary researches
[2,3,4].

In 1973, Fischer Black and Myron Scholes published their famous work [5]
where they presented a model for pricing European options. They assumed
that a price of an asset can be described by a geometric Brownian motion.
However, the behavior of real markets diﬀers from the Brownian property [6,7],
since the price returns form a truncated L´evy distribution [8,9,10]. As a result
of this observation many non-Gaussian models were introduced [11,12,13].

∗ Corresponding author. Tel.: +48 22 234 71 33; fax: +48 22 234 58 08

Email address: jholyst@if.pw.edu.pl (Janusz A. Ho lyst).

Preprint submitted to Elsevier

20 February 2014

Another divergence from Gaussian behavior is an autocorrelation in ﬁnancial
systems. Empirical studies show that the autocorrelation function of the stock
market time series decays exponentially with a characteristic time of a few
minutes, while the autocorrelation of prices absolute values decays slower, as
a power law function, what leads to a volatility clustering[14,15,16,17].

It has been observed [18] that for certain time scales a sequence of two positive
price changes leads more frequently to a subsequent positive change than a
sequence of mixed changes, i.e. the conditional probability P (+\ + +) is larger
than P (+\ + −). We will investigate this eﬀect hereafter.

2 Empirical data

In this paper we study short term price trends for high frequency stock market
data. By short term uptrend/downtrend we mean such a sequence of prices that
a price is larger/smaller than the preceding one (see below for a more precise
deﬁnition).

First, having a time series Yt, which is in our case a history of a stock price or
a market index, we build a series of variables st in the following way:

• st = 1 if Yt > Yt−1,
• st = −1 if Yt < Yt−1,
• st = st−1 if Yt = Yt−1.

A positive value of the variable st means that at the time t the price Yt did not
decrease, and similarly a negative value means that the price did not increase.

In a series st we can distinguish subseries of identical values. For a < b and
sa = sb = s, S(a, b, s) is such a subseries if and only if ∀c∈(a,b) sc = s. Subseries
S(a, b, s) can be identiﬁed with an uptrend lasting from t = a till t = b for s = 1
and with a downtrend for s = −1. The length l of such a uptrend/downtrend
equals to b − a + 1. Let us mention that a subseries of a length l includes two
subseries of length l − 1, three subseries of length l − 2 etc.

Let N(l) be a number of subseries of a length l with a ﬁxed s in a series
s1, ..., sM . If st were generated by an uncorrelated discrete stochastic process
with a probability P (st = 1) = p, then the expected value of N(l) would be
equal to:

N(l) = (M − l + 1)pl,
(1)
where M is a number of all elements in the basic series. Similarly the expected
value of downtrend series of length l is N(l) = (M − l + 1)(1 − p)l.

We have measured the distribution N(l) for real market data and the same

2

1e+06

10000

100

)
l
(

N

(a)

(b)

1e+06

10000

100

1

0

50

l

100

1

0

50

l

100

Fig. 1. Distribution N (l) for uptrends (a) and downtrends (b) for the WIG20 index
sampled every 15 seconds (circles), compared to uncorrelated process (line) eq. (1).

distribution for the corresponding uncorrelated process. Figure 1 presents this
distribution for the WIG20 index of Warsaw Stock Exchange (WSE) and
the same distribution for the corresponding uncorrelated process. The results
show a signiﬁcant diﬀerence between real data and the uncorrelated model.
If variables st were uncorrelated, there would not be subseries longer than
25 ticks. In fact, subseries even longer than 100 ticks are present. The trends
last for about 30 minutes. There are far more such trends than it would be if
the process were uncorrelated. The distribution N(l) was also calculated for
particular stocks from WSE, NYSE and NASDAQ (ﬁg. 2).

The observed diﬀerence between the uncorrelated model and the real mar-
kets is due to strong autocorrelations in the process st. It is only seen in high
frequency data. Choosing every n-th element of the series st weakens the auto-
correlations and makes the outcome approaching the uncorrelated model with
growing n. It is shown in ﬁg. 3.

3 A phenomenological model of correlated market prices

In real markets, variables st and st+τ are correlated although this correla-
tions decay very fast. Let r(k) stand for a conditional probability P (sn+k+1 =
1\sn+k = 1, ..., sn = 1, sn−1 = −1), which is independent of n. For processes
where autocorrelations are present we can write a generalization of equation
(1):

N(l + 1) = (M − l)p

r(i),

(2)

for l > 0 and N(1) = Mp.

l

Yi=1

3

(a)

(c)

(b)

(d)

50

100

150

50

100

150

200

250

300

1

0

100

200
l

300

400

100

200

400

500

600

300
l

Fig. 2. Distribution N (l) for: (a) BIOTON (WSE), (b) TPSA (WSE), (c) APPLE
(NYSE), (d) INTEL (NASDAQ). Uptrends are plotted with circles and downtrends
are plotted with squares. All data are sampled tick by tick. Lines correspond to the
uncorrelated process (1).

1e+06

10000

100

)
l
(

N

1

0

1e+06

10000

)
l
(

N

100

1e+06

10000

)
l
(

N

100

1
0

50

100

150

l

Fig. 3. N (l) of WIG20 uptrends for every n-th element of st, n=1 circles, n=2
squares, n=4 diamonds, n=6 triangles.

1e+06

10000

100

1e+06

10000

100

1

0

1

0

4

1e+06

(a)

(b)

10000

)
l
(

N

100

1

0

50

l

100

1

0

50

l

100

Fig. 4. The distribution N (l) with ﬁtted curve (2). (a) WIG20 (WSE) uptrends with
ﬁtted parameters: a = −0.000098, x1 = −48.28, x2 = 153.31, (b) TP S.A. company
(WSE) uptrends with ﬁtted parameters: a = −0.000057, x1 = −73.42, x2 = 184.35.

Let us see that the result (2) is equivalent to (1) if for any x there is r(x) = p. A
key issue is to model r(x) in order to describe characteristics of a given market.
The results presented in ﬁg. 1-2 show that the model of the uncorrelated
process (1), is a poor simpliﬁcation. To get a better consistency with real data
the function r(x) can be modelled as:

r(x) = a(x − x1)(x − x2),

(3)

with ﬁtted parameters a, x1 and x2. A binomial function was chosen because
we are looking for a simple concave function with a maximum, and a binomial
function matches our requirements for proper parameters a, x1, x2.

We expect that for small x, the probability value r(x) increases with x. It
means that when the trend starts forming, investors follow it and, as a result,
they amplify the trend. Thus, the probability of a continuation of the price
movement grows. As time goes by, some of them may want to withdraw to
take proﬁts and those who are out of the market believe it is to late to get in.
This causes a decrease of r(x) for a longer trend.

One can choose various functions to model the probability r(x). All such
functions should be concave functions with a maximum for a positive argument
smaller than the maximal length of all subseries. The ﬁgure 4 presents the
distribution N(l) with a ﬁtted curve based on (3).

Putting (3) into (2) we get after some algebra an approximated form of the
function N(l) as

N(l) ≃ (M − l + 1)pe−2(l−1)[a(l − x1)(l − x2)]l−1

×

(cid:18)

l − x1
1 − x1 (cid:19)

1−x1

l − x2
1 − x2 (cid:19)

(cid:18)

1−x2

.

(4)

The ﬁgure 5 presents functions (2) and (4) and a relative diﬀerence between
them.

1e+06

10000

100

5

(a)

(b)

1e+06

10000

)
l
(

N

100

1
0

0,4

0,2

d

0

-0,2

0

50

l

100

l

50

100

Fig. 5. Graph (a) presents the distribution N1(l) obtained from the equation (2) and
N2(l) from the approximation (4) for the WIG20 index (WSE). Graph (b) presents
the relative diﬀerence between them: d = (N2(l) − N1(l))/N2(l).

For a given set of parameters a+ = −0.000098, x+
2 = 153.31,
a− = −0.000101, x−
2 = 150.69, obtained for uptrends and
downtrends in the WIG20 index respectively, one can simulate the stochastic
process according to eq. (2, 3). The autocorrelation function

1 = −47.32, x−

1 = −48.28, x+

C(τ ) = hsi+τ sii,

(5)

calculated for such a process decrease similarly to the autocorrelation func-
tion received from empirical data see ﬁg. 6. The model reﬂects short range
correlations of the sign.

4 Conclusions

We have investigated short term price trends for high frequency stock market
data. It turned out that the statistics for real markets is signiﬁcantly diﬀerent
from the statistics of uncorrelated processes. Longer trends (of the order of
several minutes) are much more frequent than they should be, if one used an
uncorrelated model.

We proposed a simple model that qualitatively captures the behavior of the
market. Our model leads to a distribution of trend series N(l) that is similar
to the distribution observed in market data. Our model produces also short
range correlations. This behavior is caused by the conditional probability of

6

1

0,1

0,01

)
τ
(

C

0,001

0,0001

1e-05
0

100
τ

200

Fig. 6. The autocorrelation function obtained from eq. (5) for parameters
1 = −48.28, x+
a+ = −0.000098, x+
1 = −47.32,
x−
2 = 150.69 (line) and the index WIG20 itself (circles).

2 = 153.31, a− = −0.000101, x−

trend continuation that changes nonmonotonically with a trend length. At the
beginning of the trend, the probability of the trend continuation grows, then
it hits the maximum and ﬁnally decreases. As a result trends posses a limited
length.

Acknowledgments

This work as a project of the COST Action P10 ”Physics of Risk” was partially
supported by Polish Ministry of Science and Higher Education, Grant No.
134/E-365/SPB/COST/KN/DWM 105/2005-2007.

References

2186.

Issue 1-2.

[1] L. Bachelier, Theorie de la speculation, Ann. Sci. Ec. Norm. Super. 111117 (1890)

[2] K. Urbanowicz, J. A. Ho lyst, Phys. Rev. E 67 (2003) 046218

[3] Proceedings from the 4-th International Conference APFA4, Phys. A 344 (2004)

7

[4] Trends in Econophysics, Eur. Phys. J. B 55 (2007) 121-217.

[5] F. Black, M. Scholes, J. Political Economy 81 (1973) 637-654 .

[6] B. Mandelbrot, J. Business 36 (1963) 394419.

[7] E. F. Fama,, J. Business 38 (1965) 34105.

[8] R. N. Mantegna, H. E. Stanley, Phys. Rev. Lett. 73 (1994) 2946.

[9] R. N. Mantegna, H. E. Stanley, Phys. A 254 (1998) 77-84.

[10] L. Kullmann, J. T¨oyli, J. Kertesz, A. Kanto, K. Kaski, Phys. A 269 (1999)

98-110.

[11] L. Borland, Phys. Rev. Lett. 89 (2002) 098701.

[12] S. G. Kou, Manage. Sci. 48 (2002) 1086-1101.

[13] S. G. Kou, Manage. Sci. 50 (2004) 1178-1192.

[14] Y. Liu, P. Cizeau, M. Meyer, C.-K. Peng, H. E. Stanley, Phys. A 245 (1997)

437-440.

Rev. E 60, 1390.

Rev. E 60, 5305.

[15] Y. Liu, P. Gopikrishnan, P. Cizeau, M. Meyer, C.-K. Peng, H. E. Stanley, Phys.

[16] P. Gopikrishnan, V. Plerou, L. A. N. Amaral, M. Meyer, H. E. Stanley, Phys.

[17] A. Krawiecki, J. A. Ho lyst, D. Helbing, Phys. Rev. Lett. 89, 158701.

[18] E. F. Fama, J. Finance 25 (1970) 383.

8

